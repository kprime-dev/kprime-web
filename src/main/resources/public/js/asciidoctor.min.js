/*
 Asciidoctor.js 2.2.4-rc.1 | MIT | https://github.com/asciidoctor/asciidoctor.js
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(b){var r=0;return function(){return r<b.length?{done:!1,value:b[r++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};$jscomp.makeIterator=function(b){var r="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return r?r.call(b):$jscomp.arrayIterator(b)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,r,A){b!=Array.prototype&&b!=Object.prototype&&(b[r]=A.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,r,A,C){if(r){A=$jscomp.global;b=b.split(".");for(C=0;C<b.length-1;C++){var u=b[C];u in A||(A[u]={});A=A[u]}b=b[b.length-1];C=A[b];r=r(C);r!=C&&null!=r&&$jscomp.defineProperty(A,b,{configurable:!0,writable:!0,value:r})}};$jscomp.underscoreProtoCanBeSet=function(){var b={a:!0},r={};try{return r.__proto__=b,r.a}catch(A){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(b,r){b.__proto__=r;if(b.__proto__!==r)throw new TypeError(b+" is not extensible");return b}:null;$jscomp.polyfill("Object.setPrototypeOf",function(b){return b||$jscomp.setPrototypeOf},"es6","es5");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.Symbol=function(){var b=0;return function(r){return $jscomp.SYMBOL_PREFIX+(r||"")+b++}}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.asyncIterator;b||(b=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};
$jscomp.iteratorFromArray=function(b,r){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var A=0,C={next:function(){if(A<b.length){var u=A++;return{value:r(u,b[u]),done:!1}}C.next=function(){return{done:!0,value:void 0}};return C.next()}};C[Symbol.iterator]=function(){return C};return C};$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");
$jscomp.owns=function(b,r){return Object.prototype.hasOwnProperty.call(b,r)};$jscomp.assign="function"==typeof Object.assign?Object.assign:function(b,r){for(var A=1;A<arguments.length;A++){var C=arguments[A];if(C)for(var u in C)$jscomp.owns(C,u)&&(b[u]=C[u])}return b};$jscomp.polyfill("Object.assign",function(b){return b||$jscomp.assign},"es6","es3");$jscomp.polyfill("Number.EPSILON",function(b){return Math.pow(2,-52)},"es6","es3");
$jscomp.checkStringArgs=function(b,r,A){if(null==b)throw new TypeError("The 'this' value for String.prototype."+A+" must not be null or undefined");if(r instanceof RegExp)throw new TypeError("First argument to String.prototype."+A+" must not be a regular expression");return b+""};
$jscomp.polyfill("String.prototype.endsWith",function(b){return b?b:function(b,A){var r=$jscomp.checkStringArgs(this,b,"endsWith");b+="";void 0===A&&(A=r.length);A=Math.max(0,Math.min(A|0,r.length));for(var u=b.length;0<u&&0<A;)if(r[--A]!=b[--u])return!1;return 0>=u}},"es6","es3");$jscomp.polyfill("Object.is",function(b){return b?b:function(b,A){return b===A?0!==b||1/b===1/A:b!==b&&A!==A}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(b){return b?b:function(b,A){var r=this;r instanceof String&&(r=String(r));var u=r.length;A=A||0;for(0>A&&(A=Math.max(A+u,0));A<u;A++){var n=r[A];if(n===b||Object.is(n,b))return!0}return!1}},"es7","es3");$jscomp.polyfill("String.prototype.includes",function(b){return b?b:function(b,A){return-1!==$jscomp.checkStringArgs(this,b,"includes").indexOf(b,A||0)}},"es6","es3");
$jscomp.polyfill("String.prototype.repeat",function(b){return b?b:function(b){var r=$jscomp.checkStringArgs(this,null,"repeat");if(0>b||1342177279<b)throw new RangeError("Invalid count value");b|=0;for(var C="";b;)if(b&1&&(C+=r),b>>>=1)r+=r;return C}},"es6","es3");
$jscomp.polyfill("Array.from",function(b){return b?b:function(b,A,C){A=null!=A?A:function(b){return b};var u=[],n="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];if("function"==typeof n){b=n.call(b);for(var g=0;!(n=b.next()).done;)u.push(A.call(C,n.value,g++))}else for(n=b.length,g=0;g<n;g++)u.push(A.call(C,b[g],g));return u}},"es6","es3");
(function(b){function r(a,b,B){"string"===typeof a?a[b]=B:Object.defineProperty(a,b,{value:B,enumerable:!1,configurable:!0,writable:!0})}function A(a,b){if(a)return a.$$const[b]}function C(a,b){var c;if(null!=a){var v=l.ancestors(a);a=0;for(c=v.length;a<c;a++)if(v[a].$$const&&la.call(v[a].$$const,b))return v[a].$$const[b]}}function u(a,b,B){if(!B)return(a||K).$const_missing(b)}function n(a){return a.hasOwnProperty("$$iclass")&&a.hasOwnProperty("$$root")}function g(a){var b=G(a);a.$$is_module&&a.$$iclasses.push(b);
return b}function G(a){var b={},c=a.$$prototype;c.hasOwnProperty("$$dummy")&&(c=c.$$define_methods_on);var J=Object.getOwnPropertyNames(c),q=J.length,h;for(h=0;h<q;h++){var d=J[h];r(b,d,c[d])}r(b,"$$iclass",!0);r(b,"$$module",a);return b}function k(a){var b=a.length,c=a[0];r(c,"$$root",!0);if(1===b)return{first:c,last:c};for(var J=1;J<b;J++){var q=a[J];D(c,q);c=q}return{first:a[0],last:a[b-1]}}function E(a){if(!a.hasOwnProperty("$$dummy")){if(a.hasOwnProperty("$$iclass"))return a.$$module;if(a.hasOwnProperty("$$class"))return a.$$class}}
function w(a){return"function"===typeof a&&!a.$$stub}var t=this;"undefined"!==typeof global&&(t=global);"undefined"!==typeof window&&(t=window);var N="object"===typeof t.console?t.console:null==t.console?t.console={}:{};"log"in N||(N.log=function(){});"warn"in N||(N.warn=N.log);if("undefined"!==typeof t.Opal)return N.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),t.Opal;var M,K,x,l=this.Opal={};l.global=t;t.Opal=l;l.config={missing_require_severity:"error",unsupported_features_severity:"warning",
enable_stack_trace:!0};var la=Object.hasOwnProperty,P=Function.prototype.bind,D=Object.setPrototypeOf,I=Array.prototype.slice,ea=Array.prototype.splice,Y=4;l.uid=function(){return Y+=2};l.id=function(a){if(a.$$is_number)return 2*a+1;if(null!=a.$$id)return a.$$id;r(a,"$$id",l.uid());return a.$$id};l.gvars={};l.exit=function(a){l.gvars.DEBUG&&N.log("Exited with status "+a)};l.exceptions=[];l.pop_exception=function(){l.gvars["!"]=l.exceptions.pop()||a};l.inspect=function(a){return a===b?"undefined":
null===a?"null":a.$$class?a.$inspect():a.toString()};l.defineProperty=r;l.slice=I;l.truthy=function(b){return b!==a&&null!=b&&(!b.$$is_boolean||1==b)};l.falsy=function(b){return b===a||null==b||b.$$is_boolean&&0==b};l.const_get_local=function(a,b,B){if(null!=a){"::"===a&&(a=K);if(!a.$$is_module&&!a.$$is_class)throw new l.TypeError(a.toString()+" is not a class/module");var c=A(a,b);if(null!=c)return c;c=u(a,b,B);if(null!=c)return c}};l.const_get_qualified=function(a,b,B){var c,v=l.const_cache_version;
if(null!=a){"::"===a&&(a=K);if(!a.$$is_module&&!a.$$is_class)throw new l.TypeError(a.toString()+" is not a class/module");null==(c=a.$$const_cache)&&(r(a,"$$const_cache",Object.create(null)),c=a.$$const_cache);var h=c[b];null==h||h[0]!==v?(null!=(h=A(a,b))||null!=(h=C(a,b)),c[b]=[v,h]):h=h[1];return null!=h?h:u(a,b,B)}};l.const_cache_version=1;l.const_get_relative=function(a,b,B){var c=a[0],v=l.const_cache_version,h;null==(h=a.$$const_cache)&&(r(a,"$$const_cache",Object.create(null)),h=a.$$const_cache);
var d=h[b];if(null==d||d[0]!==v){var z;if(!(z=null!=(d=A(c,b)))){a:{if(0!==a.length)for(d=0,z=a.length;d<z;d++){var p=a[d].$$const[b];if(null!=p){a=p;break a}}a=void 0}z=null!=(d=a)}z||null!=(d=C(c,b))||(a=null==c||c.$$is_module?C(K,b):void 0,null!=(d=a));h[b]=[v,d]}else d=d[1];return null!=d?d:u(c,b,B)};l.const_set=function(b,v,B){if(null==b||"::"===b)b=K;if(B.$$is_a_module){if(null==B.$$name||B.$$name===a)B.$$name=v;null==B.$$base_module&&(B.$$base_module=b)}b.$$const=b.$$const||Object.create(null);
b.$$const[v]=B;b.$$=b.$$const;l.const_cache_version++;b===K&&(l[v]=B);r(b,v,B);return B};l.constants=function(a,b){null==b&&(b=!0);var c=[a],v,q={},h;b&&(c=c.concat(l.ancestors(a)));b&&a.$$is_module&&(c=c.concat([l.Object]).concat(l.ancestors(l.Object)));var d=0;for(v=c.length;d<v;d++){b=c[d];if(a!==K&&b==K)break;for(h in b.$$const)q[h]=!0}return Object.keys(q)};l.const_remove=function(b,v){l.const_cache_version++;if(null!=b.$$const[v]){var c=b.$$const[v];delete b.$$const[v];return c}if(null!=b.$$autoload&&
null!=b.$$autoload[v])return delete b.$$autoload[v],a;throw l.NameError.$new("constant "+b+"::"+b.$name()+" not defined");};l.allocate_class=function(a,b){var c=null!=b&&b.$$bridge?function(){var a=I.call(arguments);a=new (P.apply(b.$$constructor,[null].concat(a)));D(a,v.$$prototype);return a}:function(){};a&&r(c,"displayName","::"+a);var v=c;r(v,"$$name",a);r(v,"$$constructor",c);r(v,"$$prototype",c.prototype);r(v,"$$const",{});r(v,"$$is_class",!0);r(v,"$$is_a_module",!0);r(v,"$$super",b);r(v,"$$cvars",
{});r(v,"$$own_included_modules",[]);r(v,"$$own_prepended_modules",[]);r(v,"$$ancestors",[]);r(v,"$$ancestors_cache_version",null);r(v.$$prototype,"$$class",v);l.Class&&D(v,l.Class.prototype);null!=b&&(D(v.$$prototype,b.$$prototype),b.$$meta&&l.build_class_singleton_class(v));return v};l.klass=function(a,b,B){null==a?a=K:a.$$is_class||a.$$is_module||(a=a.$$class);if(null!=b&&!b.hasOwnProperty("$$is_class")){var c=b;b=K}var v;if(v=A(a,B)){if(!v.$$is_class)throw l.TypeError.$new(B+" is not a class");
}else v=void 0;if(v){if(b&&v.$$super!==b)throw l.TypeError.$new("superclass mismatch for class "+v.$$name);return v}null==b&&(b=K);v=l.allocate_class(B,b);l.const_set(a,B,v);b.$inherited&&b.$inherited(v);c&&l.bridge(c,v);return v};l.allocate_module=function(a){var b=function(){};a&&r(b,"displayName",a+".$$constructor");a&&r(b,"displayName",a+".constructor");r(b,"$$name",a);r(b,"$$prototype",b.prototype);r(b,"$$const",{});r(b,"$$is_module",!0);r(b,"$$is_a_module",!0);r(b,"$$cvars",{});r(b,"$$iclasses",
[]);r(b,"$$own_included_modules",[]);r(b,"$$own_prepended_modules",[]);r(b,"$$ancestors",[b]);r(b,"$$ancestors_cache_version",null);D(b,l.Module.prototype);return b};l.module=function(a,b){null==a?a=K:a.$$is_class||a.$$is_module||(a=a.$$class);var c=a;var v=A(c,b);null==v&&c===K&&(v=C(K,b));if(v&&!v.$$is_module&&v!==K)throw l.TypeError.$new(b+" is not a module");if(c=v)return c;c=l.allocate_module(b);l.const_set(a,b,c);return c};l.get_singleton_class=function(a){return a.$$meta?a.$$meta:a.hasOwnProperty("$$is_class")?
l.build_class_singleton_class(a):a.hasOwnProperty("$$is_module")?l.build_module_singletin_class(a):l.build_object_singleton_class(a)};l.build_class_singleton_class=function(a){if(a.$$meta)return a.$$meta;var b=a===M?x:l.get_singleton_class(a.$$super);b=l.allocate_class(null,b,function(){});r(b,"$$is_singleton",!0);r(b,"$$singleton_of",a);r(a,"$$meta",b);D(a,b.$$prototype);r(a,"$$class",l.Class);return b};l.build_module_singletin_class=function(a){if(a.$$meta)return a.$$meta;var b=l.allocate_class(null,
l.Module,function(){});r(b,"$$is_singleton",!0);r(b,"$$singleton_of",a);r(a,"$$meta",b);D(a,b.$$prototype);r(a,"$$class",l.Module);return b};l.build_object_singleton_class=function(b){var c=l.allocate_class(a,b.$$class,function(){});r(c,"$$is_singleton",!0);r(c,"$$singleton_of",b);delete c.$$prototype.$$class;r(b,"$$meta",c);D(b,b.$$meta.$$prototype);return c};l.is_method=function(a){return"$"===a[0]&&"$"!==a[1]};l.instance_methods=function(a){var b=[],c=[];a=l.ancestors(a);for(var J=0,q=a.length;J<
q;J++){var h=a[J].$$prototype;h.hasOwnProperty("$$dummy")&&(h=h.$$define_methods_on);for(var d=Object.getOwnPropertyNames(h),z=0,p=d.length;z<p;z++){var g=d[z];if(l.is_method(g)){var L=g.slice(1);g=h[g];g.$$stub&&-1===b.indexOf(L)&&b.push(L);g.$$stub||-1!==c.indexOf(L)||-1!==b.indexOf(L)||c.push(L)}}}return c};l.own_instance_methods=function(a){var b=[];a=a.$$prototype;a.hasOwnProperty("$$dummy")&&(a=a.$$define_methods_on);for(var c=Object.getOwnPropertyNames(a),J=0,q=c.length;J<q;J++){var h=c[J];
l.is_method(h)&&!a[h].$$stub&&(h=h.slice(1),b.push(h))}return b};l.methods=function(a){return l.instance_methods(l.get_singleton_class(a))};l.own_methods=function(a){return l.own_instance_methods(l.get_singleton_class(a))};l.receiver_methods=function(a){var b=l.get_singleton_class(a);a=l.own_instance_methods(b);b=l.own_instance_methods(b.$$super);return a.concat(b)};l.class_variables=function(a){a=l.ancestors(a);var b,c={};for(b=a.length-1;0<=b;b--){var J=a[b],q;for(q in J.$$cvars)c[q]=J.$$cvars[q]}return c};
l.class_variable_set=function(a,b,B){var c=l.ancestors(a),v;for(v=c.length-2;0<=v;v--){var h=c[v];if(la.call(h.$$cvars,b))return h.$$cvars[b]=B}return a.$$cvars[b]=B};l.append_features=function(a,b){var c=l.ancestors(a),v=[];if(-1!==c.indexOf(b))throw l.ArgumentError.$new("cyclic include detected");for(var q=0,h=c.length;q<h;q++){var d=g(c[q]);r(d,"$$included",!0);v.push(d)}c=l.ancestors(b);v=k(v);if(-1===c.indexOf(a))a=b.$$prototype,c=Object.getPrototypeOf(b.$$prototype);else{c=b.$$prototype;for(q=
Object.getPrototypeOf(c);null!=q&&(!n(q)||q.$$module!==a);)c=q,q=Object.getPrototypeOf(q);for(q=Object.getPrototypeOf(q);q.hasOwnProperty("$$iclass")&&!n(q);)q=Object.getPrototypeOf(q);a=c;c=q}D(a,v.first);D(v.last,c);a=[];for(c=Object.getPrototypeOf(b.$$prototype);c&&!c.hasOwnProperty("$$class");)(v=E(c))&&a.push(v),c=Object.getPrototypeOf(c);b.$$own_included_modules=a;l.const_cache_version++};l.prepend_features=function(a,b){var c=l.ancestors(a),v=[];if(-1!==c.indexOf(b))throw l.ArgumentError.$new("cyclic prepend detected");
for(var q=0,h=c.length;q<h;q++){var d=g(c[q]);r(d,"$$prepended",!0);v.push(d)}c=k(v);q=b.$$prototype;h=Object.getPrototypeOf(q);if(q.hasOwnProperty("$$dummy"))v=q.$$define_methods_on;else{v=G(b);d=b.$$prototype;for(var z=Object.getOwnPropertyNames(d),p=0;p<z.length;p++){var S=z[p];l.is_method(S)&&delete d[S]}r(q,"$$dummy",!0);r(q,"$$define_methods_on",v);D(q,v);D(v,h)}if(-1===l.ancestors(b).indexOf(a))for(a=q,q=Object.getPrototypeOf(q);null!=q&&!q.hasOwnProperty("$$root")&&q!==v&&q.hasOwnProperty("$$iclass");)q=
Object.getPrototypeOf(q);else throw l.RuntimeError.$new("Prepending a module multiple times is not supported");D(a,c.first);D(c.last,q);a=[];v=Object.getPrototypeOf(b.$$prototype);if(b.$$prototype.hasOwnProperty("$$dummy"))for(;v&&v!==b.$$prototype.$$define_methods_on;)(c=E(v))&&a.push(c),v=Object.getPrototypeOf(v);b.$$own_prepended_modules=a;l.const_cache_version++};l.bridge=function(a,b){if(a.hasOwnProperty("$$bridge"))throw l.ArgumentError.$new("already bridged");r(a,"$$bridge",b);D(a.prototype,
(b.$$super||l.Object).$$prototype);r(b,"$$prototype",a.prototype);r(b.$$prototype,"$$class",b);r(b,"$$constructor",a);r(b,"$$bridge",!0)};l.ancestors=function(a){if(!a)return[];if(a.$$ancestors_cache_version===l.const_cache_version)return a.$$ancestors;var b=[],c;var J=0;var q=a.$$own_prepended_modules.concat([a]).concat(a.$$own_included_modules);for(c=q.length;J<c;J++)b.push(q[J]);if(a.$$super)for(J=0,q=l.ancestors(a.$$super),c=q.length;J<c;J++)b.push(q[J]);a.$$ancestors_cache_version=l.const_cache_version;
return a.$$ancestors=b};l.included_modules=function(a){for(var b=[],c=Object.getPrototypeOf(a.$$prototype);c&&Object.getPrototypeOf(c);c=Object.getPrototypeOf(c))(a=E(c))&&a.$$is_module&&c.$$iclass&&c.$$included&&b.push(a);return b};l.add_stubs=function(a){for(var b=l.BasicObject.$$prototype,c=0,J=a.length;c<J;c++){var q=a[c],h=b[q];(null==h||h.$$stub)&&l.add_stub_for(b,q)}};l.add_stub_for=function(a,b){var c=l.stub_for(b);r(a,b,c)};l.stub_for=function(a){function b(){this.$method_missing.$$p=b.$$p;
b.$$p=null;for(var c=Array(arguments.length),v=0,q=c.length;v<q;v++)c[v]=arguments[v];return this.$method_missing.apply(this,[a.slice(1)].concat(c))}b.$$stub=!0;return b};l.ac=function(a,b,B,J){var c="";c=B.$$is_a_module?c+(B.$$name+"."):c+(B.$$class.$$name+"#");throw l.ArgumentError.$new("["+(c+J)+"] wrong number of arguments("+a+" for "+b+")");};l.block_ac=function(a,b,B){throw l.ArgumentError.$new("`block in "+B+"': wrong number of arguments ("+a+" for "+b+")");};l.find_super_dispatcher=function(a,
b,B,J,q){q="$"+b;var c;var d=a.hasOwnProperty("$$meta")?l.ancestors(a.$$meta):l.ancestors(a.$$class);for(B=d.indexOf(B.$$owner)+1;B<d.length;B++){var v=d[B].$$prototype;v.hasOwnProperty("$$dummy")&&(v=v.$$define_methods_on);if(v.hasOwnProperty(q)){q=v[q];q.$$stub||(c=q);break}}if(!J&&null==c&&l.Kernel.$method_missing===a.$method_missing)throw l.NoMethodError.$new("super: no superclass method `"+b+"' for "+a,b);return c};l.find_iter_super_dispatcher=function(a,b,B,J,q){if(!B)throw l.RuntimeError.$new("super called outside of method");
if(q&&B.$$define_meth)throw l.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");B.$$def&&(b=B.$$jsid);return l.find_super_dispatcher(a,b,B,J)};l.ret=function(a){l.returner.$v=a;throw l.returner;};l.brk=function(a,b){b.$v=a;throw b;};l.new_brk=function(){return Error("unexpected break")};l.yield1=function(a,b){if("function"!==typeof a)throw l.LocalJumpError.$new("no block given");var c=a.$$has_top_level_mlhs_arg,
v=a.$$has_trailing_comma_in_args;if(1<a.length||(c||v)&&1===a.length)b=l.to_ary(b);return(1<a.length||v&&1===a.length)&&b.$$is_array?a.apply(null,b):a(b)};l.yieldX=function(a,b){if("function"!==typeof a)throw l.LocalJumpError.$new("no block given");if(1<a.length&&1===b.length&&b[0].$$is_array)return a.apply(null,b[0]);if(!b.$$is_array){for(var c=Array(b.length),v=0,q=c.length;v<q;v++)c[v]=b[v];return a.apply(null,c)}return a.apply(null,b)};l.rescue=function(a,b){for(var c=0;c<b.length;c++){var v=
b[c];if(v.$$is_array){if(v=l.rescue(a,v))return v}else if(v===l.JS.Error||v["$==="](a))return v}return null};l.is_a=function(a,b){if(null!=b&&a.$$meta===b||a.$$class===b||a.$$is_number&&b.$$is_number_class)return!0;var c,v=l.ancestors(a.$$is_class?l.get_singleton_class(a):a.$$meta||a.$$class);a=0;for(c=v.length;a<c;a++)if(v[a]===b)return!0;return!1};l.to_hash=function(a){if(a.$$is_hash)return a;if(a["$respond_to?"]("to_hash",!0)){var b=a.$to_hash();if(b.$$is_hash)return b;throw l.TypeError.$new("Can't convert "+
a.$$class+" to Hash ("+a.$$class+"#to_hash gives "+b.$$class+")");}throw l.TypeError.$new("no implicit conversion of "+a.$$class+" into Hash");};l.to_ary=function(b){if(b.$$is_array)return b;if(b["$respond_to?"]("to_ary",!0)){var c=b.$to_ary();if(c===a)return[b];if(c.$$is_array)return c;throw l.TypeError.$new("Can't convert "+b.$$class+" to Array ("+b.$$class+"#to_ary gives "+c.$$class+")");}return[b]};l.to_a=function(b){if(b.$$is_array)return b.slice();if(b["$respond_to?"]("to_a",!0)){var c=b.$to_a();
if(c===a)return[b];if(c.$$is_array)return c;throw l.TypeError.$new("Can't convert "+b.$$class+" to Array ("+b.$$class+"#to_a gives "+c.$$class+")");}return[b]};l.extract_kwargs=function(a){var b=a[a.length-1];return null!=b&&b["$respond_to?"]("to_hash",!0)?(ea.call(a,a.length-1,1),b.$to_hash()):l.hash2([],{})};l.kwrestargs=function(a,b){var c=[],v={},q=null;a=a.$$smap;for(q in a)b[q]||(c.push(q),v[q]=a[q]);return l.hash2(c,v)};l.send=function(a,b,B,J){var c="string"===typeof b?a["$"+b]:b;return null!=
c?("function"===typeof J&&(c.$$p=J),c.apply(a,B)):a.$method_missing.apply(a,[b].concat(B))};l.lambda=function(a){a.$$is_lambda=!0;return a};l.def=function(a,b,B){a===l.top?l.defn(l.Object,b,B):!a.$$eval&&a.$$is_a_module?l.defn(a,b,B):l.defs(a,b,B)};l.defn=function(a,b,B){B.displayName=b;B.$$owner=a;var c=a.$$prototype;c.hasOwnProperty("$$dummy")&&(c=c.$$define_methods_on);r(c,b,B);if(a.$$is_module){a.$$module_function&&l.defs(a,b,B);c=0;for(var q=a.$$iclasses,h=q.length;c<h;c++)r(q[c],b,B)}B=a.$$singleton_of;
!a.$method_added||a.$method_added.$$stub||B?B&&B.$singleton_method_added&&!B.$singleton_method_added.$$stub&&B.$singleton_method_added(b.substr(1)):a.$method_added(b.substr(1))};l.defs=function(a,b,B){if(a.$$is_string||a.$$is_number)throw l.TypeError.$new("can't define singleton");l.defn(l.get_singleton_class(a),b,B)};l.rdef=function(a,b){if(!la.call(a.$$prototype,b))throw l.NameError.$new("method '"+b.substr(1)+"' not defined in "+a.$name());delete a.$$prototype[b];a.$$is_singleton?a.$$prototype.$singleton_method_removed&&
!a.$$prototype.$singleton_method_removed.$$stub&&a.$$prototype.$singleton_method_removed(b.substr(1)):a.$method_removed&&!a.$method_removed.$$stub&&a.$method_removed(b.substr(1))};l.udef=function(a,b){if(!a.$$prototype[b]||a.$$prototype[b].$$stub)throw l.NameError.$new("method '"+b.substr(1)+"' not defined in "+a.$name());l.add_stub_for(a.$$prototype,b);a.$$is_singleton?a.$$prototype.$singleton_method_undefined&&!a.$$prototype.$singleton_method_undefined.$$stub&&a.$$prototype.$singleton_method_undefined(b.substr(1)):
a.$method_undefined&&!a.$method_undefined.$$stub&&a.$method_undefined(b.substr(1))};l.alias=function(a,b,B){var c="$"+b,q="$"+B,h=a.$$prototype["$"+B];if(a.$$eval)return l.alias(l.get_singleton_class(a),b,B);if(!w(h)){for(var d=a.$$super;"function"!==typeof h&&d;)h=d[q],d=d.$$super;!w(h)&&a.$$is_module&&(h=l.Object.$$prototype[q]);if(!w(h))throw l.NameError.$new("undefined method `"+B+"' for class `"+a.$name()+"'");}h.$$alias_of&&(h=h.$$alias_of);var v=function(){var a=v.$$p,b;var d=Array(arguments.length);
var c=0;for(b=arguments.length;c<b;c++)d[c]=arguments[c];null!=a&&(v.$$p=null);return l.send(this,h,d,a)};v.displayName=b;v.length=h.length;v.$$arity=h.$$arity;v.$$parameters=h.$$parameters;v.$$source_location=h.$$source_location;v.$$alias_of=h;v.$$alias_name=b;l.defn(a,c,v);return a};l.alias_native=function(a,b,B){b="$"+b;var c=a.$$prototype[B];if("function"!==typeof c||c.$$stub)throw l.NameError.$new("undefined native method `"+B+"' for class `"+a.$name()+"'");l.defn(a,b,c);return a};l.hash_init=
function(a){a.$$smap=Object.create(null);a.$$map=Object.create(null);a.$$keys=[]};l.hash_clone=function(a,b){b.$$none=a.$$none;b.$$proc=a.$$proc;var c=0,v=a.$$keys;a=a.$$smap;for(var q=v.length,h,d;c<q;c++)h=v[c],h.$$is_string?d=a[h]:(d=h.value,h=h.key),l.hash_put(b,h,d)};l.hash_put=function(a,v,B){if(v.$$is_string)la.call(a.$$smap,v)||a.$$keys.push(v),a.$$smap[v]=B;else{var c;var q=a.$$by_identity?l.id(v):v.$hash();if(la.call(a.$$map,q)){for(c=a.$$map[q];c;){if(v===c.key||v["$eql?"](c.key)){var h=
b;c.value=B;break}h=c;c=c.next}h&&(c={key:v,key_hash:q,value:B},a.$$keys.push(c),h.next=c)}else c={key:v,key_hash:q,value:B},a.$$keys.push(c),a.$$map[q]=c}};l.hash_get=function(a,b){if(b.$$is_string){if(la.call(a.$$smap,b))return a.$$smap[b]}else{var c=a.$$by_identity?l.id(b):b.$hash();if(la.call(a.$$map,c))for(a=a.$$map[c];a;){if(b===a.key||b["$eql?"](a.key))return a.value;a=a.next}}};l.hash_delete=function(a,b){var c,v=a.$$keys,q=v.length;if(b.$$is_string){if(!la.call(a.$$smap,b))return;for(c=0;c<
q;c++)if(v[c]===b){v.splice(c,1);break}var h=a.$$smap[b];delete a.$$smap[b];return h}var d=b.$hash();if(la.call(a.$$map,d))for(var z=a.$$map[d],p;z;){if(b===z.key||b["$eql?"](z.key)){h=z.value;for(c=0;c<q;c++)if(v[c]===z){v.splice(c,1);break}p&&z.next?p.next=z.next:p?delete p.next:z.next?a.$$map[d]=z.next:delete a.$$map[d];return h}p=z;z=z.next}};l.hash_rehash=function(a){for(var c=0,B=a.$$keys.length,l,q,h;c<B;c++)if(!a.$$keys[c].$$is_string&&(l=a.$$keys[c].key.$hash(),l!==a.$$keys[c].key_hash)){q=
a.$$map[a.$$keys[c].key_hash];for(h=b;q;){if(q===a.$$keys[c]){h&&q.next?h.next=q.next:h?delete h.next:q.next?a.$$map[a.$$keys[c].key_hash]=q.next:delete a.$$map[a.$$keys[c].key_hash];break}h=q;q=q.next}a.$$keys[c].key_hash=l;if(la.call(a.$$map,l)){q=a.$$map[l];for(h=b;q;){if(q===a.$$keys[c]){h=b;break}h=q;q=q.next}h&&(h.next=a.$$keys[c])}else a.$$map[l]=a.$$keys[c]}};l.hash=function(){var a=arguments.length,b;if(1===a&&arguments[0].$$is_hash)return arguments[0];var B=new l.Hash;l.hash_init(B);if(1===
a&&arguments[0].$$is_array){a=arguments[0];var J=a.length;for(b=0;b<J;b++){if(2!==a[b].length)throw l.ArgumentError.$new("value not of length 2: "+a[b].$inspect());var q=a[b][0];var h=a[b][1];l.hash_put(B,q,h)}return B}if(1===a){a=arguments[0];for(q in a)la.call(a,q)&&(h=a[q],l.hash_put(B,q,h));return B}if(0!==a%2)throw l.ArgumentError.$new("odd number of arguments for Hash");for(b=0;b<a;b+=2)q=arguments[b],h=arguments[b+1],l.hash_put(B,q,h);return B};l.hash2=function(a,b){var c=new l.Hash;c.$$smap=
b;c.$$map=Object.create(null);c.$$keys=a;return c};l.range=function(a,b,B){var c=new l.Range;c.begin=a;c.end=b;c.excl=B;return c};l.ivar=function(a){return"constructor"===a||"displayName"===a||"__count__"===a||"__noSuchMethod__"===a||"__parent__"===a||"__proto__"===a||"hasOwnProperty"===a||"valueOf"===a?a+"$":a};l.escape_regexp=function(a){return a.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")};l.global_regexp=
function(a){if(a.global)return a;null==a.$$g?a.$$g=new RegExp(a.source,(a.multiline?"gm":"g")+(a.ignoreCase?"i":"")):a.$$g.lastIndex=null;return a.$$g};l.global_multiline_regexp=function(a){if(a.multiline){if(a.global)return a;a=null!=a.$$g?a.$$g:a.$$g=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""))}else a=null!=a.$$gm?a.$$gm:a.$$gm=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));a.lastIndex=null;return a};l.modules={};l.loaded_features=["corelib/runtime"];l.current_dir=".";l.require_table={"corelib/runtime":!0};
l.normalize=function(a){var b=[];"."!==l.current_dir&&(a=l.current_dir.replace(/\/*$/,"/")+a);a=a.replace(/^\.\//,"");a=a.replace(/\.(rb|opal|js)$/,"");a=a.split("/");for(var c=0,J=a.length;c<J;c++){var q=a[c];""!==q&&(".."===q?b.pop():b.push(q))}return b.join("/")};l.loaded=function(a){var b;var c=0;for(b=a.length;c<b;c++){var J=l.normalize(a[c]);l.require_table[J]||(l.loaded_features.push(J),l.require_table[J]=!0)}};l.load=function(a){a=l.normalize(a);l.loaded([a]);var b=l.modules[a];if(b)b(l);
else{b=l.config.missing_require_severity;a="cannot load such file -- "+a;if("error"===b){if(l.LoadError)throw l.LoadError.$new(a);throw a;}"warning"===b&&N.warn("WARNING: LoadError: "+a)}return!0};l.require=function(a){a=l.normalize(a);return l.require_table[a]?!1:l.load(a)};l.encodings=Object.create(null);l.set_encoding=function(a,b){if("string"===typeof a)throw l.FrozenError.$new("can't modify frozen String");b=l.encodings[b];if(b===a.encoding)return a;a.encoding=b;return a};l.enc=function(a,b){a=
new String(a);l.set_encoding(a,b);a.internal_encoding=a.encoding;return a};l.BasicObject=M=l.allocate_class("BasicObject",null,function(){});l.Object=K=l.allocate_class("Object",l.BasicObject,function(){});l.Module=t=l.allocate_class("Module",l.Object,function(){});l.Class=x=l.allocate_class("Class",l.Module,function(){});D(l.BasicObject,l.Class.$$prototype);D(l.Object,l.Class.$$prototype);D(l.Module,l.Class.$$prototype);D(l.Class,l.Class.$$prototype);M.$$const.BasicObject=M;l.const_set(K,"BasicObject",
M);l.const_set(K,"Object",K);l.const_set(K,"Module",t);l.const_set(K,"Class",x);M.$$class=x;K.$$class=x;t.$$class=x;x.$$class=x;r(K.$$prototype,"toString",function(){var a=this.$to_s();return a.$$is_string&&"object"===typeof a?a.valueOf():a});r(K.$$prototype,"$require",l.require);l.$$=K.$$;l.top=new K;l.top.$to_s=l.top.$inspect=function(){return"main"};l.NilClass=l.allocate_class("NilClass",l.Object,function(){});l.const_set(K,"NilClass",l.NilClass);var a=l.nil=new l.NilClass;a.$$id=4;a.call=a.apply=
function(){throw l.LocalJumpError.$new("no block given");};l.breaker=Error("unexpected break (old)");l.returner=Error("unexpected return");TypeError.$$super=Error}).call(this);Opal.loaded(["corelib/runtime.js"]);
Opal.modules["corelib/helpers"]=function(b){var r=[],A=b.nil,C=b.const_get_relative,u=b.module,n=b.truthy;b.add_stubs("$new $class $=== $respond_to? $raise $type_error $__send__ $coerce_to $nil? $<=> $coerce_to! $!= $[] $upcase".split(" "));return function(g,r){g=u(g,"Opal");var k=[g].concat(r),E,w,t,N,M,K,x,l,G,P,D,I,ea,Y;b.defs(g,"$bridge",E=function(a,c){return b.bridge(a,c)},E.$$arity=2);b.defs(g,"$type_error",w=function(a,b,v,B){var c;null==v&&(v=A);null==B&&(B=A);return n(n(c=v)?B:c)?C(k,"TypeError").$new("can't convert "+
a.$class()+" into "+b+" ("+a.$class()+"#"+v+" gives "+B.$class()+")"):C(k,"TypeError").$new("no implicit conversion of "+a.$class()+" into "+b)},w.$$arity=-3);b.defs(g,"$coerce_to",t=function(a,b,v){if(n(b["$==="](a)))return a;n(a["$respond_to?"](v))||this.$raise(this.$type_error(a,b));return a.$__send__(v)},t.$$arity=3);b.defs(g,"$coerce_to!",N=function(a,b,v){var c=this.$coerce_to(a,b,v);n(b["$==="](c))||this.$raise(this.$type_error(a,b,v,c));return c},N.$$arity=3);b.defs(g,"$coerce_to?",M=function(a,
b,v){if(!n(a["$respond_to?"](v)))return A;var c=this.$coerce_to(a,b,v);if(n(c["$nil?"]()))return A;n(b["$==="](c))||this.$raise(this.$type_error(a,b,v,c));return c},M.$$arity=3);b.defs(g,"$try_convert",K=function(a,b,v){return n(b["$==="](a))?a:n(a["$respond_to?"](v))?a.$__send__(v):A},K.$$arity=3);b.defs(g,"$compare",x=function(a,b){var c=a["$<=>"](b);n(c===A)&&this.$raise(C(k,"ArgumentError"),"comparison of "+a.$class()+" with "+b.$class()+" failed");return c},x.$$arity=2);b.defs(g,"$destructure",
l=function(a){if(1==a.length)return a[0];if(a.$$is_array)return a;for(var b=Array(a.length),v=0,B=b.length;v<B;v++)b[v]=a[v];return b},l.$$arity=1);b.defs(g,"$respond_to?",G=function(a,b,v){null==v&&(v=!1);return null!=a&&a.$$class?a["$respond_to?"](b,v):!1},G.$$arity=-3);b.defs(g,"$inspect_obj",P=function(a){return b.inspect(a)},P.$$arity=1);b.defs(g,"$instance_variable_name!",D=function(a){a=C(k,"Opal")["$coerce_to!"](a,C(k,"String"),"to_str");n(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(a))||this.$raise(C(k,
"NameError").$new("'"+a+"' is not allowed as an instance variable name",a));return a},D.$$arity=1);b.defs(g,"$class_variable_name!",I=function(a){a=C(k,"Opal")["$coerce_to!"](a,C(k,"String"),"to_str");n(3>a.length||"@@"!==a.slice(0,2))&&this.$raise(C(k,"NameError").$new("`"+a+"' is not allowed as a class variable name",a));return a},I.$$arity=1);b.defs(g,"$const_name!",ea=function(a){a=C(k,"Opal")["$coerce_to!"](a,C(k,"String"),"to_str");n(a["$[]"](0)["$!="](a["$[]"](0).$upcase()))&&this.$raise(C(k,
"NameError"),"wrong constant name "+a);return a},ea.$$arity=1);b.defs(g,"$pristine",Y=function(a,c){var v=b.slice.call(arguments,1,arguments.length);for(var B,l=v.length-1;0<=l;l--)B=v[l],(B=a.$$prototype["$"+B])&&!B.$$stub&&(B.$$pristine=!0);return A},Y.$$arity=-2)}(r[0],r)};
Opal.modules["corelib/module"]=function(b){function r(b,g){return"number"===typeof b&&"number"===typeof g?b<g:b["$<"](g)}var A=[],C=b.nil,u=b.const_get_qualified,n=b.const_get_relative,g=b.klass,G=b.send,k=b.truthy,E=b.lambda,w=b.range,t=b.hash2;b.add_stubs("$module_eval $to_proc $=== $raise $equal? $< $> $nil? $attr_reader $attr_writer $class_variable_name! $new $const_name! $=~ $inject $split $const_get $== $!~ $start_with? $bind $call $class $append_features $included $name $cover? $size $merge $compile $proc $any? $prepend_features $prepended $to_s $__id__ $constants $include? $copy_class_variables $copy_constants".split(" "));
return function(N,$super,K){N=g(N,$super,"Module");var x=[N].concat(K),l,A,P,D,I,ea,Y,a,c,v,B,J,q,h,d,z,p,S,L,m,e,f,U,T,ia,V,R,ca,y,fa,Z,ra,sa,oa,pa,ba,X,za,Na,Ca,ya,xa,ka,W,ma,aa,Ga,ta,Oa,na,ja,Pa,Va,Ua,ab,ha,ua,da;b.defs(N,"$allocate",l=function(){var a=b.allocate_module(C,function(){});this!==b.Module&&Object.setPrototypeOf(a,this.$$prototype);return a},l.$$arity=0);b.def(N,"$initialize",A=function(){var a=A.$$p,b=a||C;a&&(A.$$p=null);a&&(A.$$p=null);return b!==C?G(this,"module_eval",[],b.$to_proc()):
C},A.$$arity=0);b.def(N,"$===",P=function(a){return k(null==a)?!1:b.is_a(a,this)},P.$$arity=1);b.def(N,"$<",D=function(a){k(n(x,"Module")["$==="](a))||this.$raise(n(x,"TypeError"),"compared with non class/module");var d;if(this===a)return!1;var e=0;var f=b.ancestors(this);for(d=f.length;e<d;e++)if(f[e]===a)return!0;e=0;f=b.ancestors(a);for(d=f.length;e<d;e++)if(f[e]===this)return!1;return C},D.$$arity=1);b.def(N,"$<=",I=function(a){var b;return k(b=this["$equal?"](a))?b:r(this,a)},I.$$arity=1);b.def(N,
"$>",ea=function(a){k(n(x,"Module")["$==="](a))||this.$raise(n(x,"TypeError"),"compared with non class/module");return r(a,this)},ea.$$arity=1);b.def(N,"$>=",Y=function(a){var b;return k(b=this["$equal?"](a))?b:"number"===typeof this&&"number"===typeof a?this>a:this["$>"](a)},Y.$$arity=1);b.def(N,"$<=>",a=function(a){if(this===a)return 0;if(!k(n(x,"Module")["$==="](a)))return C;a=r(this,a);return k(a["$nil?"]())?C:k(a)?-1:1},a.$$arity=1);b.def(N,"$alias_method",c=function(a,d){b.alias(this,a,d);return this},
c.$$arity=2);b.def(N,"$alias_native",v=function(a,d){null==d&&(d=a);b.alias_native(this,a,d);return this},v.$$arity=-2);b.def(N,"$ancestors",B=function(){return b.ancestors(this)},B.$$arity=0);b.def(N,"$append_features",J=function(a){b.append_features(this,a);return this},J.$$arity=1);b.def(N,"$attr_accessor",q=function(a){var d=b.slice.call(arguments,0,arguments.length);G(this,"attr_reader",b.to_a(d));return G(this,"attr_writer",b.to_a(d))},q.$$arity=-1);b.alias(N,"attr","attr_accessor");b.def(N,
"$attr_reader",h=function(a){var d=b.slice.call(arguments,0,arguments.length);for(var e=this.$$prototype,f=d.length-1;0<=f;f--){var c=d[f],m="$"+c;c=b.ivar(c);var p=function(a){return function(){return null==this[a]?C:this[a]}}(c);b.defineProperty(e,c,C);p.$$parameters=[];p.$$arity=0;b.defn(this,m,p)}return C},h.$$arity=-1);b.def(N,"$attr_writer",d=function(a){var d=b.slice.call(arguments,0,arguments.length);for(var e=this.$$prototype,f=d.length-1;0<=f;f--){var c=d[f],m="$"+c+"=";c=b.ivar(c);var p=
function(a){return function(b){return this[a]=b}}(c);p.$$parameters=[["req"]];p.$$arity=1;b.defineProperty(e,c,C);b.defn(this,m,p)}return C},d.$$arity=-1);b.def(N,"$autoload",z=function(a,d){null==this.$$autoload&&(this.$$autoload={});b.const_cache_version++;this.$$autoload[a]=d;return C},z.$$arity=2);b.def(N,"$class_variables",p=function(){return Object.keys(b.class_variables(this))},p.$$arity=0);b.def(N,"$class_variable_get",S=function(a){a=n(x,"Opal")["$class_variable_name!"](a);var d=b.class_variables(this)[a];
null==d&&this.$raise(n(x,"NameError").$new("uninitialized class variable "+a+" in "+this,a));return d},S.$$arity=1);b.def(N,"$class_variable_set",L=function(a,d){a=n(x,"Opal")["$class_variable_name!"](a);return b.class_variable_set(this,a,d)},L.$$arity=2);b.def(N,"$class_variable_defined?",m=function(a){a=n(x,"Opal")["$class_variable_name!"](a);return b.class_variables(this).hasOwnProperty(a)},m.$$arity=1);b.def(N,"$remove_class_variable",e=function(a){a=n(x,"Opal")["$class_variable_name!"](a);if(b.hasOwnProperty.call(this.$$cvars,
a)){var d=this.$$cvars[a];delete this.$$cvars[a];return d}this.$raise(n(x,"NameError"),"cannot remove "+a+" for "+this)},e.$$arity=1);b.def(N,"$constants",f=function(a){null==a&&(a=!0);return b.constants(this,a)},f.$$arity=-1);b.defs(N,"$constants",U=function(a){if(null==a){a=(this.$$nesting||[]).concat(b.Object);var d,e={},f;var c=0;for(f=a.length;c<f;c++)for(d in a[c].$$const)e[d]=!0;return Object.keys(e)}return b.constants(this,a)},U.$$arity=-1);b.defs(N,"$nesting",T=function(){return this.$$nesting||
[]},T.$$arity=0);b.def(N,"$const_defined?",ia=function(a,d){null==d&&(d=!0);a=n(x,"Opal")["$const_name!"](a);k(a["$=~"](u(n(x,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(n(x,"NameError").$new("wrong constant name "+a,a));var e=[this],f;d&&(e=e.concat(b.ancestors(this)),this.$$is_module&&(e=e.concat([b.Object]).concat(b.ancestors(b.Object))));var c=0;for(f=e.length;c<f;c++)if(d=e[c],null!=d.$$const[a])return!0;return!1},ia.$$arity=-2);b.def(N,"$const_get",V=function(a,d){var e;null==d&&(d=!0);a=n(x,
"Opal")["$const_name!"](a);0===a.indexOf("::")&&"::"!==a&&(a=a.slice(2));if(k(-1!=a.indexOf("::")&&"::"!=a))return G(a.$split("::"),"inject",[this],(e=function(a,b){null==a&&(a=C);null==b&&(b=C);return a.$const_get(b)},e.$$s=this,e.$$arity=2,e));k(a["$=~"](u(n(x,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(n(x,"NameError").$new("wrong constant name "+a,a));return d?n([this],a):b.const_get_local(this,a)},V.$$arity=-2);b.def(N,"$const_missing",R=function(a){var b;if(this.$$autoload&&(b=this.$$autoload[a]))return this.$require(b),
this.$const_get(a);b=this["$=="](n(x,"Object"))?a:""+this+"::"+a;return this.$raise(n(x,"NameError").$new("uninitialized constant "+b,a))},R.$$arity=1);b.def(N,"$const_set",ca=function(a,d){var e;a=n(x,"Opal")["$const_name!"](a);k(k(e=a["$!~"](u(n(x,"Opal"),"CONST_NAME_REGEXP")))?e:a["$start_with?"]("::"))&&this.$raise(n(x,"NameError").$new("wrong constant name "+a,a));b.const_set(this,a,d);return d},ca.$$arity=2);b.def(N,"$public_constant",y=function(a){return C},y.$$arity=1);b.def(N,"$define_method",
fa=function(a,d){var e=fa.$$p,f=e||C,c,m,p=this,h=C;e&&(fa.$$p=null);e&&(fa.$$p=null);k(void 0===d&&f===C)&&p.$raise(n(x,"ArgumentError"),"tried to create a Proc object without a block");f=k(c=f)?c:function(){h=d;return n(x,"Proc")["$==="](h)?d:n(x,"Method")["$==="](h)?d.$to_proc().$$unbound:n(x,"UnboundMethod")["$==="](h)?E((m=function(a){var e=m.$$s||this;var f=b.slice.call(arguments,0,arguments.length);e=d.$bind(e);return G(e,"call",b.to_a(f))},m.$$s=p,m.$$arity=-1,m)):p.$raise(n(x,"TypeError"),
"wrong argument type "+f.$class()+" (expected Proc/Method)")}();f.$$jsid=a;f.$$s=null;f.$$def=f;f.$$define_meth=!0;b.defn(p,"$"+a,f);return a},fa.$$arity=-2);b.def(N,"$remove_method",Z=function(a){var d=b.slice.call(arguments,0,arguments.length);for(var e=0,f=d.length;e<f;e++)b.rdef(this,"$"+d[e]);return this},Z.$$arity=-1);b.def(N,"$singleton_class?",ra=function(){return!!this.$$is_singleton},ra.$$arity=0);b.def(N,"$include",sa=function(a){var d=b.slice.call(arguments,0,arguments.length);for(var e=
d.length-1;0<=e;e--){var f=d[e];f.$$is_module||this.$raise(n(x,"TypeError"),"wrong argument type "+f.$class()+" (expected Module)");f.$append_features(this);f.$included(this)}return this},sa.$$arity=-1);b.def(N,"$included_modules",oa=function(){return b.included_modules(this)},oa.$$arity=0);b.def(N,"$include?",pa=function(a){a.$$is_module||this.$raise(n(x,"TypeError"),"wrong argument type "+a.$class()+" (expected Module)");var d,e=b.ancestors(this);var f=0;for(d=e.length;f<d;f++){var c=e[f];if(c===
a&&c!==this)return!0}return!1},pa.$$arity=1);b.def(N,"$instance_method",ba=function(a){var b=this.$$prototype["$"+a];b&&!b.$$stub||this.$raise(n(x,"NameError").$new("undefined method `"+a+"' for class `"+this.$name()+"'",a));return n(x,"UnboundMethod").$new(this,b.$$owner||this,b,a)},ba.$$arity=1);b.def(N,"$instance_methods",X=function(a){null==a&&(a=!0);return k(a)?b.instance_methods(this):b.own_instance_methods(this)},X.$$arity=-1);b.def(N,"$included",za=function(a){return C},za.$$arity=1);b.def(N,
"$extended",Na=function(a){return C},Na.$$arity=1);b.def(N,"$extend_object",Ca=function(a){return C},Ca.$$arity=1);b.def(N,"$method_added",ya=function(a){b.slice.call(arguments,0,arguments.length);return C},ya.$$arity=-1);b.def(N,"$method_removed",xa=function(a){b.slice.call(arguments,0,arguments.length);return C},xa.$$arity=-1);b.def(N,"$method_undefined",ka=function(a){b.slice.call(arguments,0,arguments.length);return C},ka.$$arity=-1);b.def(N,"$module_eval",W=function(a){var d=W.$$p,e=d||C,f,c,
m=C,p=C,h=p=p=C;d&&(W.$$p=null);d&&(W.$$p=null);d=b.slice.call(arguments,0,arguments.length);k(k(f=e["$nil?"]())?!!b.compile:f)?(k(w(1,3,!1)["$cover?"](d.$size()))||n(x,"Kernel").$raise(n(x,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),f=[].concat(b.to_a(d)),m=null==f[0]?C:f[0],p=null==f[1]?C:f[1],f,p=t(["file","eval"],{file:k(f=p)?f:"(eval)",eval:!0}),p=b.hash({arity_check:!1}).$merge(p),h=n(x,"Opal").$compile(m,p),e=G(n(x,"Kernel"),"proc",[],(c=function(){return function(a){return eval(h)}(c.$$s||
this)},c.$$s=this,c.$$arity=0,c))):k(d["$any?"]())&&n(x,"Kernel").$raise(n(x,"ArgumentError"),"wrong number of arguments ("+d.$size()+" for 0)\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");f=e.$$s;e.$$s=null;d=e.apply(this,[this]);e.$$s=f;return d},W.$$arity=-1);b.alias(N,"class_eval","module_eval");b.def(N,"$module_exec",ma=function(a){var d=ma.$$p,e=d||C;d&&(ma.$$p=null);d&&(ma.$$p=null);var f=b.slice.call(arguments,0,arguments.length);
e===C&&this.$raise(n(x,"LocalJumpError"),"no block given");d=e.$$s;e.$$s=null;f=e.apply(this,f);e.$$s=d;return f},ma.$$arity=-1);b.alias(N,"class_exec","module_exec");b.def(N,"$method_defined?",aa=function(a){a=this.$$prototype["$"+a];return!!a&&!a.$$stub},aa.$$arity=1);b.def(N,"$module_function",Ga=function(a){var d=b.slice.call(arguments,0,arguments.length);if(0===d.length)this.$$module_function=!0;else for(var e=0,f=d.length;e<f;e++){var c="$"+d[e];b.defs(this,c,this.$$prototype[c])}return this},
Ga.$$arity=-1);b.def(N,"$name",ta=function(){if(this.$$full_name)return this.$$full_name;for(var a=[],d=this;d;){if(d.$$name===C||null==d.$$name)return C;a.unshift(d.$$name);d=d.$$base_module;if(d===b.Object)break}return 0===a.length?C:this.$$full_name=a.join("::")},ta.$$arity=0);b.def(N,"$prepend",Oa=function(a){var d=b.slice.call(arguments,0,arguments.length);0===d.length&&this.$raise(n(x,"ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var e=d.length-1;0<=e;e--){var f=d[e];
f.$$is_module||this.$raise(n(x,"TypeError"),"wrong argument type "+f.$class()+" (expected Module)");f.$prepend_features(this);f.$prepended(this)}return this},Oa.$$arity=-1);b.def(N,"$prepend_features",na=function(a){this.$$is_module||this.$raise(n(x,"TypeError"),"wrong argument type "+this.$class()+" (expected Module)");b.prepend_features(this,a);return this},na.$$arity=1);b.def(N,"$prepended",ja=function(a){return C},ja.$$arity=1);b.def(N,"$remove_const",Pa=function(a){return b.const_remove(this,
a)},Pa.$$arity=1);b.def(N,"$to_s",Va=function(){var a;return k(a=b.Module.$name.call(this))?a:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},Va.$$arity=0);b.def(N,"$undef_method",Ua=function(a){var d=b.slice.call(arguments,0,arguments.length);for(var e=0,f=d.length;e<f;e++)b.udef(this,"$"+d[e]);return this},Ua.$$arity=-1);b.def(N,"$instance_variables",ab=function(){var a=(b.Module.$$nesting=x,this.$constants());var d=[],e;for(e in this)this.hasOwnProperty(e)&&"$"!==e.charAt(0)&&
"constructor"!==e&&!a["$include?"](e)&&d.push("@"+e);return d},ab.$$arity=0);b.def(N,"$dup",ha=function(){var a=ha.$$p,d;a&&(ha.$$p=null);var e=0;var f=arguments.length;for(d=Array(f);e<f;e++)d[e]=arguments[e];a=G(this,b.find_super_dispatcher(this,"dup",ha,!1),d,a);a.$copy_class_variables(this);a.$copy_constants(this);return a},ha.$$arity=0);b.def(N,"$copy_class_variables",ua=function(a){for(var b in a.$$cvars)this.$$cvars[b]=a.$$cvars[b]},ua.$$arity=1);return(b.def(N,"$copy_constants",da=function(a){var d;
a=a.$$const;for(d in a)b.const_set(this,d,a[d])},da.$$arity=1),C)&&"copy_constants"}(A[0],null,A)};
Opal.modules["corelib/class"]=function(b){var r=b.top,A=[],C=b.nil,u=b.const_get_relative,n=b.klass,g=b.send;b.add_stubs("$require $class_eval $to_proc $initialize_copy $allocate $name $to_s".split(" "));r.$require("corelib/module");return function(r,$super,E){r=n(r,$super,"Class");var w=[r].concat(E),t,N,M,K,x,l,A;b.defs(r,"$new",t=function(l){var n=t.$$p,E=n||C;n&&(t.$$p=null);n&&(t.$$p=null);null==l&&(l=u(w,"Object"));if(!l.$$is_class)throw b.TypeError.$new("superclass must be a Class");n=b.allocate_class(C,
l);l.$inherited(n);E!==C&&g(n,"class_eval",[],E.$to_proc());return n},t.$$arity=-1);b.def(r,"$allocate",N=function(){var l=new this.$$constructor;l.$$id=b.uid();return l},N.$$arity=0);b.def(r,"$inherited",M=function(b){return C},M.$$arity=1);b.def(r,"$initialize_dup",K=function(b){this.$initialize_copy(b);this.$$full_name=this.$$name=null},K.$$arity=1);b.def(r,"$new",x=function(l){var g=x.$$p,t=g||C;g&&(x.$$p=null);g&&(x.$$p=null);g=b.slice.call(arguments,0,arguments.length);var n=this.$allocate();
b.send(n,n.$initialize,g,t);return n},x.$$arity=-1);b.def(r,"$superclass",l=function(){return this.$$super||C},l.$$arity=0);return(b.def(r,"$to_s",A=function(){A.$$p&&(A.$$p=null);var l=this.$$singleton_of;return l&&l.$$is_a_module?"#<Class:"+l.$name()+">":l?"#<Class:#<"+l.$$class.$name()+":0x"+b.id(l).$to_s(16)+">>":g(this,b.find_super_dispatcher(this,"to_s",A,!1),[],null)},A.$$arity=0),C)&&"to_s"}(A[0],null,A)};
Opal.modules["corelib/basic_object"]=function(b){var r=[],A=b.nil,C=b.const_get_qualified,u=b.klass,n=b.truthy,g=b.range,G=b.hash2,k=b.send;b.add_stubs("$== $! $nil? $cover? $size $raise $merge $compile $proc $any? $inspect $new".split(" "));return function(E,$super,t){E=u(E,$super,"BasicObject");[E].concat(t);var r,M,K,x,l,la,P,D,I,ea,Y,a,c,v;b.def(E,"$initialize",r=function(a){b.slice.call(arguments,0,arguments.length);return A},r.$$arity=-1);b.def(E,"$==",M=function(a){return this===a},M.$$arity=
1);b.def(E,"$eql?",K=function(a){return this["$=="](a)},K.$$arity=1);b.alias(E,"equal?","==");b.def(E,"$__id__",x=function(){if(null!=this.$$id)return this.$$id;b.defineProperty(this,"$$id",b.uid());return this.$$id},x.$$arity=0);b.def(E,"$__send__",l=function(a,c){var q=l.$$p,h=q||A;q&&(l.$$p=null);q&&(l.$$p=null);q=b.slice.call(arguments,1,arguments.length);var d=this["$"+a];if(d)return h!==A&&(d.$$p=h),d.apply(this,q);h!==A&&(this.$method_missing.$$p=h);return this.$method_missing.apply(this,[a].concat(q))},
l.$$arity=-2);b.def(E,"$!",la=function(){return!1},la.$$arity=0);b.def(E,"$!=",P=function(a){return this["$=="](a)["$!"]()},P.$$arity=1);b.def(E,"$instance_eval",D=function(a){var c=D.$$p,q=c||A,h,d,v=A,p=A,l=p=p=A;c&&(D.$$p=null);c&&(D.$$p=null);c=b.slice.call(arguments,0,arguments.length);n(n(h=q["$nil?"]())?!!b.compile:h)?(n(g(1,3,!1)["$cover?"](c.$size()))||C("::","Kernel").$raise(C("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),h=[].concat(b.to_a(c)),v=null==h[0]?A:h[0],p=null==
h[1]?A:h[1],h,p=G(["file","eval"],{file:n(h=p)?h:"(eval)",eval:!0}),p=b.hash({arity_check:!1}).$merge(p),l=C("::","Opal").$compile(v,p),q=k(C("::","Kernel"),"proc",[],(d=function(){return function(a){return eval(l)}(d.$$s||this)},d.$$s=this,d.$$arity=0,d))):n(c["$any?"]())&&C("::","Kernel").$raise(C("::","ArgumentError"),"wrong number of arguments ("+c.$size()+" for 0)");h=q.$$s;q.$$s=null;if(this.$$is_a_module){this.$$eval=!0;try{var B=q.call(this,this)}finally{this.$$eval=!1}}else B=q.call(this,
this);q.$$s=h;return B},D.$$arity=-1);b.def(E,"$instance_exec",I=function(a){var c=I.$$p,q=c||A;c&&(I.$$p=null);c&&(I.$$p=null);c=b.slice.call(arguments,0,arguments.length);n(q)||C("::","Kernel").$raise(C("::","ArgumentError"),"no block given");var h=q.$$s;q.$$s=null;if(this.$$is_a_module){this.$$eval=!0;try{var d=q.apply(this,c)}finally{this.$$eval=!1}}else d=q.apply(this,c);q.$$s=h;return d},I.$$arity=-1);b.def(E,"$singleton_method_added",ea=function(a){b.slice.call(arguments,0,arguments.length);
return A},ea.$$arity=-1);b.def(E,"$singleton_method_removed",Y=function(a){b.slice.call(arguments,0,arguments.length);return A},Y.$$arity=-1);b.def(E,"$singleton_method_undefined",a=function(a){b.slice.call(arguments,0,arguments.length);return A},a.$$arity=-1);b.def(E,"$class",c=function(){return this.$$class},c.$$arity=0);return(b.def(E,"$method_missing",v=function(a,c){var q=v.$$p;q&&(v.$$p=null);q&&(v.$$p=null);b.slice.call(arguments,1,arguments.length);q=n(this.$inspect&&!this.$inspect.$$stub)?
"undefined method `"+a+"' for "+this.$inspect()+":"+this.$$class:"undefined method `"+a+"' for "+this.$$class;return C("::","Kernel").$raise(C("::","NoMethodError").$new(q,a))},v.$$arity=-2),A)&&"method_missing"}(r[0],null,r)};
Opal.modules["corelib/kernel"]=function(b){function r(b,g){return"number"===typeof b&&"number"===typeof g?b<=g:b["$<="](g)}var A=[],C=b.nil,u=b.const_get_qualified,n=b.const_get_relative,g=b.module,G=b.truthy,k=b.gvars,E=b.hash2,w=b.send,t=b.klass;b.add_stubs("$raise $new $inspect $! $=~ $== $object_id $class $coerce_to? $<< $allocate $copy_instance_variables $copy_singleton_methods $initialize_clone $initialize_copy $define_method $singleton_class $to_proc $initialize_dup $for $empty? $pop $call $coerce_to $append_features $extend_object $extended $__id__ $to_s $instance_variable_name! $respond_to? $to_int $coerce_to! $Integer $nil? $=== $enum_for $result $any? $print $format $puts $each $<= $length $[] $exception $is_a? $rand $respond_to_missing? $try_convert! $expand_path $join $start_with? $new_seed $srand $sym $arg $open $include".split(" "));(function(t,
M){t=g(t,"Kernel");var K=[t].concat(M),x,l,A,P,D,I,N,Y,a,c,v,B,J,q,h,d,z,p,S,L,m,e,f,U,T,ia,V,R,ca,y,fa,Z,ra,sa,oa,pa,ba,X,za,Na,Ca,ya,xa,ka,W,ma,aa,Ga,ta,Oa,na,ja,Pa,Va,Ua,ab,ha,ua,da,va,Aa,qa,Ia,Ha,Ja;b.def(t,"$method_missing",x=function(a,d){var e=x.$$p;e&&(x.$$p=null);e&&(x.$$p=null);e=b.slice.call(arguments,1,arguments.length);return this.$raise(n(K,"NoMethodError").$new("undefined method `"+a+"' for "+this.$inspect(),a,e))},x.$$arity=-2);b.def(t,"$=~",l=function(a){return!1},l.$$arity=1);b.def(t,
"$!~",A=function(a){return this["$=~"](a)["$!"]()},A.$$arity=1);b.def(t,"$===",P=function(a){var b;return G(b=this.$object_id()["$=="](a.$object_id()))?b:this["$=="](a)},P.$$arity=1);b.def(t,"$<=>",D=function(a){this.$$comparable=!0;return(a=this["$=="](a))&&a!==C?0:C},D.$$arity=1);b.def(t,"$method",I=function(a){var b=this["$"+a];b&&!b.$$stub||this.$raise(n(K,"NameError").$new("undefined method `"+a+"' for class `"+this.$class()+"'",a));return n(K,"Method").$new(this,b.$$owner||this.$class(),b,a)},
I.$$arity=1);b.def(t,"$methods",N=function(a){null==a&&(a=!0);return G(a)?b.methods(this):b.own_methods(this)},N.$$arity=-1);b.def(t,"$public_methods",Y=function(a){null==a&&(a=!0);return G(a)?b.methods(this):b.receiver_methods(this)},Y.$$arity=-1);b.def(t,"$Array",a=function(a){if(a===C)return[];if(a.$$is_array)return a;var b=n(K,"Opal")["$coerce_to?"](a,n(K,"Array"),"to_ary");if(b!==C)return b;b=n(K,"Opal")["$coerce_to?"](a,n(K,"Array"),"to_a");return b!==C?b:[a]},a.$$arity=1);b.def(t,"$at_exit",
c=function(){var a=c.$$p,b=a||C,d;null==k.__at_exit__&&(k.__at_exit__=C);a&&(c.$$p=null);a&&(c.$$p=null);k.__at_exit__=G(d=k.__at_exit__)?d:[];return k.__at_exit__["$<<"](b)},c.$$arity=0);b.def(t,"$caller",v=function(a){b.slice.call(arguments,0,arguments.length);return[]},v.$$arity=-1);b.def(t,"$class",B=function(){return this.$$class},B.$$arity=0);b.def(t,"$copy_instance_variables",J=function(a){var b=Object.keys(a),d;var e=0;for(d=b.length;e<d;e++){var f=b[e];"$"!==f.charAt(0)&&a.hasOwnProperty(f)&&
(this[f]=a[f])}},J.$$arity=1);b.def(t,"$copy_singleton_methods",q=function(a){var d;if(a.hasOwnProperty("$$meta")){var e=b.get_singleton_class(a),f=b.get_singleton_class(this);var c=Object.getOwnPropertyNames(e.$$prototype);var m=0;for(d=c.length;m<d;m++){var p=c[m];b.is_method(p)&&(f.$$prototype[p]=e.$$prototype[p])}f.$$const=Object.assign({},e.$$const);Object.setPrototypeOf(f.$$prototype,Object.getPrototypeOf(e.$$prototype))}m=0;c=Object.getOwnPropertyNames(a);for(d=c.length;m<d;m++)p=c[m],"$"===
p.charAt(0)&&"$"!==p.charAt(1)&&a.hasOwnProperty(p)&&(this[p]=a[p])},q.$$arity=1);b.def(t,"$clone",h=function(a){if(null==a)E([],{});else if(!a.$$is_hash)throw b.ArgumentError.$new("expected kwargs");a=this.$class().$allocate();a.$copy_instance_variables(this);a.$copy_singleton_methods(this);a.$initialize_clone(this);return a},h.$$arity=-1);b.def(t,"$initialize_clone",d=function(a){return this.$initialize_copy(a)},d.$$arity=1);b.def(t,"$define_singleton_method",z=function(a,b){var d=z.$$p,e=d||C;
d&&(z.$$p=null);d&&(z.$$p=null);return w(this.$singleton_class(),"define_method",[a,b],e.$to_proc())},z.$$arity=-2);b.def(t,"$dup",p=function(){var a=this.$class().$allocate();a.$copy_instance_variables(this);a.$initialize_dup(this);return a},p.$$arity=0);b.def(t,"$initialize_dup",S=function(a){return this.$initialize_copy(a)},S.$$arity=1);b.def(t,"$enum_for",L=function(a,d){var e=L.$$p,f=e||C;e&&(L.$$p=null);e&&(L.$$p=null);e=b.slice.call(arguments,0,arguments.length);if(0<e.length){var c=e[0];e.splice(0,
1)}null==c&&(c="each");return w(n(K,"Enumerator"),"for",[this,c].concat(b.to_a(e)),f.$to_proc())},L.$$arity=-1);b.alias(t,"to_enum","enum_for");b.def(t,"$equal?",m=function(a){return this===a},m.$$arity=1);b.def(t,"$exit",e=function(a){var d;null==k.__at_exit__&&(k.__at_exit__=C);null==a&&(a=!0);for(k.__at_exit__=G(d=k.__at_exit__)?d:[];!G(k.__at_exit__["$empty?"]());)d=k.__at_exit__.$pop(),d.$call();a=a.$$is_boolean?a?0:1:n(K,"Opal").$coerce_to(a,n(K,"Integer"),"to_int");b.exit(a);return C},e.$$arity=
-1);b.def(t,"$extend",f=function(a){var d=b.slice.call(arguments,0,arguments.length);for(var e=this.$singleton_class(),f=d.length-1;0<=f;f--){var c=d[f];c.$$is_module||this.$raise(n(K,"TypeError"),"wrong argument type "+c.$class()+" (expected Module)");c.$append_features(e);c.$extend_object(this);c.$extended(this)}return this},f.$$arity=-1);b.def(t,"$hash",U=function(){return this.$__id__()},U.$$arity=0);b.def(t,"$initialize_copy",T=function(a){return C},T.$$arity=1);b.def(t,"$inspect",ia=function(){return this.$to_s()},
ia.$$arity=0);b.def(t,"$instance_of?",V=function(a){a.$$is_class||a.$$is_module||this.$raise(n(K,"TypeError"),"class or module required");return this.$$class===a},V.$$arity=1);b.def(t,"$instance_variable_defined?",R=function(a){a=n(K,"Opal")["$instance_variable_name!"](a);return b.hasOwnProperty.call(this,a.substr(1))},R.$$arity=1);b.def(t,"$instance_variable_get",ca=function(a){a=n(K,"Opal")["$instance_variable_name!"](a);a=this[b.ivar(a.substr(1))];return null==a?C:a},ca.$$arity=1);b.def(t,"$instance_variable_set",
y=function(a,d){a=n(K,"Opal")["$instance_variable_name!"](a);return this[b.ivar(a.substr(1))]=d},y.$$arity=2);b.def(t,"$remove_instance_variable",fa=function(a){a=n(K,"Opal")["$instance_variable_name!"](a);var d=b.ivar(a.substr(1));return this.hasOwnProperty(d)?(a=this[d],delete this[d],a):this.$raise(n(K,"NameError"),"instance variable "+a+" not defined")},fa.$$arity=1);b.def(t,"$instance_variables",Z=function(){var a=[],b;for(b in this)if(this.hasOwnProperty(b)&&"$"!==b.charAt(0)){var d="$"===b.substr(-1)?
b.slice(0,b.length-1):b;a.push("@"+d)}return a},Z.$$arity=0);b.def(t,"$Integer",ra=function(a,b){var d=this;if(!a.$$is_string){void 0!==b&&d.$raise(n(K,"ArgumentError"),"base specified for non string value");a===C&&d.$raise(n(K,"TypeError"),"can't convert nil into Integer");if(a.$$is_number)return(Infinity===a||-Infinity===a||isNaN(a))&&d.$raise(n(K,"FloatDomainError"),a),Math.floor(a);if(a["$respond_to?"]("to_int")){var e=a.$to_int();if(e!==C)return e}return n(K,"Opal")["$coerce_to!"](a,n(K,"Integer"),
"to_i")}if("0"===a)return 0;void 0===b?b=0:(b=n(K,"Opal").$coerce_to(b,n(K,"Integer"),"to_int"),(1===b||0>b||36<b)&&d.$raise(n(K,"ArgumentError"),"invalid radix "+b));e=a.toLowerCase();e=e.replace(/(\d)_(?=\d)/g,"$1");e=e.replace(/^(\s*[+-]?)(0[bodx]?)/,function(e,f,c){switch(c){case "0b":if(0===b||2===b)return b=2,f;case "0":case "0o":if(0===b||8===b)return b=8,f;case "0d":if(0===b||10===b)return b=10,f;case "0x":if(0===b||16===b)return b=16,f}d.$raise(n(K,"ArgumentError"),'invalid value for Integer(): "'+
a+'"')});b=0===b?10:b;var f="0-"+(10>=b?b-1:"9a-"+String.fromCharCode(97+(b-11)));(new RegExp("^\\s*[+-]?["+f+"]+\\s*$")).test(e)||d.$raise(n(K,"ArgumentError"),'invalid value for Integer(): "'+a+'"');e=parseInt(e,b);isNaN(e)&&d.$raise(n(K,"ArgumentError"),'invalid value for Integer(): "'+a+'"');return e},ra.$$arity=-2);b.def(t,"$Float",sa=function(a){a===C&&this.$raise(n(K,"TypeError"),"can't convert nil into Float");if(a.$$is_string){var b=a.toString();b=b.replace(/(\d)_(?=\d)/g,"$1");if(/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(b))return this.$Integer(b);
/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(b)||this.$raise(n(K,"ArgumentError"),'invalid value for Float(): "'+a+'"');return parseFloat(b)}return n(K,"Opal")["$coerce_to!"](a,n(K,"Float"),"to_f")},sa.$$arity=1);b.def(t,"$Hash",oa=function(a){var b;return G(G(b=a["$nil?"]())?b:a["$=="]([]))?E([],{}):G(n(K,"Hash")["$==="](a))?a:n(K,"Opal")["$coerce_to!"](a,n(K,"Hash"),"to_hash")},oa.$$arity=1);b.def(t,"$is_a?",pa=function(a){a.$$is_class||a.$$is_module||this.$raise(n(K,"TypeError"),"class or module required");
return b.is_a(this,a)},pa.$$arity=1);b.def(t,"$itself",ba=function(){return this},ba.$$arity=0);b.alias(t,"kind_of?","is_a?");b.def(t,"$lambda",X=function(){var a=X.$$p,d=a||C;a&&(X.$$p=null);a&&(X.$$p=null);return b.lambda(d)},X.$$arity=0);b.def(t,"$load",za=function(a){a=n(K,"Opal")["$coerce_to!"](a,n(K,"String"),"to_str");return b.load(a)},za.$$arity=1);b.def(t,"$loop",Na=function(){var a,d=Na.$$p,e=d||C,f=C;d&&(Na.$$p=null);if(e===C)return w(this,"enum_for",["loop"],(a=function(){return u(n(K,
"Float"),"INFINITY")},a.$$s=this,a.$$arity=0,a));for(;G(!0);)try{b.yieldX(e,[])}catch(Ka){if(b.rescue(Ka,[n(K,"StopIteration")])){f=Ka;try{return f.$result()}finally{b.pop_exception()}}else throw Ka;}return this},Na.$$arity=0);b.def(t,"$nil?",Ca=function(){return!1},Ca.$$arity=0);b.alias(t,"object_id","__id__");b.def(t,"$printf",ya=function(a){var d=b.slice.call(arguments,0,arguments.length);G(d["$any?"]())&&this.$print(w(this,"format",b.to_a(d)));return C},ya.$$arity=-1);b.def(t,"$proc",xa=function(){var a=
xa.$$p,b=a||C;a&&(xa.$$p=null);a&&(xa.$$p=null);G(b)||this.$raise(n(K,"ArgumentError"),"tried to create Proc object without a block");b.$$is_lambda=!1;return b},xa.$$arity=0);b.def(t,"$puts",ka=function(a){null==k.stdout&&(k.stdout=C);var d=b.slice.call(arguments,0,arguments.length);return w(k.stdout,"puts",b.to_a(d))},ka.$$arity=-1);b.def(t,"$p",W=function(a){var d;var e=b.slice.call(arguments,0,arguments.length);w(e,"each",[],(d=function(a){null==k.stdout&&(k.stdout=C);null==a&&(a=C);return k.stdout.$puts(a.$inspect())},
d.$$s=this,d.$$arity=1,d));return G(r(e.$length(),1))?e["$[]"](0):e},W.$$arity=-1);b.def(t,"$print",ma=function(a){null==k.stdout&&(k.stdout=C);var d=b.slice.call(arguments,0,arguments.length);return w(k.stdout,"print",b.to_a(d))},ma.$$arity=-1);b.def(t,"$warn",aa=function(a){var d;null==k.VERBOSE&&(k.VERBOSE=C);null==k.stderr&&(k.stderr=C);var e=b.slice.call(arguments,0,arguments.length);return G(G(d=k.VERBOSE["$nil?"]())?d:e["$empty?"]())?C:w(k.stderr,"puts",b.to_a(e))},aa.$$arity=-1);b.def(t,"$raise",
Ga=function(a,d,e){null==k["!"]&&(k["!"]=C);null==d&&(d=C);if(null==a&&k["!"]!==C)throw k["!"];null==a?a=n(K,"RuntimeError").$new():a.$$is_string?a=n(K,"RuntimeError").$new(a):a.$$is_class&&a["$respond_to?"]("exception")?a=a.$exception(d):a["$is_a?"](n(K,"Exception"))||(a=n(K,"TypeError").$new("exception class/object expected"));k["!"]!==C&&b.exceptions.push(k["!"]);k["!"]=a;throw a;},Ga.$$arity=-1);b.alias(t,"fail","raise");b.def(t,"$rand",ta=function(a){if(void 0===a)return u(n(K,"Random"),"DEFAULT").$rand();
a.$$is_number&&(0>a&&(a=Math.abs(a)),0!==a%1&&(a=a.$to_i()),0===a&&(a=void 0));return u(n(K,"Random"),"DEFAULT").$rand(a)},ta.$$arity=-1);b.def(t,"$respond_to?",Oa=function(a,b){null==b&&(b=!1);if(G(this["$respond_to_missing?"](a,b)))return!0;a=this["$"+a];return"function"!==typeof a||a.$$stub?!1:!0},Oa.$$arity=-2);b.def(t,"$respond_to_missing?",na=function(a,b){return!1},na.$$arity=-2);b.def(t,"$require",ja=function(a){a=n(K,"Opal")["$coerce_to!"](a,n(K,"String"),"to_str");return b.require(a)},ja.$$arity=
1);b.def(t,"$require_relative",Pa=function(a){n(K,"Opal")["$try_convert!"](a,n(K,"String"),"to_str");a=n(K,"File").$expand_path(n(K,"File").$join(b.current_file,"..",a));return b.require(a)},Pa.$$arity=1);b.def(t,"$require_tree",Va=function(a){var d=[];a=n(K,"File").$expand_path(a);a=b.normalize(a);"."===a&&(a="");for(var e in b.modules)e["$start_with?"](a)&&d.push([e,b.require(e)]);return d},Va.$$arity=1);b.alias(t,"send","__send__");b.alias(t,"public_send","__send__");b.def(t,"$singleton_class",
Ua=function(){return b.get_singleton_class(this)},Ua.$$arity=0);b.def(t,"$sleep",ab=function(a){null==a&&(a=C);a===C&&this.$raise(n(K,"TypeError"),"can't convert NilClass into time interval");a.$$is_number||this.$raise(n(K,"TypeError"),"can't convert "+a.$class()+" into time interval");0>a&&this.$raise(n(K,"ArgumentError"),"time interval must be positive");for(var d=b.global.performance?function(){return performance.now()}:function(){return new Date},e=d();d()-e<=1E3*a;);return a},ab.$$arity=-1);
b.def(t,"$srand",ha=function(a){null==a&&(a=n(K,"Random").$new_seed());return n(K,"Random").$srand(a)},ha.$$arity=-1);b.def(t,"$String",ua=function(a){var b;return G(b=n(K,"Opal")["$coerce_to?"](a,n(K,"String"),"to_str"))?b:n(K,"Opal")["$coerce_to!"](a,n(K,"String"),"to_s")},ua.$$arity=1);b.def(t,"$tap",da=function(){var a=da.$$p,d=a||C;a&&(da.$$p=null);a&&(da.$$p=null);b.yield1(d,this);return this},da.$$arity=0);b.def(t,"$to_proc",va=function(){return this},va.$$arity=0);b.def(t,"$to_s",Aa=function(){return"#<"+
this.$class()+":0x"+this.$__id__().$to_s(16)+">"},Aa.$$arity=0);b.def(t,"$catch",qa=function(a){var d=qa.$$p,e=d||C;d&&(qa.$$p=null);try{return b.yieldX(e,[])}catch(Da){if(b.rescue(Da,[n(K,"UncaughtThrowError")])){d=Da;try{return d.$sym()["$=="](a)?d.$arg():this.$raise()}finally{b.pop_exception()}}else throw Da;}},qa.$$arity=1);b.def(t,"$throw",Ia=function(a){var d=b.slice.call(arguments,0,arguments.length);return this.$raise(n(K,"UncaughtThrowError"),d)},Ia.$$arity=-1);b.def(t,"$open",Ha=function(a){var d=
Ha.$$p,e=d||C;d&&(Ha.$$p=null);d&&(Ha.$$p=null);d=b.slice.call(arguments,0,arguments.length);return w(n(K,"File"),"open",b.to_a(d),e.$to_proc())},Ha.$$arity=-1);b.def(t,"$yield_self",Ja=function(){var a,d=Ja.$$p,e=d||C;d&&(Ja.$$p=null);return e===C?w(this,"enum_for",["yield_self"],(a=function(){return 1},a.$$s=this,a.$$arity=0,a)):b.yield1(e,this)},Ja.$$arity=0)})(A[0],A);return function(b,$super,g){b=t(b,$super,"Object");g=[b].concat(g);return b.$include(n(g,"Kernel"))}(A[0],null,A)};
Opal.modules["corelib/error"]=function(b){var r=[],A=b.nil,C=b.const_get_relative,u=b.klass,n=b.send,g=b.truthy,G=b.module,k=b.hash2;b.add_stubs("$new $clone $to_s $empty? $class $raise $+ $attr_reader $[] $> $length $inspect".split(" "));(function(k,$super,t){k=u(k,$super,"Exception");var r=[k].concat(t),E,K,x,l,G,P,D,I,ea;k.$$prototype.message=A;b.defs(k,"$new",E=function(a){var c=b.slice.call(arguments,0,arguments.length);var v=0<c.length?c[0]:A,l=new this.$$constructor(v);l.name=this.$$name;l.message=
v;b.send(l,l.$initialize,c);b.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(l,Y);return l},E.$$arity=-1);var Y=k.$new;b.defs(k,"$exception",K=function(a){var c=b.slice.call(arguments,0,arguments.length);return n(this,"new",b.to_a(c))},K.$$arity=-1);b.def(k,"$initialize",x=function(a){var c=b.slice.call(arguments,0,arguments.length);return this.message=0<c.length?c[0]:A},x.$$arity=-1);b.def(k,"$backtrace",l=function(){if(this.backtrace)return this.backtrace;var a=this.stack;
return"string"===typeof a?a.split("\n").slice(0,15):a?a.slice(0,15):[]},l.$$arity=0);b.def(k,"$exception",G=function(a){null==a&&(a=A);if(a===A||this===a)return this;var b=this.$clone();b.message=a;return b},G.$$arity=-1);b.def(k,"$message",P=function(){return this.$to_s()},P.$$arity=0);b.def(k,"$inspect",D=function(){var a=this.$to_s();return g(a["$empty?"]())?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"},D.$$arity=0);b.def(k,"$set_backtrace",I=function(a){var b=!0,v;if(a===
A)this.backtrace=A;else if(a.$$is_string)this.backtrace=[a];else{if(a.$$is_array){var l=0;for(v=a.length;l<v;l++)if(!a[l].$$is_string){b=!1;break}}else b=!1;!1===b&&this.$raise(C(r,"TypeError"),"backtrace must be Array of String");this.backtrace=a}return a},I.$$arity=1);return(b.def(k,"$to_s",ea=function(){var a,b;return g(a=g(b=this.message)?this.message.$to_s():b)?a:this.$class().$to_s()},ea.$$arity=0),A)&&"to_s"})(r[0],Error,r);(function(b,$super,g){[u(b,$super,"ScriptError")].concat(g);return A})(r[0],
C(r,"Exception"),r);(function(b,$super,g){[u(b,$super,"SyntaxError")].concat(g);return A})(r[0],C(r,"ScriptError"),r);(function(b,$super,g){[u(b,$super,"LoadError")].concat(g);return A})(r[0],C(r,"ScriptError"),r);(function(b,$super,g){[u(b,$super,"NotImplementedError")].concat(g);return A})(r[0],C(r,"ScriptError"),r);(function(b,$super,g){[u(b,$super,"SystemExit")].concat(g);return A})(r[0],C(r,"Exception"),r);(function(b,$super,g){[u(b,$super,"NoMemoryError")].concat(g);return A})(r[0],C(r,"Exception"),
r);(function(b,$super,g){[u(b,$super,"SignalException")].concat(g);return A})(r[0],C(r,"Exception"),r);(function(b,$super,g){[u(b,$super,"Interrupt")].concat(g);return A})(r[0],C(r,"Exception"),r);(function(b,$super,g){[u(b,$super,"SecurityError")].concat(g);return A})(r[0],C(r,"Exception"),r);(function(b,$super,g){[u(b,$super,"StandardError")].concat(g);return A})(r[0],C(r,"Exception"),r);(function(b,$super,g){[u(b,$super,"EncodingError")].concat(g);return A})(r[0],C(r,"StandardError"),r);(function(b,
$super,g){[u(b,$super,"ZeroDivisionError")].concat(g);return A})(r[0],C(r,"StandardError"),r);(function(b,$super,g){[u(b,$super,"NameError")].concat(g);return A})(r[0],C(r,"StandardError"),r);(function(b,$super,g){[u(b,$super,"NoMethodError")].concat(g);return A})(r[0],C(r,"NameError"),r);(function(b,$super,g){[u(b,$super,"RuntimeError")].concat(g);return A})(r[0],C(r,"StandardError"),r);(function(b,$super,g){[u(b,$super,"FrozenError")].concat(g);return A})(r[0],C(r,"RuntimeError"),r);(function(b,
$super,g){[u(b,$super,"LocalJumpError")].concat(g);return A})(r[0],C(r,"StandardError"),r);(function(b,$super,g){[u(b,$super,"TypeError")].concat(g);return A})(r[0],C(r,"StandardError"),r);(function(b,$super,g){[u(b,$super,"ArgumentError")].concat(g);return A})(r[0],C(r,"StandardError"),r);(function(b,$super,g){[u(b,$super,"IndexError")].concat(g);return A})(r[0],C(r,"StandardError"),r);(function(b,$super,g){[u(b,$super,"StopIteration")].concat(g);return A})(r[0],C(r,"IndexError"),r);(function(b,
$super,g){[u(b,$super,"KeyError")].concat(g);return A})(r[0],C(r,"IndexError"),r);(function(b,$super,g){[u(b,$super,"RangeError")].concat(g);return A})(r[0],C(r,"StandardError"),r);(function(b,$super,g){[u(b,$super,"FloatDomainError")].concat(g);return A})(r[0],C(r,"RangeError"),r);(function(b,$super,g){[u(b,$super,"IOError")].concat(g);return A})(r[0],C(r,"StandardError"),r);(function(b,$super,g){[u(b,$super,"SystemCallError")].concat(g);return A})(r[0],C(r,"StandardError"),r);(function(k,w){k=[G(k,
"Errno")].concat(w);(function(k,$super,w){k=u(k,$super,"EINVAL");[k].concat(w);var t;return(b.defs(k,"$new",t=function(k){t.$$p&&(t.$$p=null);null==k&&(k=A);var l="Invalid argument";g(k)&&(k=" - "+k,l="number"===typeof l&&"number"===typeof k?l+k:l["$+"](k));return n(this,b.find_super_dispatcher(this,"new",t,!1,this.$$class.$$prototype),[l],null)},t.$$arity=-1),A)&&"new"})(k[0],C(k,"SystemCallError"),k)})(r[0],r);(function(k,$super,t){k=u(k,$super,"UncaughtThrowError");[k].concat(t);var r;k.$$prototype.sym=
A;k.$attr_reader("sym","arg");return(b.def(k,"$initialize",r=function(k){r.$$p&&(r.$$p=null);this.sym=k["$[]"](0);var t=k.$length();t="number"===typeof t?1<t:t["$>"](1);g(t)&&(this.arg=k["$[]"](1));return n(this,b.find_super_dispatcher(this,"initialize",r,!1),["uncaught throw "+this.sym.$inspect()],null)},r.$$arity=1),A)&&"initialize"})(r[0],C(r,"ArgumentError"),r);(function(g,$super,k){g=u(g,$super,"NameError");[g].concat(k);var t;g.$attr_reader("name");return(b.def(g,"$initialize",t=function(g,
k){t.$$p&&(t.$$p=null);null==k&&(k=A);n(this,b.find_super_dispatcher(this,"initialize",t,!1),[g],null);return this.name=k},t.$$arity=-2),A)&&"initialize"})(r[0],null,r);(function(g,$super,k){g=u(g,$super,"NoMethodError");[g].concat(k);var t;g.$attr_reader("args");return(b.def(g,"$initialize",t=function(g,k,r){t.$$p&&(t.$$p=null);null==k&&(k=A);null==r&&(r=[]);n(this,b.find_super_dispatcher(this,"initialize",t,!1),[g,k],null);return this.args=r},t.$$arity=-2),A)&&"initialize"})(r[0],null,r);(function(b,
$super,g){b=u(b,$super,"StopIteration");[b].concat(g);return b.$attr_reader("result")})(r[0],null,r);(function(r,$super,t){r=u(r,$super,"KeyError");var E=[r].concat(t),M,K,x;r.$$prototype.receiver=r.$$prototype.key=A;b.def(r,"$initialize",M=function(l,g){M.$$p&&(M.$$p=null);if(null==g)g=k([],{});else if(!g.$$is_hash)throw b.ArgumentError.$new("expected kwargs");var t=g.$$smap.receiver;null==t&&(t=A);g=g.$$smap.key;null==g&&(g=A);n(this,b.find_super_dispatcher(this,"initialize",M,!1),[l],null);this.receiver=
t;return this.key=g},M.$$arity=-2);b.def(r,"$receiver",K=function(){var b;return g(b=this.receiver)?b:this.$raise(C(E,"ArgumentError"),"no receiver is available")},K.$$arity=0);return(b.def(r,"$key",x=function(){var b;return g(b=this.key)?b:this.$raise(C(E,"ArgumentError"),"no key is available")},x.$$arity=0),A)&&"key"})(r[0],null,r);return function(b,g){b=[G(b,"JS")].concat(g);[u(b[0],null,"Error")].concat(b)}(r[0],r)};
Opal.modules["corelib/constants"]=function(b){var r=[],A=b.const_get_relative;b.const_set(r[0],"RUBY_PLATFORM","opal");b.const_set(r[0],"RUBY_ENGINE","opal");b.const_set(r[0],"RUBY_VERSION","2.5.1");b.const_set(r[0],"RUBY_ENGINE_VERSION","0.11.99.dev");b.const_set(r[0],"RUBY_RELEASE_DATE","2018-12-25");b.const_set(r[0],"RUBY_PATCHLEVEL",0);b.const_set(r[0],"RUBY_REVISION",0);b.const_set(r[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2018 Adam Beynon and the Opal contributors");return b.const_set(r[0],
"RUBY_DESCRIPTION","opal "+A(r,"RUBY_ENGINE_VERSION")+" ("+A(r,"RUBY_RELEASE_DATE")+" revision "+A(r,"RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(b){var r=b.top;b.add_stubs(["$require"]);r.$require("corelib/runtime");r.$require("corelib/helpers");r.$require("corelib/module");r.$require("corelib/class");r.$require("corelib/basic_object");r.$require("corelib/kernel");r.$require("corelib/error");return r.$require("corelib/constants")};
Opal.modules["corelib/nil"]=function(b){var r=[],A=b.nil,C=b.const_get_relative,u=b.klass,n=b.hash2,g=b.truthy;b.add_stubs("$raise $name $new $> $length $Rational".split(" "));(function(r,$super,E){r=u(r,$super,"NilClass");var w=[r].concat(E),t,G,M,K,x,l,la,P,D,I,ea,Y,a,c,v,B,J,q;r.$$prototype.$$meta=r;(function(a,d){var c=[a].concat(d),p;b.def(a,"$allocate",p=function(){return this.$raise(C(c,"TypeError"),"allocator undefined for "+this.$name())},p.$$arity=0);b.udef(a,"$new");return A})(b.get_singleton_class(r),
w);b.def(r,"$!",t=function(){return!0},t.$$arity=0);b.def(r,"$&",G=function(a){return!1},G.$$arity=1);b.def(r,"$|",M=function(a){return!1!==a&&a!==A},M.$$arity=1);b.def(r,"$^",K=function(a){return!1!==a&&a!==A},K.$$arity=1);b.def(r,"$==",x=function(a){return a===A},x.$$arity=1);b.def(r,"$dup",l=function(){return A},l.$$arity=0);b.def(r,"$clone",la=function(a){if(null==a)n([],{});else if(!a.$$is_hash)throw b.ArgumentError.$new("expected kwargs");return A},la.$$arity=-1);b.def(r,"$inspect",P=function(){return"nil"},
P.$$arity=0);b.def(r,"$nil?",D=function(){return!0},D.$$arity=0);b.def(r,"$singleton_class",I=function(){return C(w,"NilClass")},I.$$arity=0);b.def(r,"$to_a",ea=function(){return[]},ea.$$arity=0);b.def(r,"$to_h",Y=function(){return b.hash()},Y.$$arity=0);b.def(r,"$to_i",a=function(){return 0},a.$$arity=0);b.alias(r,"to_f","to_i");b.def(r,"$to_s",c=function(){return""},c.$$arity=0);b.def(r,"$to_c",v=function(){return C(w,"Complex").$new(0,0)},v.$$arity=0);b.def(r,"$rationalize",B=function(a){var d=
b.slice.call(arguments,0,arguments.length).$length();d="number"===typeof d?1<d:d["$>"](1);g(d)&&this.$raise(C(w,"ArgumentError"));return this.$Rational(0,1)},B.$$arity=-1);b.def(r,"$to_r",J=function(){return this.$Rational(0,1)},J.$$arity=0);return(b.def(r,"$instance_variables",q=function(){return[]},q.$$arity=0),A)&&"instance_variables"})(r[0],null,r);return b.const_set(r[0],"NIL",A)};
Opal.modules["corelib/boolean"]=function(b){var r=[],A=b.nil,C=b.const_get_relative,u=b.klass,n=b.hash2;b.add_stubs(["$raise","$name"]);(function(g,$super,k){g=u(g,$super,"Boolean");var r=[g].concat(k),w,t,N,M,K,x,l,la,P,D;b.defineProperty(g.$$prototype,"$$is_boolean",!0);b.defineProperty(g.$$prototype,"$$meta",g);(function(g,l){var k=[g].concat(l),a;b.def(g,"$allocate",a=function(){return this.$raise(C(k,"TypeError"),"allocator undefined for "+this.$name())},a.$$arity=0);b.udef(g,"$new");return A})(b.get_singleton_class(g),
r);b.def(g,"$__id__",w=function(){return this.valueOf()?2:0},w.$$arity=0);b.alias(g,"object_id","__id__");b.def(g,"$!",t=function(){return 1!=this},t.$$arity=0);b.def(g,"$&",N=function(b){return 1==this?!1!==b&&b!==A:!1},N.$$arity=1);b.def(g,"$|",M=function(b){return 1==this?!0:!1!==b&&b!==A},M.$$arity=1);b.def(g,"$^",K=function(b){return 1==this?!1===b||b===A:!1!==b&&b!==A},K.$$arity=1);b.def(g,"$==",x=function(b){return 1==this===b.valueOf()},x.$$arity=1);b.alias(g,"equal?","==");b.alias(g,"eql?",
"==");b.def(g,"$singleton_class",l=function(){return C(r,"Boolean")},l.$$arity=0);b.def(g,"$to_s",la=function(){return 1==this?"true":"false"},la.$$arity=0);b.def(g,"$dup",P=function(){return this},P.$$arity=0);return(b.def(g,"$clone",D=function(g){if(null==g)n([],{});else if(!g.$$is_hash)throw b.ArgumentError.$new("expected kwargs");return this},D.$$arity=-1),A)&&"clone"})(r[0],Boolean,r);b.const_set(r[0],"TrueClass",C(r,"Boolean"));b.const_set(r[0],"FalseClass",C(r,"Boolean"));b.const_set(r[0],
"TRUE",!0);return b.const_set(r[0],"FALSE",!1)};
Opal.modules["corelib/comparable"]=function(b){function r(b,g){return"number"===typeof b&&"number"===typeof g?b>g:b["$>"](g)}function A(b,g){return"number"===typeof b&&"number"===typeof g?b<g:b["$<"](g)}var C=[],u=b.nil,n=b.const_get_relative,g=b.module,G=b.truthy;b.add_stubs("$=== $> $< $equal? $<=> $normalize $raise $class".split(" "));return function(k,E){k=g(k,"Comparable");var w=[k].concat(E),t,C,M,K,x,l,la,P;b.defs(k,"$normalize",t=function(b){return G(n(w,"Integer")["$==="](b))?b:G(r(b,0))?
1:G(A(b,0))?-1:0},t.$$arity=1);b.def(k,"$==",C=function(g){var l=u;try{return G(this["$equal?"](g))?!0:this["$<=>"]==b.Kernel["$<=>"]?!1:this.$$comparable?(delete this.$$comparable,!1):G(l=this["$<=>"](g))?0==n(w,"Comparable").$normalize(l):!1}catch(ea){if(b.rescue(ea,[n(w,"StandardError")]))try{return!1}finally{b.pop_exception()}else throw ea;}},C.$$arity=1);b.def(k,"$>",M=function(b){var g;G(g=this["$<=>"](b))||this.$raise(n(w,"ArgumentError"),"comparison of "+this.$class()+" with "+b.$class()+
" failed");return 0<n(w,"Comparable").$normalize(g)},M.$$arity=1);b.def(k,"$>=",K=function(b){var g;G(g=this["$<=>"](b))||this.$raise(n(w,"ArgumentError"),"comparison of "+this.$class()+" with "+b.$class()+" failed");return 0<=n(w,"Comparable").$normalize(g)},K.$$arity=1);b.def(k,"$<",x=function(b){var g;G(g=this["$<=>"](b))||this.$raise(n(w,"ArgumentError"),"comparison of "+this.$class()+" with "+b.$class()+" failed");return 0>n(w,"Comparable").$normalize(g)},x.$$arity=1);b.def(k,"$<=",l=function(b){var g;
G(g=this["$<=>"](b))||this.$raise(n(w,"ArgumentError"),"comparison of "+this.$class()+" with "+b.$class()+" failed");return 0>=n(w,"Comparable").$normalize(g)},l.$$arity=1);b.def(k,"$between?",la=function(b,g){return A(this,b)||r(this,g)?!1:!0},la.$$arity=2);b.def(k,"$clamp",P=function(b,g){var l=b["$<=>"](g);G(l)||this.$raise(n(w,"ArgumentError"),"comparison of "+b.$class()+" with "+g.$class()+" failed");G(r(n(w,"Comparable").$normalize(l),0))&&this.$raise(n(w,"ArgumentError"),"min argument must be smaller than max argument");
return G(A(n(w,"Comparable").$normalize(this["$<=>"](b)),0))?b:G(r(n(w,"Comparable").$normalize(this["$<=>"](g)),0))?g:this},P.$$arity=2)}(C[0],C)};
Opal.modules["corelib/regexp"]=function(b){var r=[],A=b.nil,C=b.const_get_relative,u=b.klass,n=b.send,g=b.truthy,G=b.gvars;b.add_stubs("$nil? $[] $raise $escape $options $to_str $new $join $coerce_to! $! $match $coerce_to? $begin $coerce_to $=~ $attr_reader $=== $inspect $to_a".split(" "));(function(b,$super,g){[u(b,$super,"RegexpError")].concat(g);return A})(r[0],C(r,"StandardError"),r);(function(k,$super,r){k=u(k,$super,"Regexp");var t=[k].concat(r),w,M,K,x,l,la,P,D,I,ea;b.const_set(t[0],"IGNORECASE",
1);b.const_set(t[0],"EXTENDED",2);b.const_set(t[0],"MULTILINE",4);b.defineProperty(k.$$prototype,"$$is_regexp",!0);(function(l,a){var c=[l].concat(a),v,B,k,q,h;b.def(l,"$allocate",v=function(){var a=v.$$p,c;a&&(v.$$p=null);var p=0;var h=arguments.length;for(c=Array(h);p<h;p++)c[p]=arguments[p];a=n(this,b.find_super_dispatcher(this,"allocate",v,!1),c,a);a.uninitialized=!0;return a},v.$$arity=0);b.def(l,"$escape",B=function(a){return b.escape_regexp(a)},B.$$arity=1);b.def(l,"$last_match",k=function(a){null==
G["~"]&&(G["~"]=A);null==a&&(a=A);return g(a["$nil?"]())?G["~"]:G["~"]["$[]"](a)},k.$$arity=-1);b.alias(l,"quote","escape");b.def(l,"$union",q=function(a){var d=b.slice.call(arguments,0,arguments.length);if(0==d.length)return/(?!)/;if(1==d.length&&d[0].$$is_regexp)return d[0];var p=d[0].$$is_array;1<d.length&&p&&this.$raise(C(c,"TypeError"),"no implicit conversion of Array into String");p&&(d=d[0]);var h=void 0;p=[];for(var q=0;q<d.length;q++){var m=d[q];if(m.$$is_string)p.push(this.$escape(m));else if(m.$$is_regexp){var e=
m.$options();void 0!=h&&h!=e&&this.$raise(C(c,"TypeError"),"All expressions must use the same options");h=e;p.push("("+m.source+")")}else p.push(this.$escape(m.$to_str()))}return this.$new(p.$join("|"),h)},q.$$arity=-1);return(b.def(l,"$new",h=function(a,b){if(a.$$is_regexp)return new RegExp(a);a=C(c,"Opal")["$coerce_to!"](a,C(c,"String"),"to_str");"\\"===a.charAt(a.length-1)&&"\\"!==a.charAt(a.length-2)&&this.$raise(C(c,"RegexpError"),"too short escape sequence: /"+a+"/");if(void 0===b||b["$!"]())return new RegExp(a);
if(b.$$is_number){var d="";C(c,"IGNORECASE")&b&&(d+="i");C(c,"MULTILINE")&b&&(d+="m");b=d}else b="i";return new RegExp(a,b)},h.$$arity=-2),A)&&"new"})(b.get_singleton_class(k),t);b.def(k,"$==",w=function(b){return b instanceof RegExp&&this.toString()===b.toString()},w.$$arity=1);b.def(k,"$===",M=function(b){return this.$match(C(t,"Opal")["$coerce_to?"](b,C(t,"String"),"to_str"))!==A},M.$$arity=1);b.def(k,"$=~",K=function(b){var a;null==G["~"]&&(G["~"]=A);return g(a=this.$match(b))?G["~"].$begin(0):
a},K.$$arity=1);b.alias(k,"eql?","==");b.def(k,"$inspect",x=function(){var b=this.toString(),a=/^\/(.*)\/([^\/]*)$/.exec(b);if(a){b=a[2];a=a[1].split("");for(var c=a.length,v=!1,g="",l=0;l<c;l++){var q=a[l];v||"/"!=q||(g=g.concat("\\"));g=g.concat(q);v="\\"==q?v?!1:!0:!1}return"/"+g+"/"+b}return b},x.$$arity=0);b.def(k,"$match",l=function(g,a){var c=l.$$p,v=c||A;null==G["~"]&&(G["~"]=A);c&&(l.$$p=null);c&&(l.$$p=null);this.uninitialized&&this.$raise(C(t,"TypeError"),"uninitialized Regexp");if(void 0===
a)return g===A?G["~"]=A:(g=this.exec(C(t,"Opal").$coerce_to(g,C(t,"String"),"to_str")))?(G["~"]=C(t,"MatchData").$new(this,g),v===A?G["~"]:b.yield1(v,G["~"])):G["~"]=A;a=C(t,"Opal").$coerce_to(a,C(t,"Integer"),"to_int");if(g===A)return G["~"]=A;g=C(t,"Opal").$coerce_to(g,C(t,"String"),"to_str");if(0>a&&(a+=g.length,0>a))return G["~"]=A;for(var B=b.global_regexp(this);;){c=B.exec(g);if(null===c)return G["~"]=A;if(c.index>=a)return G["~"]=C(t,"MatchData").$new(B,c),v===A?G["~"]:b.yield1(v,G["~"]);B.lastIndex=
c.index+1}},l.$$arity=-2);b.def(k,"$match?",la=function(g,a){this.uninitialized&&this.$raise(C(t,"TypeError"),"uninitialized Regexp");if(void 0===a)return g===A?!1:this.test(C(t,"Opal").$coerce_to(g,C(t,"String"),"to_str"));a=C(t,"Opal").$coerce_to(a,C(t,"Integer"),"to_int");if(g===A)return!1;g=C(t,"Opal").$coerce_to(g,C(t,"String"),"to_str");if(0>a&&(a+=g.length,0>a))return!1;g=b.global_regexp(this).exec(g);return null===g||g.index<a?!1:!0},la.$$arity=-2);b.def(k,"$~",P=function(){null==G._&&(G._=
A);return this["$=~"](G._)},P.$$arity=0);b.def(k,"$source",D=function(){return this.source},D.$$arity=0);b.def(k,"$options",I=function(){this.uninitialized&&this.$raise(C(t,"TypeError"),"uninitialized Regexp");var b=0;this.multiline&&(b|=C(t,"MULTILINE"));this.ignoreCase&&(b|=C(t,"IGNORECASE"));return b},I.$$arity=0);b.def(k,"$casefold?",ea=function(){return this.ignoreCase},ea.$$arity=0);return b.alias(k,"to_s","source")})(r[0],RegExp,r);return function(k,$super,r){k=u(k,$super,"MatchData");var t=
[k].concat(r),w,M,K,x,l,la,P,D,I,ea,Y,a;k.$$prototype.matches=A;k.$attr_reader("post_match","pre_match","regexp","string");b.def(k,"$initialize",w=function(a,b){G["~"]=this;this.regexp=a;this.begin=b.index;this.string=b.input;this.pre_match=b.input.slice(0,b.index);this.post_match=b.input.slice(b.index+b[0].length);this.matches=[];a=0;for(var c=b.length;a<c;a++){var g=b[a];null==g?this.matches.push(A):this.matches.push(g)}},w.$$arity=2);b.def(k,"$[]",M=function(a){var c=b.slice.call(arguments,0,arguments.length);
return n(this.matches,"[]",b.to_a(c))},M.$$arity=-1);b.def(k,"$offset",K=function(a){0!==a&&this.$raise(C(t,"ArgumentError"),"MatchData#offset only supports 0th element");return[this.begin,this.begin+this.matches[a].length]},K.$$arity=1);b.def(k,"$==",x=function(a){var b,c,l,q;return g(C(t,"MatchData")["$==="](a))?g(b=g(c=g(l=g(q=this.string==a.string)?this.regexp.toString()==a.regexp.toString():q)?this.pre_match==a.pre_match:l)?this.post_match==a.post_match:c)?this.begin==a.begin:b:!1},x.$$arity=
1);b.alias(k,"eql?","==");b.def(k,"$begin",l=function(a){0!==a&&this.$raise(C(t,"ArgumentError"),"MatchData#begin only supports 0th element");return this.begin},l.$$arity=1);b.def(k,"$end",la=function(a){0!==a&&this.$raise(C(t,"ArgumentError"),"MatchData#end only supports 0th element");return this.begin+this.matches[a].length},la.$$arity=1);b.def(k,"$captures",P=function(){return this.matches.slice(1)},P.$$arity=0);b.def(k,"$inspect",D=function(){for(var a="#<MatchData "+this.matches[0].$inspect(),
b=1,g=this.matches.length;b<g;b++)a+=" "+b+":"+this.matches[b].$inspect();return a+">"},D.$$arity=0);b.def(k,"$length",I=function(){return this.matches.length},I.$$arity=0);b.alias(k,"size","length");b.def(k,"$to_a",ea=function(){return this.matches},ea.$$arity=0);b.def(k,"$to_s",Y=function(){return this.matches[0]},Y.$$arity=0);return(b.def(k,"$values_at",a=function(a){var c=b.slice.call(arguments,0,arguments.length);var g,l=[];for(g=0;g<c.length;g++){if(c[g].$$is_range){var q=c[g].$to_a();q.unshift(g,
1);Array.prototype.splice.apply(c,q)}q=C(t,"Opal")["$coerce_to!"](c[g],C(t,"Integer"),"to_int");if(0>q&&(q+=this.matches.length,0>q)){l.push(A);continue}l.push(this.matches[q])}return l},a.$$arity=-1),A)&&"values_at"}(r[0],null,r)};
Opal.modules["corelib/string"]=function(b){function r(b,g){return"number"===typeof b&&"number"===typeof g?b/g:b["$/"](g)}function A(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}var C=b.top,u=[],n=b.nil,g=b.const_get_relative,G=b.klass,k=b.truthy,E=b.send,w=b.gvars;b.add_stubs("$require $include $coerce_to? $coerce_to $raise $=== $format $to_s $respond_to? $to_str $<=> $== $=~ $new $force_encoding $casecmp $empty? $ljust $ceil $/ $+ $rjust $floor $to_a $each_char $to_proc $coerce_to! $copy_singleton_methods $initialize_clone $initialize_dup $enum_for $size $chomp $[] $to_i $each_line $class $match $match? $captures $proc $succ $escape".split(" "));
C.$require("corelib/comparable");C.$require("corelib/regexp");(function(t,$super,u){function M(a){function b(a){var b="",d,e=a.length;for(d=0;d<e;d++){var f=a.charAt(d);if("-"===f&&0<d&&d<e-1&&!c){var c=a.charCodeAt(d-1);f=a.charCodeAt(d+1);c>f&&x.$raise(g(l,"ArgumentError"),'invalid range "'+c+"-"+f+'" in string transliteration');for(c+=1;c<f+1;c++)b+=String.fromCharCode(c);c=!0;d++}else c="\\"===f,b+=f}return b}function d(a,b){if(0===a.length)return b;var d="",e,f=a.length;for(e=0;e<f;e++){var c=
a.charAt(e);-1!==b.indexOf(c)&&(d+=c)}return d}var e,f="",c="";var m=0;for(e=a.length;m<e;m++){var Q=g(l,"Opal").$coerce_to(a[m],g(l,"String"),"to_str");var p="^"===Q.charAt(0)&&1<Q.length;Q=b(p?Q.slice(1):Q);p?c=d(c,Q):f=d(f,Q)}if(0<f.length&&0<c.length){Q="";m=0;for(e=f.length;m<e;m++)a=f.charAt(m),-1===c.indexOf(a)&&(Q+=a);f=Q;c=""}return 0<f.length?"["+g(l,"Regexp").$escape(f)+"]":0<c.length?"[^"+g(l,"Regexp").$escape(c)+"]":null}var x=G(t,$super,"String"),l=[x].concat(u),C,P,D,I,ea,Y,a,c,v,B,
J,q,h,d,z,p,S,L,m,e,f,U,T,ia,V,R,ca,y,fa,Z,ra,sa,oa,pa,ba,X,za,Na,Ca,ya,xa,ka,W,ma,aa,Ga,ta,Oa,na,ja,Pa,Va,Ua,ab,ha,ua,da,va,Aa,qa,Ia,Ha,Ja,Wa,Qa,Ma,Da,Ka,Xa,Sa,Ya,Za,$a,H,O,F;x.$include(g(l,"Comparable"));b.defineProperty(x.$$prototype,"$$is_string",!0);b.defineProperty(x.$$prototype,"$$cast",function(a){var b=this.$$class;return b.$$constructor===String?a:new b.$$constructor(a)});b.def(x,"$__id__",C=function(){return this.toString()},C.$$arity=0);b.alias(x,"object_id","__id__");b.defs(x,"$try_convert",
P=function(a){return g(l,"Opal")["$coerce_to?"](a,g(l,"String"),"to_str")},P.$$arity=1);b.defs(x,"$new",D=function(a){null==a&&(a="");a=g(l,"Opal").$coerce_to(a,g(l,"String"),"to_str");return new this.$$constructor(a)},D.$$arity=-1);b.def(x,"$initialize",I=function(a){return void 0===a?this:this.$raise(g(l,"NotImplementedError"),"Mutable strings are not supported in Opal.")},I.$$arity=-1);b.def(x,"$%",ea=function(a){return k(g(l,"Array")["$==="](a))?E(this,"format",[this].concat(b.to_a(a))):this.$format(this,
a)},ea.$$arity=1);b.def(x,"$*",Y=function(a){a=g(l,"Opal").$coerce_to(a,g(l,"Integer"),"to_int");0>a&&this.$raise(g(l,"ArgumentError"),"negative argument");if(0===a)return this.$$cast("");var b="",d=this.toString();for(268435456<=d.length*a&&this.$raise(g(l,"RangeError"),"multiply count must not overflow maximum string size");;){1===(a&1)&&(b+=d);a>>>=1;if(0===a)break;d+=d}return this.$$cast(b)},Y.$$arity=1);b.def(x,"$+",a=function(a){a=g(l,"Opal").$coerce_to(a,g(l,"String"),"to_str");return this+
a.$to_s()},a.$$arity=1);b.def(x,"$<=>",c=function(a){if(k(a["$respond_to?"]("to_str")))return a=a.$to_str().$to_s(),this>a?1:this<a?-1:0;a=a["$<=>"](this);return a===n?n:0<a?-1:0>a?1:0},c.$$arity=1);b.def(x,"$==",v=function(a){return a.$$is_string?this.toString()===a.toString():g(l,"Opal")["$respond_to?"](a,"to_str")?a["$=="](this):!1},v.$$arity=1);b.alias(x,"eql?","==");b.alias(x,"===","==");b.def(x,"$=~",B=function(a){a.$$is_string&&this.$raise(g(l,"TypeError"),"type mismatch: String given");return a["$=~"](this)},
B.$$arity=1);b.def(x,"$[]",J=function(a,b){var d=this.length;if(a.$$is_range){var e=a.excl;b=g(l,"Opal").$coerce_to(a.end,g(l,"Integer"),"to_int");a=g(l,"Opal").$coerce_to(a.begin,g(l,"Integer"),"to_int");if(Math.abs(a)>d)return n;0>a&&(a+=d);0>b&&(b+=d);e||(b+=1);b-=a;0>b&&(b=0);return this.$$cast(this.substr(a,b))}if(a.$$is_string)return null!=b&&this.$raise(g(l,"TypeError")),-1!==this.indexOf(a)?this.$$cast(a):n;if(a.$$is_regexp){d=this.match(a);if(null===d)return w["~"]=n;w["~"]=g(l,"MatchData").$new(a,
d);if(null==b)return this.$$cast(d[0]);b=g(l,"Opal").$coerce_to(b,g(l,"Integer"),"to_int");return 0>b&&-b<d.length?this.$$cast(d[b+d.length]):0<=b&&b<d.length?this.$$cast(d[b]):n}a=g(l,"Opal").$coerce_to(a,g(l,"Integer"),"to_int");0>a&&(a+=d);if(null==b)return a>=d||0>a?n:this.$$cast(this.substr(a,1));b=g(l,"Opal").$coerce_to(b,g(l,"Integer"),"to_int");return 0>b||a>d||0>a?n:this.$$cast(this.substr(a,b))},J.$$arity=-2);b.alias(x,"byteslice","[]");b.def(x,"$b",q=function(){return this.$force_encoding("binary")},
q.$$arity=0);b.def(x,"$capitalize",h=function(){return this.$$cast(this.charAt(0).toUpperCase()+this.substr(1).toLowerCase())},h.$$arity=0);b.def(x,"$casecmp",d=function(a){var b=this;if(!k(a["$respond_to?"]("to_str")))return n;a=g(l,"Opal").$coerce_to(a,g(l,"String"),"to_str").$to_s();var d=/^[\x00-\x7F]*$/;d.test(b)&&d.test(a)&&(b=b.toLowerCase(),a=a.toLowerCase());return b["$<=>"](a)},d.$$arity=1);b.def(x,"$casecmp?",z=function(a){a=this.$casecmp(a);return a===n?n:0===a},z.$$arity=1);b.def(x,"$center",
p=function(a,b){null==b&&(b=" ");a=g(l,"Opal").$coerce_to(a,g(l,"Integer"),"to_int");b=g(l,"Opal").$coerce_to(b,g(l,"String"),"to_str").$to_s();k(b["$empty?"]())&&this.$raise(g(l,"ArgumentError"),"zero width padding");if(k(a<=this.length))return this;var d=this.$ljust(r(A(a,this.length),2).$ceil(),b);a=this.$rjust(r(A(a,this.length),2).$floor(),b);return this.$$cast(a+d.slice(this.length))},p.$$arity=-2);b.def(x,"$chars",S=function(){var a=S.$$p,b=a||n;a&&(S.$$p=null);a&&(S.$$p=null);return k(b)?
E(this,"each_char",[],b.$to_proc()):this.$each_char().$to_a()},S.$$arity=0);b.def(x,"$chomp",L=function(a){null==w["/"]&&(w["/"]=n);null==a&&(a=w["/"]);if(k(a===n||0===this.length))return this;a=g(l,"Opal")["$coerce_to!"](a,g(l,"String"),"to_str").$to_s();var b;"\n"===a?b=this.replace(/\r?\n?$/,""):""===a?b=this.replace(/(\r?\n)+$/,""):this.length>=a.length&&this.substr(this.length-a.length,a.length)===a&&(b=this.substr(0,this.length-a.length));return null!=b?this.$$cast(b):this},L.$$arity=-1);b.def(x,
"$chop",m=function(){var a=this.length;a=1>=a?"":"\n"===this.charAt(a-1)&&"\r"===this.charAt(a-2)?this.substr(0,a-2):this.substr(0,a-1);return this.$$cast(a)},m.$$arity=0);b.def(x,"$chr",e=function(){return this.charAt(0)},e.$$arity=0);b.def(x,"$clone",f=function(){var a=this.slice();a.$copy_singleton_methods(this);a.$initialize_clone(this);return a},f.$$arity=0);b.def(x,"$dup",U=function(){var a=this.slice();a.$initialize_dup(this);return a},U.$$arity=0);b.def(x,"$count",T=function(a){var d=b.slice.call(arguments,
0,arguments.length);0===d.length&&this.$raise(g(l,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");d=M(d);return null===d?0:this.length-this.replace(new RegExp(d,"g"),"").length},T.$$arity=-1);b.def(x,"$delete",ia=function(a){var d=b.slice.call(arguments,0,arguments.length);0===d.length&&this.$raise(g(l,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");d=M(d);return null===d?this:this.$$cast(this.replace(new RegExp(d,"g"),""))},ia.$$arity=-1);b.def(x,"$delete_prefix",
V=function(a){a.$$is_string||(a=g(l,"Opal").$coerce_to(a,g(l,"String"),"to_str"));return this.slice(0,a.length)===a?this.$$cast(this.slice(a.length)):this},V.$$arity=1);b.def(x,"$delete_suffix",R=function(a){a.$$is_string||(a=g(l,"Opal").$coerce_to(a,g(l,"String"),"to_str"));return this.slice(this.length-a.length)===a?this.$$cast(this.slice(0,this.length-a.length)):this},R.$$arity=1);b.def(x,"$downcase",ca=function(){return this.$$cast(this.toLowerCase())},ca.$$arity=0);b.def(x,"$each_char",y=function(){var a=
y.$$p,d=a||n,e;a&&(y.$$p=null);a&&(y.$$p=null);if(d===n)return E(this,"enum_for",["each_char"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=0;for(var f=this.length;a<f;a++)b.yield1(d,this.charAt(a));return this},y.$$arity=0);b.def(x,"$each_line",fa=function(a){var d=fa.$$p,e=d||n;null==w["/"]&&(w["/"]=n);d&&(fa.$$p=null);d&&(fa.$$p=null);null==a&&(a=w["/"]);if(e===n)return this.$enum_for("each_line",a);if(a===n)return b.yield1(e,this),this;a=g(l,"Opal").$coerce_to(a,g(l,
"String"),"to_str");var f,c;if(0===a.length){a=this.split(/(\n{2,})/);d=0;for(f=a.length;d<f;d+=2)(a[d]||a[d+1])&&b.yield1(e,this.$$cast((a[d]||"")+(a[d+1]||"")));return this}d=this.$chomp(a);f=this.length!=d.length;var m=d.split(a);d=0;for(c=m.length;d<c;d++)d<c-1||f?b.yield1(e,this.$$cast(m[d]+a)):b.yield1(e,this.$$cast(m[d]));return this},fa.$$arity=-1);b.def(x,"$empty?",Z=function(){return 0===this.length},Z.$$arity=0);b.def(x,"$end_with?",ra=function(a){var d=b.slice.call(arguments,0,arguments.length);
for(var e=0,f=d.length;e<f;e++){var c=g(l,"Opal").$coerce_to(d[e],g(l,"String"),"to_str").$to_s();if(this.length>=c.length&&this.substr(this.length-c.length,c.length)==c)return!0}return!1},ra.$$arity=-1);b.alias(x,"equal?","===");b.def(x,"$gsub",sa=function(a,d){var e=sa.$$p,f=e||n,c=this;e&&(sa.$$p=null);e&&(sa.$$p=null);if(void 0===d&&f===n)return c.$enum_for("gsub",a);e="";var m=n,p=0;a.$$is_regexp?a=b.global_multiline_regexp(a):(a=g(l,"Opal").$coerce_to(a,g(l,"String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,
"\\$&"),"gm"));for(var h;;){var Q=a.exec(c);if(null===Q){w["~"]=n;e+=c.slice(p);break}m=g(l,"MatchData").$new(a,Q);if(void 0===d){h=a.lastIndex;var q=f(Q[0]);a.lastIndex=h}else d.$$is_hash?q=d["$[]"](Q[0]).$to_s():(d.$$is_string||(d=g(l,"Opal").$coerce_to(d,g(l,"String"),"to_str")),q=d.replace(/([\\]+)([0-9+&`'])/g,function(a,b,d){if(0===b.length%2)return a;switch(d){case "+":for(a=Q.length-1;0<a;a--)if(void 0!==Q[a])return b.slice(1)+Q[a];return"";case "&":return b.slice(1)+Q[0];case "`":return b.slice(1)+
c.slice(0,Q.index);case "'":return b.slice(1)+c.slice(Q.index+Q[0].length);default:return b.slice(1)+(Q[d]||"")}}).replace(/\\\\/g,"\\"));a.lastIndex===Q.index?(e+=q+c.slice(p,Q.index+1),a.lastIndex+=1):e+=c.slice(p,Q.index)+q;p=a.lastIndex}w["~"]=m;return c.$$cast(e)},sa.$$arity=-2);b.def(x,"$hash",oa=function(){return this.toString()},oa.$$arity=0);b.def(x,"$hex",pa=function(){return this.$to_i(16)},pa.$$arity=0);b.def(x,"$include?",ba=function(a){a.$$is_string||(a=g(l,"Opal").$coerce_to(a,g(l,
"String"),"to_str"));return-1!==this.indexOf(a)},ba.$$arity=1);b.def(x,"$index",X=function(a,d){var e;if(void 0===d)d=0;else if(d=g(l,"Opal").$coerce_to(d,g(l,"Integer"),"to_int"),0>d&&(d+=this.length,0>d))return n;if(a.$$is_regexp)for(e=b.global_multiline_regexp(a);;){a=e.exec(this);if(null===a){w["~"]=n;d=-1;break}if(a.index>=d){w["~"]=g(l,"MatchData").$new(e,a);d=a.index;break}e.lastIndex=a.index+1}else a=g(l,"Opal").$coerce_to(a,g(l,"String"),"to_str"),d=0===a.length&&d>this.length?-1:this.indexOf(a,
d);return-1===d?n:d},X.$$arity=-2);b.def(x,"$inspect",za=function(){var a={"\u0007":"\\a","\u001b":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(b){return a[b]||"\\u"+("0000"+b.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/#[\$@\{]/g,"\\$&")+'"'},za.$$arity=0);b.def(x,"$intern",Na=
function(){return this.toString()},Na.$$arity=0);b.def(x,"$lines",Ca=function(a){var b=Ca.$$p,d=b||n;null==w["/"]&&(w["/"]=n);b&&(Ca.$$p=null);b&&(Ca.$$p=null);null==a&&(a=w["/"]);a=E(this,"each_line",[a],d.$to_proc());return k(d)?this:a.$to_a()},Ca.$$arity=-1);b.def(x,"$length",ya=function(){return this.length},ya.$$arity=0);b.def(x,"$ljust",xa=function(a,b){null==b&&(b=" ");a=g(l,"Opal").$coerce_to(a,g(l,"Integer"),"to_int");b=g(l,"Opal").$coerce_to(b,g(l,"String"),"to_str").$to_s();k(b["$empty?"]())&&
this.$raise(g(l,"ArgumentError"),"zero width padding");if(k(a<=this.length))return this;var d=-1,e="";for(a-=this.length;++d<a;)e+=b;return this.$$cast(this+e.slice(0,a))},xa.$$arity=-2);b.def(x,"$lstrip",ka=function(){return this.replace(/^\s*/,"")},ka.$$arity=0);b.def(x,"$ascii_only?",W=function(){return this.match(/[ -~\n]*/)[0]===this},W.$$arity=0);b.def(x,"$match",ma=function(a,b){var d=ma.$$p,e=d||n,f;d&&(ma.$$p=null);d&&(ma.$$p=null);k(k(f=g(l,"String")["$==="](a))?f:a["$respond_to?"]("to_str"))&&
(a=g(l,"Regexp").$new(a.$to_str()));k(g(l,"Regexp")["$==="](a))||this.$raise(g(l,"TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)");return E(a,"match",[this,b],e.$to_proc())},ma.$$arity=-2);b.def(x,"$match?",aa=function(a,b){var d;k(k(d=g(l,"String")["$==="](a))?d:a["$respond_to?"]("to_str"))&&(a=g(l,"Regexp").$new(a.$to_str()));k(g(l,"Regexp")["$==="](a))||this.$raise(g(l,"TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)");return a["$match?"](this,b)},aa.$$arity=
-2);b.def(x,"$next",Ga=function(){var a=this.length;if(0===a)return this.$$cast("");for(var b=this,d=this.search(/[a-zA-Z0-9]/),e,f;a--;){f=this.charCodeAt(a);if(48<=f&&57>=f||65<=f&&90>=f||97<=f&&122>=f)switch(f){case 57:e=!0;f=48;break;case 90:e=!0;f=65;break;case 122:e=!0;f=97;break;default:e=!1,f+=1}else-1===d?255===f?(e=!0,f=0):(e=!1,f+=1):e=!0;b=b.slice(0,a)+String.fromCharCode(f)+b.slice(a+1);if(e&&(0===a||a===d)){switch(f){case 65:break;case 97:break;default:f+=1}b=0===a?String.fromCharCode(f)+
b:b.slice(0,a)+String.fromCharCode(f)+b.slice(a);e=!1}if(!e)break}return this.$$cast(b)},Ga.$$arity=0);b.def(x,"$oct",ta=function(){var a=this;var b=8;if(/^\s*_/.test(a))return 0;a=a.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(a,d,e,f){switch(f.charAt(0)){case "+":case "-":return a;case "0":if("x"===f.charAt(1)&&"0x"===e)return a}switch(e){case "0b":b=2;break;case "0":case "0o":b=8;break;case "0d":b=10;break;case "0x":b=16}return d+f});a=parseInt(a.replace(/_(?!_)/g,""),b);return isNaN(a)?0:a},
ta.$$arity=0);b.def(x,"$ord",Oa=function(){return this.charCodeAt(0)},Oa.$$arity=0);b.def(x,"$partition",na=function(a){if(a.$$is_regexp){var b=a.exec(this);null===b?b=-1:(g(l,"MatchData").$new(a,b),a=b[0],b=b.index)}else a=g(l,"Opal").$coerce_to(a,g(l,"String"),"to_str"),b=this.indexOf(a);return-1===b?[this,"",""]:[this.slice(0,b),this.slice(b,b+a.length),this.slice(b+a.length)]},na.$$arity=1);b.def(x,"$reverse",ja=function(){return this.split("").reverse().join("")},ja.$$arity=0);b.def(x,"$rindex",
Pa=function(a,d){if(void 0===d)d=this.length;else if(d=g(l,"Opal").$coerce_to(d,g(l,"Integer"),"to_int"),0>d&&(d+=this.length,0>d))return n;if(a.$$is_regexp){var e=null;for(a=b.global_multiline_regexp(a);;){var f=a.exec(this);if(null===f||f.index>d)break;e=f;a.lastIndex=e.index+1}null===e?(w["~"]=n,d=-1):(g(l,"MatchData").$new(a,e),d=e.index)}else a=g(l,"Opal").$coerce_to(a,g(l,"String"),"to_str"),d=this.lastIndexOf(a,d);return-1===d?n:d},Pa.$$arity=-2);b.def(x,"$rjust",Va=function(a,b){null==b&&
(b=" ");a=g(l,"Opal").$coerce_to(a,g(l,"Integer"),"to_int");b=g(l,"Opal").$coerce_to(b,g(l,"String"),"to_str").$to_s();k(b["$empty?"]())&&this.$raise(g(l,"ArgumentError"),"zero width padding");if(k(a<=this.length))return this;a=Math.floor(a-this.length);var d=Array(Math.floor(a/b.length)+1).join(b);return this.$$cast(d+b.slice(0,a-d.length)+this)},Va.$$arity=-2);b.def(x,"$rpartition",Ua=function(a){var d;if(a.$$is_regexp){var e=null;for(d=b.global_multiline_regexp(a);;){var f=d.exec(this);if(null===
f)break;e=f;d.lastIndex=e.index+1}null===e?e=-1:(g(l,"MatchData").$new(d,e),a=e[0],e=e.index)}else a=g(l,"Opal").$coerce_to(a,g(l,"String"),"to_str"),e=this.lastIndexOf(a);return-1===e?["","",this]:[this.slice(0,e),this.slice(e,e+a.length),this.slice(e+a.length)]},Ua.$$arity=1);b.def(x,"$rstrip",ab=function(){return this.replace(/[\s\u0000]*$/,"")},ab.$$arity=0);b.def(x,"$scan",ha=function(a){var d=ha.$$p,e=d||n;d&&(ha.$$p=null);d&&(ha.$$p=null);d=[];var f=n,c;a.$$is_regexp?a=b.global_multiline_regexp(a):
(a=g(l,"Opal").$coerce_to(a,g(l,"String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;null!=(c=a.exec(this));)f=g(l,"MatchData").$new(a,c),e===n?1==c.length?d.push(c[0]):d.push(f.$captures()):1==c.length?e(c[0]):e.call(this,f.$captures()),a.lastIndex===c.index&&(a.lastIndex+=1);w["~"]=f;return e!==n?this:d},ha.$$arity=1);b.alias(x,"size","length");b.alias(x,"slice","[]");b.def(x,"$split",ua=function(a,d){function e(){for(h=0;h<m.length;h++)m[h]=c.$$cast(m[h])}var f,
c=this;null==w[";"]&&(w[";"]=n);if(0===c.length)return[];if(void 0===d)d=0;else if(d=g(l,"Opal")["$coerce_to!"](d,g(l,"Integer"),"to_int"),1===d)return[c];if(void 0===a||a===n)a=k(f=w[";"])?f:" ";var m=[];f=c.toString();var p=0,h;a.$$is_regexp?a=b.global_multiline_regexp(a):(a=g(l,"Opal").$coerce_to(a,g(l,"String"),"to_str").$to_s()," "===a?(a=/\s+/gm,f=f.replace(/^\s+/,"")):a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));m=f.split(a);if(1===m.length&&m[0]===f)return[c.$$cast(m[0])];for(;-1!==
(h=m.indexOf(void 0));)m.splice(h,1);if(0===d){for(;""===m[m.length-1];)--m.length;e();return m}var q=a.exec(f);if(0>d){if(null!==q&&""===q[0]&&-1===a.source.indexOf("(?="))for(h=0,a=q.length;h<a;h++)m.push("");e();return m}if(null!==q&&""===q[0])return m.splice(d-1,m.length-1,m.slice(d-1).join("")),e(),m;if(d>=m.length)return e(),m;for(h=0;null!==q;){h++;p=a.lastIndex;if(h+1===d)break;q=a.exec(f)}m.splice(d-1,m.length-1,f.slice(p));e();return m},ua.$$arity=-1);b.def(x,"$squeeze",da=function(a){var d=
b.slice.call(arguments,0,arguments.length);if(0===d.length)return this.$$cast(this.replace(/(.)\1+/g,"$1"));d=M(d);return null===d?this:this.$$cast(this.replace(new RegExp("("+d+")\\1+","g"),"$1"))},da.$$arity=-1);b.def(x,"$start_with?",va=function(a){var d=b.slice.call(arguments,0,arguments.length);for(var e=0,f=d.length;e<f;e++){var c=g(l,"Opal").$coerce_to(d[e],g(l,"String"),"to_str").$to_s();if(0===this.indexOf(c))return!0}return!1},va.$$arity=-1);b.def(x,"$strip",Aa=function(){return this.replace(/^\s*/,
"").replace(/[\s\u0000]*$/,"")},Aa.$$arity=0);b.def(x,"$sub",qa=function(a,b){var d=qa.$$p,e=d||n,f=this;d&&(qa.$$p=null);d&&(qa.$$p=null);a.$$is_regexp||(a=g(l,"Opal").$coerce_to(a,g(l,"String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var c=a.exec(f);null===c?(w["~"]=n,a=f.toString()):(g(l,"MatchData").$new(a,c),void 0===b?(e===n&&f.$raise(g(l,"ArgumentError"),"wrong number of arguments (1 for 2)"),a=f.slice(0,c.index)+e(c[0])+f.slice(c.index+c[0].length)):b.$$is_hash?a=
f.slice(0,c.index)+b["$[]"](c[0]).$to_s()+f.slice(c.index+c[0].length):(b=g(l,"Opal").$coerce_to(b,g(l,"String"),"to_str"),b=b.replace(/([\\]+)([0-9+&`'])/g,function(a,b,d){if(0===b.length%2)return a;switch(d){case "+":for(a=c.length-1;0<a;a--)if(void 0!==c[a])return b.slice(1)+c[a];return"";case "&":return b.slice(1)+c[0];case "`":return b.slice(1)+f.slice(0,c.index);case "'":return b.slice(1)+f.slice(c.index+c[0].length);default:return b.slice(1)+(c[d]||"")}}).replace(/\\\\/g,"\\"),a=f.slice(0,
c.index)+b+f.slice(c.index+c[0].length)));return f.$$cast(a)},qa.$$arity=-2);b.alias(x,"succ","next");b.def(x,"$sum",Ia=function(a){null==a&&(a=16);a=g(l,"Opal").$coerce_to(a,g(l,"Integer"),"to_int");for(var b=0,d=this.length,e=0;e<d;e++)b+=this.charCodeAt(e);return 0>=a?b:b&Math.pow(2,a)-1},Ia.$$arity=-1);b.def(x,"$swapcase",Ha=function(){var a=this.replace(/([a-z]+)|([A-Z]+)/g,function(a,b,d){return b?a.toUpperCase():a.toLowerCase()});return this.constructor===String?a:this.$class().$new(a)},Ha.$$arity=
0);b.def(x,"$to_f",Ja=function(){if("_"===this.charAt(0))return 0;var a=parseFloat(this.replace(/_/g,""));return isNaN(a)||Infinity==a||-Infinity==a?0:a},Ja.$$arity=0);b.def(x,"$to_i",Wa=function(a){null==a&&(a=10);var b=this.toLowerCase(),d=g(l,"Opal").$coerce_to(a,g(l,"Integer"),"to_int");(1===d||0>d||36<d)&&this.$raise(g(l,"ArgumentError"),"invalid radix "+d);if(/^\s*_/.test(b))return 0;b=b.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(a,b,e,f){switch(f.charAt(0)){case "+":case "-":return a;case "0":if("x"===
f.charAt(1)&&"0x"===e&&(0===d||16===d))return a}switch(e){case "0b":if(0===d||2===d)return d=2,b+f;break;case "0":case "0o":if(0===d||8===d)return d=8,b+f;break;case "0d":if(0===d||10===d)return d=10,b+f;break;case "0x":if(0===d||16===d)return d=16,b+f}return a});a=parseInt(b.replace(/_(?!_)/g,""),d);return isNaN(a)?0:a},Wa.$$arity=-1);b.def(x,"$to_proc",Qa=function(){var a,d=n;Qa.$$p&&(Qa.$$p=null);d=A("$",this.valueOf());return E(this,"proc",[],(a=function(e){var f=a.$$s||this,c=a.$$p,m=c||n;c&&
(a.$$p=null);c=b.slice.call(arguments,0,arguments.length);0===c.length&&f.$raise(g(l,"ArgumentError"),"no receiver given");f=c[0];null==f&&(f=n);var p=f[d];if(!p)return f.$method_missing.apply(f,c);"function"===typeof m&&(p.$$p=m);return 1===c.length?p.call(f):p.apply(f,c.slice(1))},a.$$s=this,a.$$arity=-1,a))},Qa.$$arity=0);b.def(x,"$to_s",Ma=function(){return this.toString()},Ma.$$arity=0);b.alias(x,"to_str","to_s");b.alias(x,"to_sym","intern");b.def(x,"$tr",Da=function(a,b){a=g(l,"Opal").$coerce_to(a,
g(l,"String"),"to_str").$to_s();b=g(l,"Opal").$coerce_to(b,g(l,"String"),"to_str").$to_s();if(0==a.length||a===b)return this;var d={};var e=a.split("");var f=e.length,c=b.split(""),m=c.length;a=!1;var p=null;"^"===e[0]&&1<e.length&&(a=!0,e.shift(),p=c[m-1],--f);var h=[];var q=null;var y=!1;for(b=0;b<f;b++){var F=e[b];if(null==q)q=F,h.push(F);else if("-"===F)"-"===q?(h.push("-"),h.push("-")):b==f-1?h.push("-"):y=!0;else if(y){q=q.charCodeAt(0);y=F.charCodeAt(0);q>y&&this.$raise(g(l,"ArgumentError"),
'invalid range "'+String.fromCharCode(q)+"-"+String.fromCharCode(y)+'" in string transliteration');for(q+=1;q<y;q++)h.push(String.fromCharCode(q));h.push(F);q=y=null}else h.push(F)}e=h;f=e.length;if(a)for(b=0;b<f;b++)d[e[b]]=!0;else{if(0<m){h=[];q=null;y=!1;for(b=0;b<m;b++)if(F=c[b],null==q)q=F,h.push(F);else if("-"===F)"-"===q?(h.push("-"),h.push("-")):b==m-1?h.push("-"):y=!0;else if(y){q=q.charCodeAt(0);y=F.charCodeAt(0);q>y&&this.$raise(g(l,"ArgumentError"),'invalid range "'+String.fromCharCode(q)+
"-"+String.fromCharCode(y)+'" in string transliteration');for(q+=1;q<y;q++)h.push(String.fromCharCode(q));h.push(F);q=y=null}else h.push(F);c=h;m=c.length}F=f-m;if(0<F)for(m=0<m?c[m-1]:"",b=0;b<F;b++)c.push(m);for(b=0;b<f;b++)d[e[b]]=c[b]}f="";b=0;for(e=this.length;b<e;b++)F=this.charAt(b),c=d[F],f=a?f+(null==c?p:F):f+(null!=c?c:F);return this.$$cast(f)},Da.$$arity=2);b.def(x,"$tr_s",Ka=function(a,b){a=g(l,"Opal").$coerce_to(a,g(l,"String"),"to_str").$to_s();b=g(l,"Opal").$coerce_to(b,g(l,"String"),
"to_str").$to_s();if(0==a.length)return this;var d={};var e=a.split("");var f=e.length,c=b.split(""),m=c.length;a=!1;var p=null;"^"===e[0]&&1<e.length&&(a=!0,e.shift(),p=c[m-1],--f);var h=[];var q=null;var y=!1;for(b=0;b<f;b++){var F=e[b];if(null==q)q=F,h.push(F);else if("-"===F)"-"===q?(h.push("-"),h.push("-")):b==f-1?h.push("-"):y=!0;else if(y){q=q.charCodeAt(0);y=F.charCodeAt(0);q>y&&this.$raise(g(l,"ArgumentError"),'invalid range "'+String.fromCharCode(q)+"-"+String.fromCharCode(y)+'" in string transliteration');
for(q+=1;q<y;q++)h.push(String.fromCharCode(q));h.push(F);q=y=null}else h.push(F)}e=h;f=e.length;if(a)for(b=0;b<f;b++)d[e[b]]=!0;else{if(0<m){h=[];y=!1;for(b=0;b<m;b++)if(F=c[b],null==q)q=F,h.push(F);else if("-"===F)b==m-1?h.push("-"):y=!0;else if(y){q=q.charCodeAt(0);y=F.charCodeAt(0);q>y&&this.$raise(g(l,"ArgumentError"),'invalid range "'+String.fromCharCode(q)+"-"+String.fromCharCode(y)+'" in string transliteration');for(q+=1;q<y;q++)h.push(String.fromCharCode(q));h.push(F);q=y=null}else h.push(F);
c=h;m=c.length}F=f-m;if(0<F)for(m=0<m?c[m-1]:"",b=0;b<F;b++)c.push(m);for(b=0;b<f;b++)d[e[b]]=c[b]}f="";c=null;b=0;for(e=this.length;b<e;b++)if(F=this.charAt(b),m=d[F],a)null==m?null==c&&(f+=p,c=!0):(f+=F,c=null);else if(null!=m){if(null==c||c!==m)f+=m,c=m}else f+=F,c=null;return this.$$cast(f)},Ka.$$arity=2);b.def(x,"$upcase",Xa=function(){return this.$$cast(this.toUpperCase())},Xa.$$arity=0);b.def(x,"$upto",Sa=function(a,b){var d=Sa.$$p,e=d||n;d&&(Sa.$$p=null);d&&(Sa.$$p=null);null==b&&(b=!1);if(e===
n)return this.$enum_for("upto",a,b);a=g(l,"Opal").$coerce_to(a,g(l,"String"),"to_str");d=this.toString();if(1===d.length&&1===a.length)for(d=d.charCodeAt(0),a=a.charCodeAt(0);d<=a&&(!b||d!==a);)e(String.fromCharCode(d)),d+=1;else if(parseInt(d,10).toString()===d&&parseInt(a,10).toString()===a)for(d=parseInt(d,10),a=parseInt(a,10);d<=a&&(!b||d!==a);)e(d.toString()),d+=1;else for(;d.length<=a.length&&d<=a&&(!b||d!==a);)e(d),d=d.$succ();return this},Sa.$$arity=-2);b.def(x,"$instance_variables",Ya=function(){return[]},
Ya.$$arity=0);b.defs(x,"$_load",Za=function(a){var d=b.slice.call(arguments,0,arguments.length);return E(this,"new",b.to_a(d))},Za.$$arity=-1);b.def(x,"$unicode_normalize",$a=function(a){return this.toString()},$a.$$arity=-1);b.def(x,"$unicode_normalized?",H=function(a){return!0},H.$$arity=-1);b.def(x,"$unpack",O=function(a){return this.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},O.$$arity=1);return(b.def(x,"$unpack1",F=function(a){return this.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},
F.$$arity=1),n)&&"unpack1"})(u[0],String,u);return b.const_set(u[0],"Symbol",g(u,"String"))};
Opal.modules["corelib/enumerable"]=function(b){function r(b,g){return"number"===typeof b&&"number"===typeof g?b>g:b["$>"](g)}function A(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}function C(b,g){return"number"===typeof b&&"number"===typeof g?b-g:b["$-"](g)}function u(b,g){return"number"===typeof b&&"number"===typeof g?b<=g:b["$<="](g)}var n=[],g=b.nil,G=b.const_get_qualified,k=b.const_get_relative,E=b.module,w=b.truthy,t=b.send,N=b.falsy,M=b.hash2,K=b.lambda;b.add_stubs("$each $public_send $destructure $to_enum $enumerator_size $new $yield $raise $slice_when $! $enum_for $flatten $map $warn $proc $== $nil? $respond_to? $coerce_to! $> $* $coerce_to $try_convert $< $+ $- $ceil $/ $size $__send__ $length $<= $[] $push $<< $[]= $=== $inspect $<=> $first $reverse $sort $to_proc $compare $call $dup $to_a $sort! $map! $key? $values $zip".split(" "));
return function(n,l){function x(a){0===a.length&&(a=[g]);1<a.length&&(a=[a]);return a}n=E(n,"Enumerable");var P=[n].concat(l),D,I,ea,Y,a,c,v,B,J,q,h,d,z,p,S,L,m,e,f,U,T,ia,V,R,ca,y,fa,Z,ra,sa,oa,pa,ba,X,za,Na,Ca,ya,xa,ka,W,ma,aa,Ga,ta,Oa,na,ja;b.def(n,"$all?",D=function(a){try{var d=D.$$p,e=d||g,f,c,m;d&&(D.$$p=null);d&&(D.$$p=null);w(void 0!==a)?t(this,"each",[],(f=function(d){var e=b.slice.call(arguments,0,arguments.length);e=x(e);if(w(t(a,"public_send",["==="].concat(b.to_a(e)))))return g;b.ret(!1)},
f.$$s=this,f.$$arity=-1,f)):e!==g?t(this,"each",[],(c=function(a){var d=b.slice.call(arguments,0,arguments.length);if(w(b.yieldX(e,b.to_a(d))))return g;b.ret(!1)},c.$$s=this,c.$$arity=-1,c)):t(this,"each",[],(m=function(a){var d=b.slice.call(arguments,0,arguments.length);if(w(k(P,"Opal").$destructure(d)))return g;b.ret(!1)},m.$$s=this,m.$$arity=-1,m));return!0}catch(da){if(da===b.returner)return da.$v;throw da;}},D.$$arity=-1);b.def(n,"$any?",I=function(a){try{var d=I.$$p,e=d||g,f,c,m;d&&(I.$$p=null);
d&&(I.$$p=null);w(void 0!==a)?t(this,"each",[],(f=function(d){var e=b.slice.call(arguments,0,arguments.length);e=x(e);if(w(t(a,"public_send",["==="].concat(b.to_a(e)))))b.ret(!0);else return g},f.$$s=this,f.$$arity=-1,f)):e!==g?t(this,"each",[],(c=function(a){var d=b.slice.call(arguments,0,arguments.length);if(w(b.yieldX(e,b.to_a(d))))b.ret(!0);else return g},c.$$s=this,c.$$arity=-1,c)):t(this,"each",[],(m=function(a){var d=b.slice.call(arguments,0,arguments.length);if(w(k(P,"Opal").$destructure(d)))b.ret(!0);
else return g},m.$$s=this,m.$$arity=-1,m));return!1}catch(da){if(da===b.returner)return da.$v;throw da;}},I.$$arity=-1);b.def(n,"$chunk",ea=function(){var a=ea.$$p,d=a||g,e,f;a&&(ea.$$p=null);a&&(ea.$$p=null);return d===g?t(this,"to_enum",["chunk"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e)):t(G("::","Enumerator"),"new",[],(f=function(a){function e(){0<p.length&&a.$yield(m,p)}var c=f.$$s||this;null==a&&(a=g);var m=g,p=[];c.$each.$$p=function(a){var f=b.yield1(d,
a);f===g?(e(),p=[],m=g):(m===g||m===f?p.push(a):(e(),p=[a]),m=f)};c.$each();e()},f.$$s=this,f.$$arity=1,f))},ea.$$arity=0);b.def(n,"$chunk_while",Y=function(){var a=Y.$$p,d=a||g,e;a&&(Y.$$p=null);a&&(Y.$$p=null);d===g&&this.$raise(k(P,"ArgumentError"),"no block given");return t(this,"slice_when",[],(e=function(a,e){null==a&&(a=g);null==e&&(e=g);return b.yieldX(d,[a,e])["$!"]()},e.$$s=this,e.$$arity=2,e))},Y.$$arity=0);b.def(n,"$collect",a=function(){var d=a.$$p,e=d||g,f;d&&(a.$$p=null);d&&(a.$$p=
null);if(e===g)return t(this,"enum_for",["collect"],(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f.$$arity=0,f));var c=[];this.$each.$$p=function(){var a=b.yieldX(e,arguments);c.push(a)};this.$each();return c},a.$$arity=0);b.def(n,"$collect_concat",c=function(){var a=c.$$p,d=a||g,e,f;a&&(c.$$p=null);a&&(c.$$p=null);return d===g?t(this,"enum_for",["collect_concat"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e)):t(this,"map",[],(f=function(a){null==
a&&(a=g);return b.yield1(d,a)},f.$$s=this,f.$$arity=1,f)).$flatten(1)},c.$$arity=0);b.def(n,"$count",v=function(a){var d=v.$$p,e=d||g,f,c,m,p=g;d&&(v.$$p=null);d&&(v.$$p=null);p=0;null!=a&&e!==g&&this.$warn("warning: given block not used");w(null!=a)?e=t(this,"proc",[],(f=function(d){var e=b.slice.call(arguments,0,arguments.length);return k(P,"Opal").$destructure(e)["$=="](a)},f.$$s=this,f.$$arity=-1,f)):w(e["$nil?"]())&&(e=t(this,"proc",[],(c=function(){return!0},c.$$s=this,c.$$arity=0,c)));t(this,
"each",[],(m=function(a){var d=b.slice.call(arguments,0,arguments.length);return w(b.yieldX(e,d))?p++:g},m.$$s=this,m.$$arity=-1,m));return p},v.$$arity=-1);b.def(n,"$cycle",B=function(a){var d=B.$$p,e=d||g,f;d&&(B.$$p=null);d&&(B.$$p=null);null==a&&(a=g);if(e===g)return t(this,"enum_for",["cycle",a],(f=function(){var b=f.$$s||this;if(w(a["$nil?"]()))return w(b["$respond_to?"]("size"))?G(k(P,"Float"),"INFINITY"):g;a=k(P,"Opal")["$coerce_to!"](a,k(P,"Integer"),"to_int");return w(r(a,0))?(b=b.$enumerator_size(),
"number"===typeof b&&"number"===typeof a?b*a:b["$*"](a)):0},f.$$s=this,f.$$arity=0,f));if(!w(a["$nil?"]())&&(a=k(P,"Opal")["$coerce_to!"](a,k(P,"Integer"),"to_int"),w(0>=a)))return g;var c=[],m;this.$each.$$p=function(){var a=k(P,"Opal").$destructure(arguments);b.yield1(e,a);c.push(a)};this.$each();if(0===c.length)return g;if(a===g)for(;;)for(d=0,m=c.length;d<m;d++)b.yield1(e,c[d]);else for(;1<a;){d=0;for(m=c.length;d<m;d++)b.yield1(e,c[d]);a--}},B.$$arity=-1);b.def(n,"$detect",J=function(a){try{var d=
J.$$p,e=d||g,f;d&&(J.$$p=null);d&&(J.$$p=null);if(e===g)return this.$enum_for("detect",a);t(this,"each",[],(f=function(a){var d=b.slice.call(arguments,0,arguments.length);d=k(P,"Opal").$destructure(d);if(w(b.yield1(e,d)))b.ret(d);else return g},f.$$s=this,f.$$arity=-1,f));return void 0!==a?"function"===typeof a?a():a:g}catch(ha){if(ha===b.returner)return ha.$v;throw ha;}},J.$$arity=-1);b.def(n,"$drop",q=function(a){a=k(P,"Opal").$coerce_to(a,k(P,"Integer"),"to_int");w(0>a)&&this.$raise(k(P,"ArgumentError"),
"attempt to drop negative size");var b=[],d=0;this.$each.$$p=function(){a<=d&&b.push(k(P,"Opal").$destructure(arguments));d++};this.$each();return b},q.$$arity=1);b.def(n,"$drop_while",h=function(){var a=h.$$p,d=a||g;a&&(h.$$p=null);a&&(h.$$p=null);if(d===g)return this.$enum_for("drop_while");var e=[],f=!0;this.$each.$$p=function(){var a=k(P,"Opal").$destructure(arguments);if(f){var c=b.yield1(d,a);N(c)&&(f=!1,e.push(a))}else e.push(a)};this.$each();return e},h.$$arity=0);b.def(n,"$each_cons",d=function(a){var e=
d.$$p,f=e||g,c;e&&(d.$$p=null);e&&(d.$$p=null);w(1!=arguments.length)&&this.$raise(k(P,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)");a=k(P,"Opal").$try_convert(a,k(P,"Integer"),"to_int");w(0>=a)&&this.$raise(k(P,"ArgumentError"),"invalid size");if(f===g)return t(this,"enum_for",["each_cons",a],(c=function(){var b;var d=(c.$$s||this).$enumerator_size();return w(d["$nil?"]())?g:w(w(b=d["$=="](0))?b:"number"===typeof d&&"number"===typeof a?d<a:d["$<"](a))?0:A(C(d,a),1)},
c.$$s=this,c.$$arity=0,c));var m=[];this.$each.$$p=function(){var d=k(P,"Opal").$destructure(arguments);m.push(d);m.length>a&&m.shift();m.length==a&&b.yield1(f,m.slice(0,a))};this.$each();return g},d.$$arity=1);b.def(n,"$each_entry",z=function(a){var d=z.$$p,e=d||g,f;d&&(z.$$p=null);d&&(z.$$p=null);d=b.slice.call(arguments,0,arguments.length);if(e===g)return t(this,"to_enum",["each_entry"].concat(b.to_a(d)),(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f.$$arity=0,f));this.$each.$$p=
function(){var a=k(P,"Opal").$destructure(arguments);b.yield1(e,a)};this.$each.apply(this,d);return this},z.$$arity=-1);b.def(n,"$each_slice",p=function(a){var d=p.$$p,e=d||g,f;d&&(p.$$p=null);d&&(p.$$p=null);a=k(P,"Opal").$coerce_to(a,k(P,"Integer"),"to_int");w(0>=a)&&this.$raise(k(P,"ArgumentError"),"invalid slice size");if(e===g)return t(this,"enum_for",["each_slice",a],(f=function(){var b=f.$$s||this;return w(b["$respond_to?"]("size"))?(b=b.$size(),("number"===typeof b&&"number"===typeof a?b/
a:b["$/"](a)).$ceil()):g},f.$$s=this,f.$$arity=0,f));var c=[];this.$each.$$p=function(){var d=k(P,"Opal").$destructure(arguments);c.push(d);c.length===a&&(b.yield1(e,c),c=[])};this.$each();0<c.length&&b.yield1(e,c);return g},p.$$arity=1);b.def(n,"$each_with_index",S=function(a){var d=S.$$p,e=d||g,f;d&&(S.$$p=null);d&&(S.$$p=null);d=b.slice.call(arguments,0,arguments.length);if(e===g)return t(this,"enum_for",["each_with_index"].concat(b.to_a(d)),(f=function(){return(f.$$s||this).$enumerator_size()},
f.$$s=this,f.$$arity=0,f));var c=0;this.$each.$$p=function(){var a=k(P,"Opal").$destructure(arguments);e(a,c);c++};this.$each.apply(this,d);return this},S.$$arity=-1);b.def(n,"$each_with_object",L=function(a){var b=L.$$p,d=b||g,e;b&&(L.$$p=null);b&&(L.$$p=null);if(d===g)return t(this,"enum_for",["each_with_object",a],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));this.$each.$$p=function(){var b=k(P,"Opal").$destructure(arguments);d(b,a)};this.$each();return a},L.$$arity=
1);b.def(n,"$entries",m=function(a){var d=b.slice.call(arguments,0,arguments.length);var e=[];this.$each.$$p=function(){e.push(k(P,"Opal").$destructure(arguments))};this.$each.apply(this,d);return e},m.$$arity=-1);b.alias(n,"find","detect");b.def(n,"$find_all",e=function(){var a=e.$$p,d=a||g,f;a&&(e.$$p=null);a&&(e.$$p=null);if(d===g)return t(this,"enum_for",["find_all"],(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f.$$arity=0,f));var c=[];this.$each.$$p=function(){var a=k(P,"Opal").$destructure(arguments),
e=b.yield1(d,a);w(e)&&c.push(a)};this.$each();return c},e.$$arity=0);b.def(n,"$find_index",f=function(a){try{var d=f.$$p,e=d||g,c,m,p=g;d&&(f.$$p=null);d&&(f.$$p=null);if(w(void 0===a&&e===g))return this.$enum_for("find_index");null!=a&&e!==g&&this.$warn("warning: given block not used");p=0;w(null!=a)?t(this,"each",[],(c=function(d){var e=b.slice.call(arguments,0,arguments.length);k(P,"Opal").$destructure(e)["$=="](a)&&b.ret(p);return p+=1},c.$$s=this,c.$$arity=-1,c)):t(this,"each",[],(m=function(a){var d=
b.slice.call(arguments,0,arguments.length);w(b.yieldX(e,b.to_a(d)))&&b.ret(p);return p+=1},m.$$s=this,m.$$arity=-1,m));return g}catch(da){if(da===b.returner)return da.$v;throw da;}},f.$$arity=-1);b.def(n,"$first",U=function(a){try{var d,e,f=g,c=g;if(w(void 0===a))return t(this,"each",[],(d=function(a){null==a&&(a=g);b.ret(a)},d.$$s=this,d.$$arity=1,d));f=[];a=k(P,"Opal").$coerce_to(a,k(P,"Integer"),"to_int");w(0>a)&&this.$raise(k(P,"ArgumentError"),"attempt to take negative size");if(w(0==a))return[];
c=0;t(this,"each",[],(e=function(d){var e=b.slice.call(arguments,0,arguments.length);f.push(k(P,"Opal").$destructure(e));if(w(a<=++c))b.ret(f);else return g},e.$$s=this,e.$$arity=-1,e));return f}catch(ua){if(ua===b.returner)return ua.$v;throw ua;}},U.$$arity=-1);b.alias(n,"flat_map","collect_concat");b.def(n,"$grep",T=function(a){var d=T.$$p,e=d||g,f,c=g;d&&(T.$$p=null);d&&(T.$$p=null);c=[];t(this,"each",[],(f=function(d){var f=b.slice.call(arguments,0,arguments.length);var m=x(f);if(!w(t(a,"__send__",
["==="].concat(b.to_a(m)))))return g;e!==g?(w(r(f.$length(),1))&&(f=[f]),f=b.yieldX(e,b.to_a(f))):w(u(f.$length(),1))&&(f=f["$[]"](0));return c.$push(f)},f.$$s=this,f.$$arity=-1,f));return c},T.$$arity=1);b.def(n,"$grep_v",ia=function(a){var d=ia.$$p,e=d||g,f,c=g;d&&(ia.$$p=null);d&&(ia.$$p=null);c=[];t(this,"each",[],(f=function(d){var f=b.slice.call(arguments,0,arguments.length);var m=x(f);if(w(t(a,"__send__",["==="].concat(b.to_a(m)))))return g;e!==g?(w(r(f.$length(),1))&&(f=[f]),f=b.yieldX(e,
b.to_a(f))):w(u(f.$length(),1))&&(f=f["$[]"](0));return c.$push(f)},f.$$s=this,f.$$arity=-1,f));return c},ia.$$arity=1);b.def(n,"$group_by",V=function(){var a=V.$$p,d=a||g,e,f,c=g,m=g;a&&(V.$$p=null);a&&(V.$$p=null);if(d===g)return t(this,"enum_for",["group_by"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));c=M([],{});this.$each.$$p=function(){var a=k(P,"Opal").$destructure(arguments),e=b.yield1(d,a);(w(f=c["$[]"](e))?f:(m=[e,[]],t(c,"[]=",b.to_a(m)),m[C(m.length,
1)]))["$<<"](a)};this.$each();return c},V.$$arity=0);b.def(n,"$include?",R=function(a){try{var d;t(this,"each",[],(d=function(d){var e=b.slice.call(arguments,0,arguments.length);if(k(P,"Opal").$destructure(e)["$=="](a))b.ret(!0);else return g},d.$$s=this,d.$$arity=-1,d));return!1}catch(Ua){if(Ua===b.returner)return Ua.$v;throw Ua;}},R.$$arity=1);b.def(n,"$inject",ca=function(a,d){var e=ca.$$p,f=e||g;e&&(ca.$$p=null);e&&(ca.$$p=null);var c=a;f!==g&&void 0===d?this.$each.$$p=function(){var a=k(P,"Opal").$destructure(arguments);
void 0!==c&&(a=b.yieldX(f,[c,a]));c=a}:(void 0===d&&(k(P,"Symbol")["$==="](a)||this.$raise(k(P,"TypeError"),""+a.$inspect()+" is not a Symbol"),d=a,c=void 0),this.$each.$$p=function(){var a=k(P,"Opal").$destructure(arguments);c=void 0===c?a:c.$__send__(d,a)});this.$each();return void 0==c?g:c},ca.$$arity=-1);b.def(n,"$lazy",y=function(){var a;return t(G(k(P,"Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],(a=function(a,d){null==a&&(a=g);var e=b.slice.call(arguments,1,arguments.length);return t(a,
"yield",b.to_a(e))},a.$$s=this,a.$$arity=-2,a))},y.$$arity=0);b.def(n,"$enumerator_size",fa=function(){return w(this["$respond_to?"]("size"))?this.$size():g},fa.$$arity=0);b.alias(n,"map","collect");b.def(n,"$max",Z=function(a){var d=Z.$$p,e=d||g,f=this;d&&(Z.$$p=null);d&&(Z.$$p=null);if(void 0===a||a===g){var c,m;f.$each.$$p=function(){var a=k(P,"Opal").$destructure(arguments);void 0===c?c=a:(m=e!==g?b.yieldX(e,[a,c]):a["$<=>"](c),m===g&&f.$raise(k(P,"ArgumentError"),"comparison failed"),0<m&&(c=
a))};f.$each();return void 0===c?g:c}a=k(P,"Opal").$coerce_to(a,k(P,"Integer"),"to_int");return t(f,"sort",[],e.$to_proc()).$reverse().$first(a)},Z.$$arity=-1);b.def(n,"$max_by",ra=function(){var a=ra.$$p,d=a||g,e;a&&(ra.$$p=null);a&&(ra.$$p=null);if(!w(d))return t(this,"enum_for",["max_by"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var f,c;this.$each.$$p=function(){var a=k(P,"Opal").$destructure(arguments),e=b.yield1(d,a);void 0===f?(f=a,c=e):0<e["$<=>"](c)&&
(f=a,c=e)};this.$each();return void 0===f?g:f},ra.$$arity=0);b.alias(n,"member?","include?");b.def(n,"$min",sa=function(){var a=sa.$$p,b=a||g,d=this;a&&(sa.$$p=null);a&&(sa.$$p=null);var e;d.$each.$$p=b!==g?function(){var a=k(P,"Opal").$destructure(arguments);if(void 0===e)e=a;else{var f=b(a,e);f===g&&d.$raise(k(P,"ArgumentError"),"comparison failed");0>f&&(e=a)}}:function(){var a=k(P,"Opal").$destructure(arguments);void 0===e?e=a:0>k(P,"Opal").$compare(a,e)&&(e=a)};d.$each();return void 0===e?g:
e},sa.$$arity=0);b.def(n,"$min_by",oa=function(){var a=oa.$$p,d=a||g,e;a&&(oa.$$p=null);a&&(oa.$$p=null);if(!w(d))return t(this,"enum_for",["min_by"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var f,c;this.$each.$$p=function(){var a=k(P,"Opal").$destructure(arguments),e=b.yield1(d,a);void 0===f?(f=a,c=e):0>e["$<=>"](c)&&(f=a,c=e)};this.$each();return void 0===f?g:f},oa.$$arity=0);b.def(n,"$minmax",pa=function(){var a=pa.$$p,b=a||g,d,e,f=this;a&&(pa.$$p=null);
a&&(pa.$$p=null);b=w(d=b)?d:t(f,"proc",[],(e=function(a,b){null==a&&(a=g);null==b&&(b=g);return a["$<=>"](b)},e.$$s=f,e.$$arity=2,e));var c=g,m=g,p=!0;f.$each.$$p=function(){var a=k(P,"Opal").$destructure(arguments);if(p)c=m=a,p=!1;else{var d=b.$call(c,a);d===g?f.$raise(k(P,"ArgumentError"),"comparison failed"):0<d&&(c=a);d=b.$call(m,a);d===g?f.$raise(k(P,"ArgumentError"),"comparison failed"):0>d&&(m=a)}};f.$each();return[c,m]},pa.$$arity=0);b.def(n,"$minmax_by",ba=function(){var a=ba.$$p;a&&(ba.$$p=
null);a&&(ba.$$p=null);return this.$raise(k(P,"NotImplementedError"))},ba.$$arity=0);b.def(n,"$none?",X=function(a){try{var d=X.$$p,e=d||g,f,c,m;d&&(X.$$p=null);d&&(X.$$p=null);w(void 0!==a)?t(this,"each",[],(f=function(d){var e=b.slice.call(arguments,0,arguments.length);e=x(e);if(w(t(a,"public_send",["==="].concat(b.to_a(e)))))b.ret(!1);else return g},f.$$s=this,f.$$arity=-1,f)):e!==g?t(this,"each",[],(c=function(a){var d=b.slice.call(arguments,0,arguments.length);if(w(b.yieldX(e,b.to_a(d))))b.ret(!1);
else return g},c.$$s=this,c.$$arity=-1,c)):t(this,"each",[],(m=function(a){var d=b.slice.call(arguments,0,arguments.length);d=k(P,"Opal").$destructure(d);if(w(d))b.ret(!1);else return g},m.$$s=this,m.$$arity=-1,m));return!0}catch(da){if(da===b.returner)return da.$v;throw da;}},X.$$arity=-1);b.def(n,"$one?",za=function(a){try{var d=za.$$p,e=d||g,f,c,m,p=g;d&&(za.$$p=null);d&&(za.$$p=null);p=0;w(void 0!==a)?t(this,"each",[],(f=function(d){var e=b.slice.call(arguments,0,arguments.length);e=x(e);if(w(t(a,
"public_send",["==="].concat(b.to_a(e)))))if(p=A(p,1),w(r(p,1)))b.ret(!1);else return g;else return g},f.$$s=this,f.$$arity=-1,f)):e!==g?t(this,"each",[],(c=function(a){var d=b.slice.call(arguments,0,arguments.length);if(!w(b.yieldX(e,b.to_a(d))))return g;p=A(p,1);if(w(r(p,1)))b.ret(!1);else return g},c.$$s=this,c.$$arity=-1,c)):t(this,"each",[],(m=function(a){var d=b.slice.call(arguments,0,arguments.length);if(!w(k(P,"Opal").$destructure(d)))return g;p=A(p,1);if(w(r(p,1)))b.ret(!1);else return g},
m.$$s=this,m.$$arity=-1,m));return p["$=="](1)}catch(va){if(va===b.returner)return va.$v;throw va;}},za.$$arity=-1);b.def(n,"$partition",Na=function(){var a=Na.$$p,d=a||g,e;a&&(Na.$$p=null);a&&(Na.$$p=null);if(d===g)return t(this,"enum_for",["partition"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var f=[],c=[];this.$each.$$p=function(){var a=k(P,"Opal").$destructure(arguments),e=b.yield1(d,a);w(e)?f.push(a):c.push(a)};this.$each();return[f,c]},Na.$$arity=0);b.alias(n,
"reduce","inject");b.def(n,"$reject",Ca=function(){var a=Ca.$$p,d=a||g,e;a&&(Ca.$$p=null);a&&(Ca.$$p=null);if(d===g)return t(this,"enum_for",["reject"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var f=[];this.$each.$$p=function(){var a=k(P,"Opal").$destructure(arguments),e=b.yield1(d,a);N(e)&&f.push(a)};this.$each();return f},Ca.$$arity=0);b.def(n,"$reverse_each",ya=function(){var a=ya.$$p,d=a||g,e;a&&(ya.$$p=null);a&&(ya.$$p=null);if(d===g)return t(this,"enum_for",
["reverse_each"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var f=[];this.$each.$$p=function(){f.push(arguments)};this.$each();for(a=f.length-1;0<=a;a--)b.yieldX(d,f[a]);return f},ya.$$arity=0);b.alias(n,"select","find_all");b.def(n,"$slice_before",xa=function(a){var d=xa.$$p,e=d||g,f;d&&(xa.$$p=null);d&&(xa.$$p=null);w(void 0===a&&e===g)&&this.$raise(k(P,"ArgumentError"),"both pattern and block are given");w(void 0!==a&&e!==g||1<arguments.length)&&this.$raise(k(P,
"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");return t(k(P,"Enumerator"),"new",[],(f=function(d){var c=f.$$s||this;null==d&&(d=g);var m=[];c.$each.$$p=e!==g?void 0===a?function(){var a=k(P,"Opal").$destructure(arguments),f=b.yield1(e,a);w(f)&&0<m.length&&(d["$<<"](m),m=[]);m.push(a)}:function(){var b=k(P,"Opal").$destructure(arguments),f=e(b,a.$dup());w(f)&&0<m.length&&(d["$<<"](m),m=[]);m.push(b)}:function(){var b=k(P,"Opal").$destructure(arguments),e=a["$==="](b);
w(e)&&0<m.length&&(d["$<<"](m),m=[]);m.push(b)};c.$each();if(0<m.length)d["$<<"](m)},f.$$s=this,f.$$arity=1,f))},xa.$$arity=-1);b.def(n,"$slice_after",ka=function(a){var d=ka.$$p,e=d||g,f,c;d&&(ka.$$p=null);d&&(ka.$$p=null);w(void 0===a&&e===g)&&this.$raise(k(P,"ArgumentError"),"both pattern and block are given");w(void 0!==a&&e!==g||1<arguments.length)&&this.$raise(k(P,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");w(void 0!==a)&&(e=t(this,"proc",[],(f=function(b){null==
b&&(b=g);return a["$==="](b)},f.$$s=this,f.$$arity=1,f)));return t(k(P,"Enumerator"),"new",[],(c=function(a){var d=c.$$s||this;null==a&&(a=g);var f;d.$each.$$p=function(){var d=k(P,"Opal").$destructure(arguments),c=b.yield1(e,d);null==f&&(f=[]);w(c)?(f.push(d),a.$yield(f),f=null):f.push(d)};d.$each();null!=f&&a.$yield(f)},c.$$s=this,c.$$arity=1,c))},ka.$$arity=-1);b.def(n,"$slice_when",W=function(){var a=W.$$p,d=a||g,e;a&&(W.$$p=null);a&&(W.$$p=null);d===g&&this.$raise(k(P,"ArgumentError"),"wrong number of arguments (0 for 1)");
return t(k(P,"Enumerator"),"new",[],(e=function(a){var f=e.$$s||this;null==a&&(a=g);var c=g,m=g;f.$each_cons.$$p=function(){var e=k(P,"Opal").$destructure(arguments),f=e[0];e=e[1];var p=b.yieldX(d,[f,e]);m=e;c===g&&(c=[]);w(p)?(c.push(f),a.$yield(c),c=[]):c.push(f)};f.$each_cons(2);c!==g&&(c.push(m),a.$yield(c))},e.$$s=this,e.$$arity=1,e))},W.$$arity=0);b.def(n,"$sort",ma=function(){var a=ma.$$p,b=a||g,d,e=g;a&&(ma.$$p=null);a&&(ma.$$p=null);e=this.$to_a();b===g&&(b=K((d=function(a,b){null==a&&(a=
g);null==b&&(b=g);return a["$<=>"](b)},d.$$s=this,d.$$arity=2,d)));return t(e,"sort",[],b.$to_proc())},ma.$$arity=0);b.def(n,"$sort_by",aa=function(){var a=aa.$$p,d=a||g,e,f,c,m,p=g;a&&(aa.$$p=null);a&&(aa.$$p=null);if(d===g)return t(this,"enum_for",["sort_by"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));p=t(this,"map",[],(f=function(){var a=k(P,"Opal").$destructure(arguments);return[b.yield1(d,a),a]},f.$$s=this,f.$$arity=0,f));t(p,"sort!",[],(c=function(a,b){null==
a&&(a=g);null==b&&(b=g);return a[0]["$<=>"](b[0])},c.$$s=this,c.$$arity=2,c));return t(p,"map!",[],(m=function(a){null==a&&(a=g);return a[1]},m.$$s=this,m.$$arity=1,m))},aa.$$arity=0);b.def(n,"$sum",Ga=function(a){var d,e=Ga.$$p,f=e||g,c=g;e&&(Ga.$$p=null);null==a&&(a=0);c=a;t(this,"each",[],(d=function(a){var d=b.slice.call(arguments,0,arguments.length);d=f!==g?b.yieldX(f,b.to_a(d)):k(P,"Opal").$destructure(d);return c=A(c,d)},d.$$s=this,d.$$arity=-1,d));return c},Ga.$$arity=-1);b.def(n,"$take",
ta=function(a){return this.$first(a)},ta.$$arity=1);b.def(n,"$take_while",Oa=function(){try{var a=Oa.$$p,d=a||g,e,f=g;a&&(Oa.$$p=null);a&&(Oa.$$p=null);if(!w(d))return this.$enum_for("take_while");f=[];return t(this,"each",[],(e=function(a){var e=b.slice.call(arguments,0,arguments.length);e=k(P,"Opal").$destructure(e);w(b.yield1(d,e))||b.ret(f);return f.push(e)},e.$$s=this,e.$$arity=-1,e))}catch(ha){if(ha===b.returner)return ha.$v;throw ha;}},Oa.$$arity=0);b.def(n,"$uniq",na=function(){var a=na.$$p,
d=a||g,e,f=g;a&&(na.$$p=null);a&&(na.$$p=null);f=M([],{});t(this,"each",[],(e=function(a){var e=b.slice.call(arguments,0,arguments.length);e=k(P,"Opal").$destructure(e);var c=d!==g?b.yield1(d,e):e;if(w(f["$key?"](c)))return g;e=[c,e];t(f,"[]=",b.to_a(e));return e[C(e.length,1)]},e.$$s=this,e.$$arity=-1,e));return f.$values()},na.$$arity=0);b.alias(n,"to_a","entries");b.def(n,"$zip",ja=function(a){var d=ja.$$p;d&&(ja.$$p=null);d&&(ja.$$p=null);d=b.slice.call(arguments,0,arguments.length);return t(this.$to_a(),
"zip",b.to_a(d))},ja.$$arity=-1)}(n[0],n)};
Opal.modules["corelib/enumerator"]=function(b){function r(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}function A(b,g){return"number"===typeof b&&"number"===typeof g?b<g:b["$<"](g)}var C=b.top,u=[],n=b.nil,g=b.const_get_relative,G=b.breaker,k=b.slice,E=b.klass,w=b.truthy,t=b.send,N=b.falsy;b.add_stubs("$require $include $allocate $new $to_proc $coerce_to $nil? $empty? $+ $class $__send__ $=== $call $enum_for $size $destructure $inspect $any? $[] $raise $yield $each $enumerator_size $respond_to? $try_convert $< $for".split(" "));C.$require("corelib/enumerable");
return function(u,$super,C){u=E(u,$super,"Enumerator");var l=[u].concat(C),M,x,D,I,ea,Y;u.$$prototype.size=u.$$prototype.args=u.$$prototype.object=u.$$prototype.method=n;u.$include(g(l,"Enumerable"));u.$$prototype.$$is_enumerator=!0;b.defs(u,"$for",M=function(a,c,g){var v=M.$$p,l=v||n;v&&(M.$$p=null);v&&(M.$$p=null);v=b.slice.call(arguments,1,arguments.length);if(0<v.length){var q=v[0];v.splice(0,1)}null==q&&(q="each");var h=this.$allocate();h.object=a;h.size=l;h.method=q;h.args=v;return h},M.$$arity=
-2);b.def(u,"$initialize",x=function(a){var c=x.$$p,v=c||n;c&&(x.$$p=null);c&&(x.$$p=null);b.slice.call(arguments,0,arguments.length);if(w(v))return this.object=t(g(l,"Generator"),"new",[],v.$to_proc()),this.method="each",this.args=[],this.size=arguments[0]||n,w(this.size)?this.size=g(l,"Opal").$coerce_to(this.size,g(l,"Integer"),"to_int"):n;this.object=arguments[0];this.method=arguments[1]||"each";this.args=k.call(arguments,2);return this.size=n},x.$$arity=-1);b.def(u,"$each",D=function(a){var c=
D.$$p,g=c||n,l;c&&(D.$$p=null);c&&(D.$$p=null);c=b.slice.call(arguments,0,arguments.length);if(w(w(l=g["$nil?"]())?c["$empty?"]():l))return this;c=r(this.args,c);return w(g["$nil?"]())?t(this.$class(),"new",[this.object,this.method].concat(b.to_a(c))):t(this.object,"__send__",[this.method].concat(b.to_a(c)),g.$to_proc())},D.$$arity=-1);b.def(u,"$size",I=function(){return w(g(l,"Proc")["$==="](this.size))?t(this.size,"call",b.to_a(this.args)):this.size},I.$$arity=0);b.def(u,"$with_index",ea=function(a){var b=
ea.$$p,v=b||n,k;b&&(ea.$$p=null);b&&(ea.$$p=null);null==a&&(a=0);a=w(a)?g(l,"Opal").$coerce_to(a,g(l,"Integer"),"to_int"):0;if(!w(v))return t(this,"enum_for",["with_index",a],(k=function(){return(k.$$s||this).$size()},k.$$s=this,k.$$arity=0,k));var J=a;this.$each.$$p=function(){var a=g(l,"Opal").$destructure(arguments);a=v(a,J);J++;return a};return this.$each()},ea.$$arity=-1);b.alias(u,"with_object","each_with_object");b.def(u,"$inspect",Y=function(){var a="#<"+this.$class()+": "+this.object.$inspect()+
":"+this.method;w(this.args["$any?"]())&&(a=r(a,"("+this.args.$inspect()["$[]"](g(l,"Range").$new(1,-2))+")"));return r(a,">")},Y.$$arity=0);(function(a,$super,v){a=E(a,$super,"Generator");var l=[a].concat(v),k,q;a.$$prototype.block=n;a.$include(g(l,"Enumerable"));b.def(a,"$initialize",k=function(){var a=k.$$p,b=a||n;a&&(k.$$p=null);a&&(k.$$p=null);w(b)||this.$raise(g(l,"LocalJumpError"),"no block given");return this.block=b},k.$$arity=0);return(b.def(a,"$each",q=function(a){var d=q.$$p,h=d||n;d&&
(q.$$p=null);d&&(q.$$p=null);d=b.slice.call(arguments,0,arguments.length);h=t(g(l,"Yielder"),"new",[],h.$to_proc());try{d.unshift(h),b.yieldX(this.block,d)}catch(p){if(p===G)return G.$v;throw p;}return this},q.$$arity=-1),n)&&"each"})(l[0],null,l);(function(a,$super,g){a=E(a,$super,"Yielder");[a].concat(g);var v,l,q;a.$$prototype.block=n;b.def(a,"$initialize",v=function(){var a=v.$$p,b=a||n;a&&(v.$$p=null);a&&(v.$$p=null);return this.block=b},v.$$arity=0);b.def(a,"$yield",l=function(a){var d=b.slice.call(arguments,
0,arguments.length);d=b.yieldX(this.block,d);if(d===G)throw G;return d},l.$$arity=-1);return(b.def(a,"$<<",q=function(a){var d=b.slice.call(arguments,0,arguments.length);t(this,"yield",b.to_a(d));return this},q.$$arity=-1),n)&&"<<"})(l[0],null,l);return function(a,$super,v){a=E(a,$super,"Lazy");var l=[a].concat(v),k,q,h,d,z,p,S,L,m,e,f,U,T;a.$$prototype.enumerator=n;(function(a,$super,b){[E(a,$super,"StopLazyError")].concat(b);return n})(l[0],g(l,"Exception"),l);b.def(a,"$initialize",k=function(a,
d){var e=k.$$p,f=e||n,m;e&&(k.$$p=null);e&&(k.$$p=null);null==d&&(d=n);f===n&&this.$raise(g(l,"ArgumentError"),"tried to call lazy new without a block");this.enumerator=a;return t(this,b.find_super_dispatcher(this,"initialize",k,!1),[d],(m=function(d,e){var p=m.$$s||this,h;null==d&&(d=n);var q=b.slice.call(arguments,1,arguments.length);try{return t(a,"each",b.to_a(q),(h=function(a){var e=b.slice.call(arguments,0,arguments.length);e.unshift(d);b.yieldX(f,e)},h.$$s=p,h.$$arity=-1,h))}catch(pa){if(b.rescue(pa,
[g(l,"Exception")]))try{return n}finally{b.pop_exception()}else throw pa;}},m.$$s=this,m.$$arity=-2,m))},k.$$arity=-2);b.alias(a,"force","to_a");b.def(a,"$lazy",q=function(){return this},q.$$arity=0);b.def(a,"$collect",h=function(){var a=h.$$p,d=a||n,e;a&&(h.$$p=null);a&&(h.$$p=null);w(d)||this.$raise(g(l,"ArgumentError"),"tried to call lazy map without a block");return t(g(l,"Lazy"),"new",[this,this.$enumerator_size()],(e=function(a,e){null==a&&(a=n);var f=b.slice.call(arguments,1,arguments.length);
f=b.yieldX(d,f);a.$yield(f)},e.$$s=this,e.$$arity=-2,e))},h.$$arity=0);b.def(a,"$collect_concat",d=function(){var a=d.$$p,e=a||n,f;a&&(d.$$p=null);a&&(d.$$p=null);w(e)||this.$raise(g(l,"ArgumentError"),"tried to call lazy map without a block");return t(g(l,"Lazy"),"new",[this,n],(f=function(a,d){var m=f.$$s||this,p,h;null==a&&(a=n);var q=b.slice.call(arguments,1,arguments.length);q=b.yieldX(e,q);q["$respond_to?"]("force")&&q["$respond_to?"]("each")?t(q,"each",[],(p=function(b){null==b&&(b=n);return a.$yield(b)},
p.$$s=m,p.$$arity=1,p)):g(l,"Opal").$try_convert(q,g(l,"Array"),"to_ary")===n?a.$yield(q):t(q,"each",[],(h=function(b){null==b&&(b=n);return a.$yield(b)},h.$$s=m,h.$$arity=1,h))},f.$$s=this,f.$$arity=-2,f))},d.$$arity=0);b.def(a,"$drop",z=function(a){var d,e=n,f=e=n;a=g(l,"Opal").$coerce_to(a,g(l,"Integer"),"to_int");w(A(a,0))&&this.$raise(g(l,"ArgumentError"),"attempt to drop negative size");e=this.$enumerator_size();e=w(g(l,"Integer")["$==="](e))?w(A(a,e))?a:e:e;f=0;return t(g(l,"Lazy"),"new",[this,
e],(d=function(d,e){null==d&&(d=n);var m=b.slice.call(arguments,1,arguments.length);return w(A(f,a))?f=r(f,1):t(d,"yield",b.to_a(m))},d.$$s=this,d.$$arity=-2,d))},z.$$arity=1);b.def(a,"$drop_while",p=function(){var a=p.$$p,d=a||n,e,f=n;a&&(p.$$p=null);a&&(p.$$p=null);w(d)||this.$raise(g(l,"ArgumentError"),"tried to call lazy drop_while without a block");f=!0;return t(g(l,"Lazy"),"new",[this,n],(e=function(a,e){null==a&&(a=n);var m=b.slice.call(arguments,1,arguments.length);if(w(f)){var p=b.yieldX(d,
m);N(p)&&(f=!1,t(a,"yield",b.to_a(m)))}else return t(a,"yield",b.to_a(m))},e.$$s=this,e.$$arity=-2,e))},p.$$arity=0);b.def(a,"$enum_for",S=function(a,d){var e=S.$$p,f=e||n;e&&(S.$$p=null);e&&(S.$$p=null);e=b.slice.call(arguments,0,arguments.length);if(0<e.length){var m=e[0];e.splice(0,1)}null==m&&(m="each");return t(this.$class(),"for",[this,m].concat(b.to_a(e)),f.$to_proc())},S.$$arity=-1);b.def(a,"$find_all",L=function(){var a=L.$$p,d=a||n,e;a&&(L.$$p=null);a&&(L.$$p=null);w(d)||this.$raise(g(l,
"ArgumentError"),"tried to call lazy select without a block");return t(g(l,"Lazy"),"new",[this,n],(e=function(a,e){null==a&&(a=n);var f=b.slice.call(arguments,1,arguments.length);var m=b.yieldX(d,f);w(m)&&t(a,"yield",b.to_a(f))},e.$$s=this,e.$$arity=-2,e))},L.$$arity=0);b.alias(a,"flat_map","collect_concat");b.def(a,"$grep",m=function(a){var d=m.$$p,e=d||n,f,p;d&&(m.$$p=null);d&&(m.$$p=null);return w(e)?t(g(l,"Lazy"),"new",[this,n],(f=function(d,f){null==d&&(d=n);var m=b.slice.call(arguments,1,arguments.length);
m=g(l,"Opal").$destructure(m);var p=a["$==="](m);w(p)&&(b.yield1(e,m),d.$yield(b.yield1(e,m)))},f.$$s=this,f.$$arity=-2,f)):t(g(l,"Lazy"),"new",[this,n],(p=function(d,e){null==d&&(d=n);var f=b.slice.call(arguments,1,arguments.length);f=g(l,"Opal").$destructure(f);var m=a["$==="](f);w(m)&&d.$yield(f)},p.$$s=this,p.$$arity=-2,p))},m.$$arity=1);b.alias(a,"map","collect");b.alias(a,"select","find_all");b.def(a,"$reject",e=function(){var a=e.$$p,d=a||n,f;a&&(e.$$p=null);a&&(e.$$p=null);w(d)||this.$raise(g(l,
"ArgumentError"),"tried to call lazy reject without a block");return t(g(l,"Lazy"),"new",[this,n],(f=function(a,e){null==a&&(a=n);var f=b.slice.call(arguments,1,arguments.length);var m=b.yieldX(d,f);N(m)&&t(a,"yield",b.to_a(f))},f.$$s=this,f.$$arity=-2,f))},e.$$arity=0);b.def(a,"$take",f=function(a){var d,e=n,f=e=n;a=g(l,"Opal").$coerce_to(a,g(l,"Integer"),"to_int");w(A(a,0))&&this.$raise(g(l,"ArgumentError"),"attempt to take negative size");e=this.$enumerator_size();e=w(g(l,"Integer")["$==="](e))?
w(A(a,e))?a:e:e;f=0;return t(g(l,"Lazy"),"new",[this,e],(d=function(e,m){var p=d.$$s||this;null==e&&(e=n);var h=b.slice.call(arguments,1,arguments.length);return w(A(f,a))?(t(e,"yield",b.to_a(h)),f=r(f,1)):p.$raise(g(l,"StopLazyError"))},d.$$s=this,d.$$arity=-2,d))},f.$$arity=1);b.def(a,"$take_while",U=function(){var a=U.$$p,d=a||n,e;a&&(U.$$p=null);a&&(U.$$p=null);w(d)||this.$raise(g(l,"ArgumentError"),"tried to call lazy take_while without a block");return t(g(l,"Lazy"),"new",[this,n],(e=function(a,
f){var m=e.$$s||this;null==a&&(a=n);var p=b.slice.call(arguments,1,arguments.length);var h=b.yieldX(d,p);w(h)?t(a,"yield",b.to_a(p)):m.$raise(g(l,"StopLazyError"))},e.$$s=this,e.$$arity=-2,e))},U.$$arity=0);b.alias(a,"to_enum","enum_for");return(b.def(a,"$inspect",T=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},T.$$arity=0),n)&&"inspect"}(l[0],u,l)}(u[0],null,u)};
Opal.modules["corelib/numeric"]=function(b){function r(b,g){return"number"===typeof b&&"number"===typeof g?b-g:b["$-"](g)}function A(b,g){return"number"===typeof b&&"number"===typeof g?b*g:b["$*"](g)}function C(b,g){return"number"===typeof b&&"number"===typeof g?b<g:b["$<"](g)}function u(b,g){return"number"===typeof b&&"number"===typeof g?b/g:b["$/"](g)}var n=b.top,g=[],G=b.nil,k=b.const_get_qualified,E=b.const_get_relative,w=b.klass,t=b.truthy,N=b.hash2;b.add_stubs("$require $include $instance_of? $class $Float $respond_to? $coerce $__send__ $=== $raise $equal? $- $* $div $< $-@ $ceil $to_f $denominator $to_r $== $floor $/ $% $Complex $zero? $numerator $abs $arg $coerce_to! $round $to_i $truncate $>".split(" "));
n.$require("corelib/comparable");return function(g,$super,n){g=w(g,$super,"Numeric");var l=[g].concat(n),x,M,D,I,ea,Y,a,c,v,B,J,q,h,d,z,p,S,L,m,e,f,U,T,ia,V,R,ca,y,fa,Z,ra,sa,oa,pa,ba,X,za;g.$include(E(l,"Comparable"));b.def(g,"$coerce",x=function(a){return t(a["$instance_of?"](this.$class()))?[a,this]:[this.$Float(a),this.$Float(this)]},x.$$arity=1);b.def(g,"$__coerced__",M=function(a,d){if(t(d["$respond_to?"]("coerce"))){d=d.$coerce(this);var e=b.to_ary(d);var f=null==e[0]?G:e[0];e=null==e[1]?G:
e[1];d;return f.$__send__(a,e)}return"+"["$==="](a)||"-"["$==="](a)||"*"["$==="](a)||"/"["$==="](a)||"%"["$==="](a)||"&"["$==="](a)||"|"["$==="](a)||"^"["$==="](a)||"**"["$==="](a)?this.$raise(E(l,"TypeError"),""+d.$class()+" can't be coerced into Numeric"):">"["$==="](a)||">="["$==="](a)||"<"["$==="](a)||"<="["$==="](a)||"<=>"["$==="](a)?this.$raise(E(l,"ArgumentError"),"comparison of "+this.$class()+" with "+d.$class()+" failed"):G},M.$$arity=2);b.def(g,"$<=>",D=function(a){return t(this["$equal?"](a))?
0:G},D.$$arity=1);b.def(g,"$+@",I=function(){return this},I.$$arity=0);b.def(g,"$-@",ea=function(){return r(0,this)},ea.$$arity=0);b.def(g,"$%",Y=function(a){return r(this,A(a,this.$div(a)))},Y.$$arity=1);b.def(g,"$abs",a=function(){return C(this,0)?this["$-@"]():this},a.$$arity=0);b.def(g,"$abs2",c=function(){return A(this,this)},c.$$arity=0);b.def(g,"$angle",v=function(){return C(this,0)?k(E(l,"Math"),"PI"):0},v.$$arity=0);b.alias(g,"arg","angle");b.def(g,"$ceil",B=function(a){null==a&&(a=0);return this.$to_f().$ceil(a)},
B.$$arity=-1);b.def(g,"$conj",J=function(){return this},J.$$arity=0);b.alias(g,"conjugate","conj");b.def(g,"$denominator",q=function(){return this.$to_r().$denominator()},q.$$arity=0);b.def(g,"$div",h=function(a){a["$=="](0)&&this.$raise(E(l,"ZeroDivisionError"),"divided by o");return u(this,a).$floor()},h.$$arity=1);b.def(g,"$divmod",d=function(a){return[this.$div(a),this["$%"](a)]},d.$$arity=1);b.def(g,"$fdiv",z=function(a){return u(this.$to_f(),a)},z.$$arity=1);b.def(g,"$floor",p=function(a){null==
a&&(a=0);return this.$to_f().$floor(a)},p.$$arity=-1);b.def(g,"$i",S=function(){return this.$Complex(0,this)},S.$$arity=0);b.def(g,"$imag",L=function(){return 0},L.$$arity=0);b.alias(g,"imaginary","imag");b.def(g,"$integer?",m=function(){return!1},m.$$arity=0);b.alias(g,"magnitude","abs");b.alias(g,"modulo","%");b.def(g,"$nonzero?",e=function(){return t(this["$zero?"]())?G:this},e.$$arity=0);b.def(g,"$numerator",f=function(){return this.$to_r().$numerator()},f.$$arity=0);b.alias(g,"phase","arg");
b.def(g,"$polar",U=function(){return[this.$abs(),this.$arg()]},U.$$arity=0);b.def(g,"$quo",T=function(a){return u(E(l,"Opal")["$coerce_to!"](this,E(l,"Rational"),"to_r"),a)},T.$$arity=1);b.def(g,"$real",ia=function(){return this},ia.$$arity=0);b.def(g,"$real?",V=function(){return!0},V.$$arity=0);b.def(g,"$rect",R=function(){return[this,0]},R.$$arity=0);b.alias(g,"rectangular","rect");b.def(g,"$round",ca=function(a){return this.$to_f().$round(a)},ca.$$arity=-1);b.def(g,"$to_c",y=function(){return this.$Complex(this,
0)},y.$$arity=0);b.def(g,"$to_int",fa=function(){return this.$to_i()},fa.$$arity=0);b.def(g,"$truncate",Z=function(a){null==a&&(a=0);return this.$to_f().$truncate(a)},Z.$$arity=-1);b.def(g,"$zero?",ra=function(){return this["$=="](0)},ra.$$arity=0);b.def(g,"$positive?",sa=function(){return"number"===typeof this?0<this:this["$>"](0)},sa.$$arity=0);b.def(g,"$negative?",oa=function(){return C(this,0)},oa.$$arity=0);b.def(g,"$dup",pa=function(){return this},pa.$$arity=0);b.def(g,"$clone",ba=function(a){if(null==
a)N([],{});else if(!a.$$is_hash)throw b.ArgumentError.$new("expected kwargs");return this},ba.$$arity=-1);b.def(g,"$finite?",X=function(){return!0},X.$$arity=0);return(b.def(g,"$infinite?",za=function(){return G},za.$$arity=0),G)&&"infinite?"}(g[0],null,g)};
Opal.modules["corelib/array"]=function(b){function r(b,g){return"number"===typeof b&&"number"===typeof g?b>g:b["$>"](g)}var A=b.top,C=[],u=b.nil,n=b.const_get_qualified,g=b.const_get_relative,G=b.klass,k=b.truthy,E=b.hash2,w=b.send,t=b.gvars;b.add_stubs("$require $include $to_a $warn $raise $replace $respond_to? $to_ary $coerce_to $coerce_to? $=== $join $to_str $class $hash $<=> $== $object_id $inspect $enum_for $bsearch_index $to_proc $nil? $coerce_to! $> $* $enumerator_size $empty? $size $map $equal? $dup $each $[] $dig $eql? $length $begin $end $exclude_end? $flatten $__id__ $to_s $new $max $min $! $>= $** $delete_if $reverse $rotate $rand $at $keep_if $shuffle! $< $sort $sort_by $!= $times $[]= $- $<< $values $is_a? $last $first $upto $reject $pristine $singleton_class".split(" "));A.$require("corelib/enumerable");
A.$require("corelib/numeric");return function(C,$super,A){function x(a,d){return d.$$name===b.Array?a:d.$allocate().$replace(a.$to_a())}function l(a,d){var e=a.length;var f=d.excl;var c=b.Opal.$coerce_to(d.begin,b.Integer,"to_int");d=b.Opal.$coerce_to(d.end,b.Integer,"to_int");if(0>c&&(c+=e,0>c)||c>e)return u;if(0>d&&(d+=e,0>d))return[];f||(d+=1);e=a.slice(c,d);return x(e,a.$class())}function K(a,d,e){var f=a.length;d=b.Opal.$coerce_to(d,b.Integer,"to_int");if(0>d&&(d+=f,0>d))return u;if(void 0===
e)return d>=f||0>d?u:a[d];e=b.Opal.$coerce_to(e,b.Integer,"to_int");if(0>e||d>f||0>d)return u;d=a.slice(d,d+e);return x(d,a.$class())}function P(a,b){return a===b||0===b?1:0<b&&a>b?P(a-1,b-1)+P(a-1,b):0}var D=G(C,$super,"Array"),I=[D].concat(A),N,Y,a,c,v,B,J,q,h,d,z,p,S,L,m,e,f,U,T,ia,V,R,ca,y,fa,Z,ra,sa,oa,pa,ba,X,za,Na,Ca,ya,xa,ka,W,ma,aa,Ga,ta,Oa,na,ja,Pa,Va,Ua,ab,ha,ua,da,va,Aa,qa,Ia,Ha,Ja,Wa,Qa,Ma,Da,Ka,Xa,Sa,Ya,Za,$a,H,O,F,Q,La,wa,Ea,Fa,Ta,bb,Ba,mb,gb,kb,eb,lb,Ra,db,fb,ob,hb,pb,cb,qb;D.$include(g(I,
"Enumerable"));b.defineProperty(D.$$prototype,"$$is_array",!0);b.defs(D,"$[]",N=function(a){var d=b.slice.call(arguments,0,arguments.length);return x(d,this)},N.$$arity=-1);b.def(D,"$initialize",Y=function(a,b){var d=Y.$$p,e=d||u;d&&(Y.$$p=null);d&&(Y.$$p=null);null==a&&(a=u);null==b&&(b=u);b!==u&&e!==u&&this.$warn("warning: block supersedes default value argument");a>n(g(I,"Integer"),"MAX")&&this.$raise(g(I,"ArgumentError"),"array size too big");2<arguments.length&&this.$raise(g(I,"ArgumentError"),
"wrong number of arguments ("+arguments.length+" for 0..2)");if(0===arguments.length)return this.splice(0,this.length),this;if(1===arguments.length){if(a.$$is_array)return this.$replace(a.$to_a()),this;if(a["$respond_to?"]("to_ary"))return this.$replace(a.$to_ary()),this}a=g(I,"Opal").$coerce_to(a,g(I,"Integer"),"to_int");0>a&&this.$raise(g(I,"ArgumentError"),"negative array size");this.splice(0,this.length);if(e===u)for(d=0;d<a;d++)this.push(b);else for(d=0,f;d<a;d++){var f=e(d);this[d]=f}return this},
Y.$$arity=-1);b.defs(D,"$try_convert",a=function(a){return g(I,"Opal")["$coerce_to?"](a,g(I,"Array"),"to_ary")},a.$$arity=1);b.def(D,"$&",c=function(a){a=k(g(I,"Array")["$==="](a))?a.$to_a():g(I,"Opal").$coerce_to(a,g(I,"Array"),"to_ary").$to_a();var d=[],e=E([],{}),f;var c=0;for(f=a.length;c<f;c++)b.hash_put(e,a[c],!0);c=0;for(f=this.length;c<f;c++)a=this[c],void 0!==b.hash_delete(e,a)&&d.push(a);return d},c.$$arity=1);b.def(D,"$|",v=function(a){a=k(g(I,"Array")["$==="](a))?a.$to_a():g(I,"Opal").$coerce_to(a,
g(I,"Array"),"to_ary").$to_a();var d=E([],{}),e;var f=0;for(e=this.length;f<e;f++)b.hash_put(d,this[f],!0);f=0;for(e=a.length;f<e;f++)b.hash_put(d,a[f],!0);return d.$keys()},v.$$arity=1);b.def(D,"$*",B=function(a){if(k(a["$respond_to?"]("to_str")))return this.$join(a.$to_str());a=g(I,"Opal").$coerce_to(a,g(I,"Integer"),"to_int");k(0>a)&&this.$raise(g(I,"ArgumentError"),"negative argument");for(var b=[],d=this.$to_a(),e=0;e<a;e++)b=b.concat(d);return x(b,this.$class())},B.$$arity=1);b.def(D,"$+",J=
function(a){a=k(g(I,"Array")["$==="](a))?a.$to_a():g(I,"Opal").$coerce_to(a,g(I,"Array"),"to_ary").$to_a();return this.concat(a)},J.$$arity=1);b.def(D,"$-",q=function(a){a=k(g(I,"Array")["$==="](a))?a.$to_a():g(I,"Opal").$coerce_to(a,g(I,"Array"),"to_ary").$to_a();if(k(0===this.length))return[];if(k(0===a.length))return this.slice();var d=[],e=E([],{}),f;var c=0;for(f=a.length;c<f;c++)b.hash_put(e,a[c],!0);c=0;for(f=this.length;c<f;c++)a=this[c],void 0===b.hash_get(e,a)&&d.push(a);return d},q.$$arity=
1);b.def(D,"$<<",h=function(a){this.push(a);return this},h.$$arity=1);b.def(D,"$<=>",d=function(a){if(k(g(I,"Array")["$==="](a)))a=a.$to_a();else if(k(a["$respond_to?"]("to_ary")))a=a.$to_ary().$to_a();else return u;if(this.$hash()===a.$hash())return 0;for(var b=Math.min(this.length,a.length),d=0;d<b;d++){var e=this[d]["$<=>"](a[d]);if(0!==e)return e}return this.length["$<=>"](a.length)},d.$$arity=1);b.def(D,"$==",z=function(a){function b(a,e){var f;if(a===e)return!0;if(!e.$$is_array)return g(I,"Opal")["$respond_to?"](e,
"to_ary")?e["$=="](a):!1;a.$$constructor!==Array&&(a=a.$to_a());e.$$constructor!==Array&&(e=e.$to_a());if(a.length!==e.length)return!1;d[a.$object_id()]=!0;var c=0;for(f=a.length;c<f;c++){var m=a[c];var p=e[c];if(m.$$is_array){if(p.$$is_array&&p.length!==m.length||!d.hasOwnProperty(m.$object_id())&&!b(m,p))return!1}else if(!m["$=="](p))return!1}return!0}var d={};return b(this,a)},z.$$arity=1);b.def(D,"$[]",p=function(a,b){return a.$$is_range?l(this,a):K(this,a,b)},p.$$arity=-2);b.def(D,"$[]=",S=function(a,
b,d){var e=u;var f=this.length;if(k(g(I,"Range")["$==="](a))){e=k(g(I,"Array")["$==="](b))?b.$to_a():k(b["$respond_to?"]("to_ary"))?b.$to_ary().$to_a():[b];var c=a.excl;d=g(I,"Opal").$coerce_to(a.begin,g(I,"Integer"),"to_int");var m=g(I,"Opal").$coerce_to(a.end,g(I,"Integer"),"to_int");0>d&&(d+=f,0>d&&this.$raise(g(I,"RangeError"),""+a.$inspect()+" out of range"));0>m&&(m+=f);c||(m+=1);if(d>f)for(;f<d;f++)this[f]=u;0>m?this.splice.apply(this,[d,0].concat(e)):this.splice.apply(this,[d,m-d].concat(e))}else{k(void 0===
d)?m=1:(m=b,b=d,e=k(g(I,"Array")["$==="](b))?b.$to_a():k(b["$respond_to?"]("to_ary"))?b.$to_ary().$to_a():[b]);a=g(I,"Opal").$coerce_to(a,g(I,"Integer"),"to_int");m=g(I,"Opal").$coerce_to(m,g(I,"Integer"),"to_int");0>a&&(c=a,a+=f,0>a&&this.$raise(g(I,"IndexError"),"index "+c+" too small for array; minimum "+-this.length));0>m&&this.$raise(g(I,"IndexError"),"negative length ("+m+")");if(a>f)for(;f<a;f++)this[f]=u;void 0===d?this[a]=b:this.splice.apply(this,[a,m].concat(e))}return b},S.$$arity=-3);
b.def(D,"$any?",L=function(a){var d=L.$$p,e;d&&(L.$$p=null);var f=0;var c=arguments.length;for(e=Array(c);f<c;f++)e[f]=arguments[f];d&&(L.$$p=null);return 0===this.length?!1:w(this,b.find_super_dispatcher(this,"any?",L,!1),e,d)},L.$$arity=-1);b.def(D,"$assoc",m=function(a){for(var b=0,d=this.length,e;b<d;b++)if(e=this[b],e.length&&e[0]["$=="](a))return e;return u},m.$$arity=1);b.def(D,"$at",e=function(a){a=g(I,"Opal").$coerce_to(a,g(I,"Integer"),"to_int");0>a&&(a+=this.length);return 0>a||a>=this.length?
u:this[a]},e.$$arity=1);b.def(D,"$bsearch_index",f=function(){var a=f.$$p,d=a||u;a&&(f.$$p=null);a&&(f.$$p=null);if(d===u)return this.$enum_for("bsearch_index");a=0;for(var e=this.length,c,m,p=!1,h=u;a<e;){c=a+Math.floor((e-a)/2);m=this[c];m=b.yield1(d,m);if(!0===m)h=c,p=!0;else if(!1===m||m===u)p=!1;else if(m.$$is_number){if(0===m)return c;p=0>m}else this.$raise(g(I,"TypeError"),"wrong argument type "+m.$class()+" (must be numeric, true, false or nil)");p?e=c:a=c+1}return h},f.$$arity=0);b.def(D,
"$bsearch",U=function(){var a=U.$$p,b=a||u;a&&(U.$$p=null);a&&(U.$$p=null);if(b===u)return this.$enum_for("bsearch");a=w(this,"bsearch_index",[],b.$to_proc());return null!=a&&a.$$is_number?this[a]:a},U.$$arity=0);b.def(D,"$cycle",T=function(a){var d=T.$$p,e=d||u,f,c;d&&(T.$$p=null);d&&(T.$$p=null);null==a&&(a=u);if(e===u)return w(this,"enum_for",["cycle",a],(f=function(){var b=f.$$s||this;if(k(a["$nil?"]()))return n(g(I,"Float"),"INFINITY");a=g(I,"Opal")["$coerce_to!"](a,g(I,"Integer"),"to_int");
return k(r(a,0))?(b=b.$enumerator_size(),"number"===typeof b&&"number"===typeof a?b*a:b["$*"](a)):0},f.$$s=this,f.$$arity=0,f));if(k(k(c=this["$empty?"]())?c:a["$=="](0)))return u;if(a===u)for(;;)for(d=0,c=this.length;d<c;d++)b.yield1(e,this[d]);else{a=g(I,"Opal")["$coerce_to!"](a,g(I,"Integer"),"to_int");if(0>=a)return this;for(;0<a;){d=0;for(c=this.length;d<c;d++)b.yield1(e,this[d]);a--}}return this},T.$$arity=-1);b.def(D,"$clear",ia=function(){this.splice(0,this.length);return this},ia.$$arity=
0);b.def(D,"$count",V=function(a){var d=V.$$p,e=d||u,f,c;d&&(V.$$p=null);var m=0;var p=arguments.length;for(c=Array(p);m<p;m++)c[m]=arguments[m];d&&(V.$$p=null);null==a&&(a=u);return k(k(f=a)?f:e)?w(this,b.find_super_dispatcher(this,"count",V,!1),c,d):this.$size()},V.$$arity=-1);b.def(D,"$initialize_copy",R=function(a){return this.$replace(a)},R.$$arity=1);b.def(D,"$collect",ca=function(){var a=ca.$$p,d=a||u,e;a&&(ca.$$p=null);a&&(ca.$$p=null);if(d===u)return w(this,"enum_for",["collect"],(e=function(){return(e.$$s||
this).$size()},e.$$s=this,e.$$arity=0,e));a=[];for(var f=0,c=this.length;f<c;f++){var m=b.yield1(d,this[f]);a.push(m)}return a},ca.$$arity=0);b.def(D,"$collect!",y=function(){var a=y.$$p,d=a||u,e;a&&(y.$$p=null);a&&(y.$$p=null);if(d===u)return w(this,"enum_for",["collect!"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=0;for(var f=this.length;a<f;a++){var c=b.yield1(d,this[a]);this[a]=c}return this},y.$$arity=0);b.def(D,"$combination",fa=function(a){var d,e=fa.$$p,f=e||u,
c=u;e&&(fa.$$p=null);c=g(I,"Opal")["$coerce_to!"](a,g(I,"Integer"),"to_int");if(f===u)return w(this,"enum_for",["combination",c],(d=function(){return P((d.$$s||this).length,c)},d.$$s=this,d.$$arity=0,d));if(0===c)b.yield1(f,[]);else if(1===c)for(e=0,a=this.length;e<a;e++)b.yield1(f,[this[e]]);else if(c===this.length)b.yield1(f,this.slice());else if(0<=c&&c<this.length){a=[];for(e=0;e<=c+1;e++)a.push(0);e=[];var m=0;var p=!1;for(a[0]=-1;!p;){for(e[m]=this[a[m+1]];m<c-1;)m++,p=a[m+1]=a[m]+1,e[m]=this[p];
b.yield1(f,e.slice());m++;do p=0===m,a[m]++,m--;while(a[m+1]+c===this.length+m+1)}}return this},fa.$$arity=1);b.def(D,"$repeated_combination",Z=function(a){function d(a,e,f,m){if(f.length==a)a=f.slice(),b.yield1(c,a);else for(;e<m.length;e++)f.push(m[e]),d(a,e,f,m),f.pop()}var e,f=Z.$$p,c=f||u,m=u;f&&(Z.$$p=null);m=g(I,"Opal")["$coerce_to!"](a,g(I,"Integer"),"to_int");if(c===u)return w(this,"enum_for",["repeated_combination",m],(e=function(){return P((e.$$s||this).length+m-1,m)},e.$$s=this,e.$$arity=
0,e));0<=m&&d(m,0,[],this);return this},Z.$$arity=1);b.def(D,"$compact",ra=function(){for(var a=[],b=0,d=this.length,e;b<d;b++)(e=this[b])!==u&&a.push(e);return a},ra.$$arity=0);b.def(D,"$compact!",sa=function(){for(var a=this.length,b=0,d=this.length;b<d;b++)this[b]===u&&(this.splice(b,1),d--,b--);return this.length===a?u:this},sa.$$arity=0);b.def(D,"$concat",oa=function(a){var d,e;var f=b.slice.call(arguments,0,arguments.length);f=w(f,"map",[],(d=function(a){var b=d.$$s||this;null==a&&(a=u);a=k(g(I,
"Array")["$==="](a))?a.$to_a():g(I,"Opal").$coerce_to(a,g(I,"Array"),"to_ary").$to_a();k(a["$equal?"](b))&&(a=a.$dup());return a},d.$$s=this,d.$$arity=1,d));w(f,"each",[],(e=function(a){var b=e.$$s||this;null==a&&(a=u);for(var d=0,f=a.length;d<f;d++)b.push(a[d])},e.$$s=this,e.$$arity=1,e));return this},oa.$$arity=-1);b.def(D,"$delete",pa=function(a){var d=pa.$$p,e=d||u;d&&(pa.$$p=null);d=this.length;for(var f=0,c=d;f<c;f++)this[f]["$=="](a)&&(this.splice(f,1),c--,f--);return this.length===d?e!==u?
b.yieldX(e,[]):u:a},pa.$$arity=1);b.def(D,"$delete_at",ba=function(a){a=g(I,"Opal").$coerce_to(a,g(I,"Integer"),"to_int");0>a&&(a+=this.length);if(0>a||a>=this.length)return u;var b=this[a];this.splice(a,1);return b},ba.$$arity=1);b.def(D,"$delete_if",X=function(){var a=X.$$p,b=a||u,d;a&&(X.$$p=null);a&&(X.$$p=null);if(b===u)return w(this,"enum_for",["delete_if"],(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d));a=0;for(var e=this.length,f;a<e;a++)f=b(this[a]),!1!==f&&f!==u&&(this.splice(a,
1),e--,a--);return this},X.$$arity=0);b.def(D,"$dig",za=function(a,d){var e=b.slice.call(arguments,1,arguments.length);var f=this["$[]"](a);if(f===u||0===e.length)return f;k(f["$respond_to?"]("dig"))||this.$raise(g(I,"TypeError"),""+f.$class()+" does not have #dig method");return w(f,"dig",b.to_a(e))},za.$$arity=-2);b.def(D,"$drop",Na=function(a){0>a&&this.$raise(g(I,"ArgumentError"));return this.slice(a)},Na.$$arity=1);b.def(D,"$dup",Ca=function(){var a=Ca.$$p,d;a&&(Ca.$$p=null);var e=0;var f=arguments.length;
for(d=Array(f);e<f;e++)d[e]=arguments[e];return this.$$class===b.Array&&this.$$class.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine?this.slice(0):w(this,b.find_super_dispatcher(this,"dup",Ca,!1),d,a)},Ca.$$arity=0);b.def(D,"$each",ya=function(){var a=ya.$$p,d=a||u,e;a&&(ya.$$p=null);a&&(ya.$$p=null);if(d===u)return w(this,"enum_for",["each"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=0;for(var f=this.length;a<f;a++)b.yield1(d,
this[a]);return this},ya.$$arity=0);b.def(D,"$each_index",xa=function(){var a=xa.$$p,d=a||u,e;a&&(xa.$$p=null);a&&(xa.$$p=null);if(d===u)return w(this,"enum_for",["each_index"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=0;for(var f=this.length;a<f;a++)b.yield1(d,a);return this},xa.$$arity=0);b.def(D,"$empty?",ka=function(){return 0===this.length},ka.$$arity=0);b.def(D,"$eql?",W=function(a){function b(a,e){var f;if(!e.$$is_array)return!1;e=e.$to_a();if(a.length!==e.length)return!1;
d[a.$object_id()]=!0;var c=0;for(f=a.length;c<f;c++){var m=a[c];var p=e[c];if(m.$$is_array){if(p.$$is_array&&p.length!==m.length||!d.hasOwnProperty(m.$object_id())&&!b(m,p))return!1}else if(!m["$eql?"](p))return!1}return!0}var d={};return b(this,a)},W.$$arity=1);b.def(D,"$fetch",ma=function(a,b){var d=ma.$$p,e=d||u;d&&(ma.$$p=null);d&&(ma.$$p=null);d=a;a=g(I,"Opal").$coerce_to(a,g(I,"Integer"),"to_int");0>a&&(a+=this.length);if(0<=a&&a<this.length)return this[a];e!==u&&null!=b&&this.$warn("warning: block supersedes default value argument");
if(e!==u)return e(d);if(null!=b)return b;0===this.length?this.$raise(g(I,"IndexError"),"index "+d+" outside of array bounds: 0...0"):this.$raise(g(I,"IndexError"),"index "+d+" outside of array bounds: -"+this.length+"..."+this.length)},ma.$$arity=-2);b.def(D,"$fill",aa=function(a){var d=aa.$$p,e=d||u,f=u;d&&(aa.$$p=null);d&&(aa.$$p=null);d=b.slice.call(arguments,0,arguments.length);if(k(e)){k(2<d.length)&&this.$raise(g(I,"ArgumentError"),"wrong number of arguments ("+d.$length()+" for 0..2)");var c=
d;var m=b.to_ary(c);d=null==m[0]?u:m[0];m=null==m[1]?u:m[1]}else k(0==d.length)?this.$raise(g(I,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):k(3<d.length)&&this.$raise(g(I,"ArgumentError"),"wrong number of arguments ("+d.$length()+" for 1..3)"),c=d,m=b.to_ary(c),f=null==m[0]?u:m[0],d=null==m[1]?u:m[1],m=null==m[2]?u:m[2];c;if(k(g(I,"Range")["$==="](d))){if(k(m)&&this.$raise(g(I,"TypeError"),"length invalid with range"),c=g(I,"Opal").$coerce_to(d.$begin(),g(I,"Integer"),"to_int"),k(0>
c)&&(c+=this.length),k(0>c)&&this.$raise(g(I,"RangeError"),""+d.$inspect()+" out of range"),m=g(I,"Opal").$coerce_to(d.$end(),g(I,"Integer"),"to_int"),k(0>m)&&(m+=this.length),k(d["$exclude_end?"]())||(m+=1),k(m<=c))return this}else if(k(d))if(c=g(I,"Opal").$coerce_to(d,g(I,"Integer"),"to_int"),k(0>c)&&(c+=this.length),k(0>c)&&(c=0),k(m)){m=g(I,"Opal").$coerce_to(m,g(I,"Integer"),"to_int");if(k(0==m))return this;m+=c}else m=this.length;else c=0,m=this.length;if(k(c>this.length))for(d=this.length;d<
m;d++)this[d]=u;k(m>this.length)&&(this.length=m);if(k(e))for(;c<m;c++)f=e(c),this[c]=f;else for(;c<m;c++)this[c]=f;return this},aa.$$arity=-1);b.def(D,"$first",Ga=function(a){if(null==a)return 0===this.length?u:this[0];a=g(I,"Opal").$coerce_to(a,g(I,"Integer"),"to_int");0>a&&this.$raise(g(I,"ArgumentError"),"negative array size");return this.slice(0,a)},Ga.$$arity=-1);b.def(D,"$flatten",ta=function(a){function b(a,e){var f=[],c;a=a.$to_a();var m=0;for(c=a.length;m<c;m++){var p=a[m];if(g(I,"Opal")["$respond_to?"](p,
"to_ary",!0)){var h=p.$to_ary();if(h===u)f.push(p);else switch(h.$$is_array||d.$raise(g(I,"TypeError")),h===d&&d.$raise(g(I,"ArgumentError")),e){case void 0:f=f.concat(b(h));break;case 0:f.push(h);break;default:f.push.apply(f,b(h,e-1))}}else f.push(p)}return f}var d=this;void 0!==a&&(a=g(I,"Opal").$coerce_to(a,g(I,"Integer"),"to_int"));return x(b(d,a),d.$class())},ta.$$arity=-1);b.def(D,"$flatten!",Oa=function(a){a=this.$flatten(a);if(this.length==a.length){for(var b=0,d=this.length;b<d&&this[b]===
a[b];b++);if(b==d)return u}this.$replace(a);return this},Oa.$$arity=-1);b.def(D,"$hash",na=function(){var a=void 0===b.hash_ids,d=["A"],e=this.$object_id(),f,c;try{a&&(b.hash_ids=Object.create(null));if(b.hash_ids[e])return"self";for(c in b.hash_ids){var m=b.hash_ids[c];if(this["$eql?"](m))return"self"}b.hash_ids[e]=this;for(f=0;f<this.length;f++)m=this[f],d.push(m.$hash());return d.join(",")}finally{a&&(b.hash_ids=void 0)}},na.$$arity=0);b.def(D,"$include?",ja=function(a){for(var b=0,d=this.length;b<
d;b++)if(this[b]["$=="](a))return!0;return!1},ja.$$arity=1);b.def(D,"$index",Pa=function(a){var b=Pa.$$p,d=b||u;b&&(Pa.$$p=null);b&&(Pa.$$p=null);var e;null!=a&&d!==u&&this.$warn("warning: given block not used");if(null!=a)for(b=0,e=this.length;b<e;b++){if(this[b]["$=="](a))return b}else if(d!==u)for(b=0,e=this.length;b<e;b++){if(a=d(this[b]),!1!==a&&a!==u)return b}else return this.$enum_for("index");return u},Pa.$$arity=-1);b.def(D,"$insert",Va=function(a,d){var e=b.slice.call(arguments,1,arguments.length);
a=g(I,"Opal").$coerce_to(a,g(I,"Integer"),"to_int");if(0<e.length){0>a&&(a+=this.length+1,0>a&&this.$raise(g(I,"IndexError"),""+a+" is out of bounds"));if(a>this.length)for(var f=this.length;f<a;f++)this.push(u);this.splice.apply(this,[a,0].concat(e))}return this},Va.$$arity=-2);b.def(D,"$inspect",Ua=function(){for(var a=[],b=this.$__id__(),d=0,e=this.length;d<e;d++){var f=this["$[]"](d);f.$__id__()===b?a.push("[...]"):a.push(f.$inspect())}return"["+a.join(", ")+"]"},Ua.$$arity=0);b.def(D,"$join",
ab=function(a){null==t[","]&&(t[","]=u);null==a&&(a=u);if(k(0===this.length))return"";k(a===u)&&(a=t[","]);var d=[],e;var f=0;for(e=this.length;f<e;f++){var c=this[f];if(g(I,"Opal")["$respond_to?"](c,"to_str")){var m=c.$to_str();if(m!==u){d.push(m.$to_s());continue}}if(g(I,"Opal")["$respond_to?"](c,"to_ary")&&(m=c.$to_ary(),m===this&&this.$raise(g(I,"ArgumentError")),m!==u)){d.push(m.$join(a));continue}if(g(I,"Opal")["$respond_to?"](c,"to_s")&&(m=c.$to_s(),m!==u)){d.push(m);continue}this.$raise(g(I,
"NoMethodError").$new(""+b.inspect(c)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return a===u?d.join(""):d.join(g(I,"Opal")["$coerce_to!"](a,g(I,"String"),"to_str").$to_s())},ab.$$arity=-1);b.def(D,"$keep_if",ha=function(){var a=ha.$$p,b=a||u,d;a&&(ha.$$p=null);a&&(ha.$$p=null);if(b===u)return w(this,"enum_for",["keep_if"],(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d));a=0;for(var e=this.length,f;a<e;a++)if(f=b(this[a]),!1===f||f===u)this.splice(a,1),e--,a--;
return this},ha.$$arity=0);b.def(D,"$last",ua=function(a){if(null==a)return 0===this.length?u:this[this.length-1];a=g(I,"Opal").$coerce_to(a,g(I,"Integer"),"to_int");0>a&&this.$raise(g(I,"ArgumentError"),"negative array size");a>this.length&&(a=this.length);return this.slice(this.length-a,this.length)},ua.$$arity=-1);b.def(D,"$length",da=function(){return this.length},da.$$arity=0);b.alias(D,"map","collect");b.alias(D,"map!","collect!");b.def(D,"$max",va=function(a){var b=va.$$p,d=b||u;b&&(va.$$p=
null);b&&(va.$$p=null);return w(this.$each(),"max",[a],d.$to_proc())},va.$$arity=-1);b.def(D,"$min",Aa=function(){var a=Aa.$$p,b=a||u;a&&(Aa.$$p=null);a&&(Aa.$$p=null);return w(this.$each(),"min",[],b.$to_proc())},Aa.$$arity=0);b.def(D,"$permutation",qa=function(a){var d=qa.$$p,e=d||u,f,c=this,m=u,p=u;d&&(qa.$$p=null);d&&(qa.$$p=null);if(e===u)return w(c,"enum_for",["permutation",a],(f=function(){var b=f.$$s||this,d=b.length;b=void 0===a?b.length:a;for(var e=0<=b?1:0;b;)e*=d,d--,b--;return e},f.$$s=
c,f.$$arity=0,f));var h;a=void 0===a?c.length:g(I,"Opal").$coerce_to(a,g(I,"Integer"),"to_int");if(!(0>a||c.length<a))if(0===a)b.yield1(e,[]);else if(1===a)for(m=0;m<c.length;m++)b.yield1(e,[c[m]]);else{m=g(I,"Array").$new(a);p=g(I,"Array").$new(c.length,!1);var q=function(a,d,e,f,m){c=this;for(var p=0;p<c.length;p++)if(f["$[]"](p)["$!"]())if(d[e]=p,e<a-1)f[p]=!0,q.call(c,a,d,e+1,f,m),f[p]=!1;else{h=[];for(var g=0;g<d.length;g++)h.push(c[d[g]]);b.yield1(m,h)}};e!==u?(d=c.slice(),q.call(d,a,m,0,p,
e)):q.call(c,a,m,0,p,e)}return c},qa.$$arity=-1);b.def(D,"$repeated_permutation",Ia=function(a){function d(a,e,f){if(e.length==a)a=e.slice(),b.yield1(c,a);else for(var m=0;m<f.length;m++)e.push(f[m]),d(a,e,f),e.pop()}var e,f=Ia.$$p,c=f||u,m=u;f&&(Ia.$$p=null);m=g(I,"Opal")["$coerce_to!"](a,g(I,"Integer"),"to_int");if(c===u)return w(this,"enum_for",["repeated_permutation",m],(e=function(){var a=e.$$s||this;return k("number"===typeof m?0<=m:m["$>="](0))?a.$size()["$**"](m):0},e.$$s=this,e.$$arity=0,
e));d(m,[],this.slice());return this},Ia.$$arity=1);b.def(D,"$pop",Ha=function(a){if(k(void 0===a))return k(0===this.length)?u:this.pop();a=g(I,"Opal").$coerce_to(a,g(I,"Integer"),"to_int");k(0>a)&&this.$raise(g(I,"ArgumentError"),"negative array size");return k(0===this.length)?[]:k(a>this.length)?this.splice(0,this.length):this.splice(this.length-a,this.length)},Ha.$$arity=-1);b.def(D,"$product",Ja=function(a){var d=Ja.$$p,e=d||u;d&&(Ja.$$p=null);d&&(Ja.$$p=null);var f=b.slice.call(arguments,0,
arguments.length);d=e!==u?null:[];var c=f.length+1,m=Array(c),p=Array(c),h=Array(c),q;var Ba=1;h[0]=this;for(q=1;q<c;q++)h[q]=g(I,"Opal").$coerce_to(f[q-1],g(I,"Array"),"to_ary");for(q=0;q<c;q++){f=h[q].length;if(0===f)return d||this;Ba*=f;2147483647<Ba&&this.$raise(g(I,"RangeError"),"too big to product");p[q]=f;m[q]=0}a:for(;;){Ba=[];for(q=0;q<c;q++)Ba.push(h[q][m[q]]);d?d.push(Ba):b.yield1(e,Ba);q=c-1;for(m[q]++;m[q]===p[q];){m[q]=0;if(0>--q)break a;m[q]++}}return d||this},Ja.$$arity=-1);b.def(D,
"$push",Wa=function(a){var d=b.slice.call(arguments,0,arguments.length);for(var e=0,f=d.length;e<f;e++)this.push(d[e]);return this},Wa.$$arity=-1);b.alias(D,"append","push");b.def(D,"$rassoc",Qa=function(a){for(var b=0,d=this.length,e;b<d;b++)if(e=this[b],e.length&&void 0!==e[1]&&e[1]["$=="](a))return e;return u},Qa.$$arity=1);b.def(D,"$reject",Ma=function(){var a=Ma.$$p,b=a||u,d;a&&(Ma.$$p=null);a&&(Ma.$$p=null);if(b===u)return w(this,"enum_for",["reject"],(d=function(){return(d.$$s||this).$size()},
d.$$s=this,d.$$arity=0,d));a=[];for(var e=0,f=this.length,c;e<f;e++)c=b(this[e]),!1!==c&&c!==u||a.push(this[e]);return a},Ma.$$arity=0);b.def(D,"$reject!",Da=function(){var a=Da.$$p,b=a||u,d,e=u;a&&(Da.$$p=null);a&&(Da.$$p=null);if(b===u)return w(this,"enum_for",["reject!"],(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d));e=this.$length();w(this,"delete_if",[],b.$to_proc());return this.$length()["$=="](e)?u:this},Da.$$arity=0);b.def(D,"$replace",Ka=function(a){a=k(g(I,"Array")["$==="](a))?
a.$to_a():g(I,"Opal").$coerce_to(a,g(I,"Array"),"to_ary").$to_a();this.splice(0,this.length);this.push.apply(this,a);return this},Ka.$$arity=1);b.def(D,"$reverse",Xa=function(){return this.slice(0).reverse()},Xa.$$arity=0);b.def(D,"$reverse!",Sa=function(){return this.reverse()},Sa.$$arity=0);b.def(D,"$reverse_each",Ya=function(){var a=Ya.$$p,b=a||u,d;a&&(Ya.$$p=null);a&&(Ya.$$p=null);if(b===u)return w(this,"enum_for",["reverse_each"],(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=
0,d));w(this.$reverse(),"each",[],b.$to_proc());return this},Ya.$$arity=0);b.def(D,"$rindex",Za=function(a){var b=Za.$$p,d=b||u;b&&(Za.$$p=null);b&&(Za.$$p=null);null!=a&&d!==u&&this.$warn("warning: given block not used");if(null!=a)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(this[b]["$=="](a))return b}else if(d!==u)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(a=d(this[b]),!1!==a&&a!==u)return b}else if(null==a)return this.$enum_for("rindex");return u},Za.$$arity=-1);b.def(D,"$rotate",
$a=function(a){null==a&&(a=1);a=g(I,"Opal").$coerce_to(a,g(I,"Integer"),"to_int");if(1===this.length)return this.slice();if(0===this.length)return[];var b=this.slice();var d=a%b.length;a=b.slice(d);b=b.slice(0,d);return a.concat(b)},$a.$$arity=-1);b.def(D,"$rotate!",H=function(a){null==a&&(a=1);if(0===this.length||1===this.length)return this;a=g(I,"Opal").$coerce_to(a,g(I,"Integer"),"to_int");a=this.$rotate(a);return this.$replace(a)},H.$$arity=-1);(function(a,$super,d){a=G(a,$super,"SampleRandom");
var e=[a].concat(d),f,c;a.$$prototype.rng=u;b.def(a,"$initialize",f=function(a){return this.rng=a},f.$$arity=1);return(b.def(a,"$rand",c=function(a){var b=g(e,"Opal").$coerce_to(this.rng.$rand(a),g(e,"Integer"),"to_int");k(0>b)&&this.$raise(g(e,"RangeError"),"random value must be >= 0");k(b<a)||this.$raise(g(e,"RangeError"),"random value must be less than Array size");return b},c.$$arity=1),u)&&"rand"})(I[0],null,I);b.def(D,"$sample",O=function(a,b){var d,e=u;if(k(void 0===a))return this.$at(g(I,
"Kernel").$rand(this.length));k(void 0===b)?k(b=g(I,"Opal")["$coerce_to?"](a,g(I,"Hash"),"to_hash"))?a=u:(b=u,a=g(I,"Opal").$coerce_to(a,g(I,"Integer"),"to_int")):(a=g(I,"Opal").$coerce_to(a,g(I,"Integer"),"to_int"),b=g(I,"Opal").$coerce_to(b,g(I,"Hash"),"to_hash"));k(k(d=a)?0>a:d)&&this.$raise(g(I,"ArgumentError"),"count must be greater than 0");k(b)&&(e=b["$[]"]("random"));e=k(k(d=e)?e["$respond_to?"]("rand"):d)?g(I,"SampleRandom").$new(e):g(I,"Kernel");if(!k(a))return this[e.$rand(this.length)];
a>this.length&&(a=this.length);switch(a){case 0:return[];case 1:return[this[e.$rand(this.length)]];case 2:var f=e.$rand(this.length);var c=e.$rand(this.length);f===c&&(c=0===f?f+1:f-1);return[this[f],this[c]];default:if(3<this.length/a){b=!1;var m=0;d=g(I,"Array").$new(a);f=1;for(d[0]=e.$rand(this.length);f<a;){var p=e.$rand(this.length);for(c=0;c<f;){for(;p===d[c];){m++;if(100<m){b=!0;break}p=e.$rand(this.length)}if(b)break;c++}if(b)break;d[f]=p;f++}if(!b){for(f=0;f<a;)d[f]=this[d[f]],f++;return d}}d=
this.slice();for(f=0;f<a;f++)b=e.$rand(this.length),m=d[f],d[f]=d[b],d[b]=m;return a===this.length?d:d["$[]"](0,a)}},O.$$arity=-1);b.def(D,"$select",F=function(){var a=F.$$p,d=a||u,e;a&&(F.$$p=null);a&&(F.$$p=null);if(d===u)return w(this,"enum_for",["select"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=[];for(var f=0,c=this.length,m,p;f<c;f++)m=this[f],p=b.yield1(d,m),b.truthy(p)&&a.push(m);return a},F.$$arity=0);b.def(D,"$select!",Q=function(){var a=Q.$$p,b=a||u,d;a&&
(Q.$$p=null);a&&(Q.$$p=null);if(b===u)return w(this,"enum_for",["select!"],(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d));a=this.length;w(this,"keep_if",[],b.$to_proc());return this.length===a?u:this},Q.$$arity=0);b.def(D,"$shift",La=function(a){if(k(void 0===a)){if(k(0===this.length))return u;a=this[0];for(var b=1,d=this.length;b<d;b++)this[b-1]=this[b];this.pop();return a}a=g(I,"Opal").$coerce_to(a,g(I,"Integer"),"to_int");k(0>a)&&this.$raise(g(I,"ArgumentError"),"negative array size");
return k(0===this.length)?[]:this.splice(0,a)},La.$$arity=-1);b.alias(D,"size","length");b.def(D,"$shuffle",wa=function(a){return this.$dup().$to_a()["$shuffle!"](a)},wa.$$arity=-1);b.def(D,"$shuffle!",Ea=function(a){var b,d=this.length;void 0!==a&&(a=g(I,"Opal")["$coerce_to?"](a,g(I,"Hash"),"to_hash"),a!==u&&(a=a["$[]"]("random"),a!==u&&a["$respond_to?"]("rand")&&(b=a)));for(;d;){b?(a=b.$rand(d).$to_int(),0>a&&this.$raise(g(I,"RangeError"),"random number too small "+a),a>=d&&this.$raise(g(I,"RangeError"),
"random number too big "+a)):a=this.$rand(d);var e=this[--d];this[d]=this[a];this[a]=e}return this},Ea.$$arity=-1);b.alias(D,"slice","[]");b.def(D,"$slice!",Fa=function(a,b){if(k(void 0===b))if(k(g(I,"Range")["$==="](a))){var d=this["$[]"](a);b=g(I,"Opal").$coerce_to(a.$begin(),g(I,"Integer"),"to_int");var e=g(I,"Opal").$coerce_to(a.$end(),g(I,"Integer"),"to_int");0>b&&(b+=this.length);0>e?e+=this.length:e>=this.length&&(e=this.length-1,a.excl&&(e+=1));var f=e-b;a.excl?--e:f+=1;b<this.length&&0<=
b&&e<this.length&&0<=e&&0<f&&this.splice(b,f)}else{a=g(I,"Opal").$coerce_to(a,g(I,"Integer"),"to_int");0>a&&(a+=this.length);if(0>a||a>=this.length)return u;d=this[a];0===a?this.shift():this.splice(a,1)}else{a=g(I,"Opal").$coerce_to(a,g(I,"Integer"),"to_int");b=g(I,"Opal").$coerce_to(b,g(I,"Integer"),"to_int");if(0>b)return u;d=this["$[]"](a,b);0>a&&(a+=this.length);a+b>this.length&&(b=this.length-a);a<this.length&&0<=a&&this.splice(a,b)}return d},Fa.$$arity=-2);b.def(D,"$sort",Ta=function(){var a=
Ta.$$p,b=a||u,d=this;a&&(Ta.$$p=null);a&&(Ta.$$p=null);if(!k(1<d.length))return d;b===u&&(b=function(a,b){return a["$<=>"](b)});return d.slice().sort(function(a,e){var f=b(a,e);f===u&&d.$raise(g(I,"ArgumentError"),"comparison of "+a.$inspect()+" with "+e.$inspect()+" failed");return r(f,0)?1:("number"===typeof f?0>f:f["$<"](0))?-1:0})},Ta.$$arity=0);b.def(D,"$sort!",bb=function(){var a=bb.$$p,b=a||u;a&&(bb.$$p=null);a&&(bb.$$p=null);a=b!==u?w(this.slice(),"sort",[],b.$to_proc()):this.slice().$sort();
b=this.length=0;for(var d=a.length;b<d;b++)this.push(a[b]);return this},bb.$$arity=0);b.def(D,"$sort_by!",Ba=function(){var a=Ba.$$p,b=a||u,d;a&&(Ba.$$p=null);a&&(Ba.$$p=null);return b===u?w(this,"enum_for",["sort_by!"],(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d)):this.$replace(w(this,"sort_by",[],b.$to_proc()))},Ba.$$arity=0);b.def(D,"$take",mb=function(a){0>a&&this.$raise(g(I,"ArgumentError"));return this.slice(0,a)},mb.$$arity=1);b.def(D,"$take_while",gb=function(){var a=
gb.$$p,b=a||u;a&&(gb.$$p=null);a&&(gb.$$p=null);a=[];for(var d=0,e=this.length,f,c;d<e;d++){f=this[d];c=b(f);if(!1===c||c===u)break;a.push(f)}return a},gb.$$arity=0);b.def(D,"$to_a",kb=function(){return this},kb.$$arity=0);b.alias(D,"to_ary","to_a");b.def(D,"$to_h",eb=function(){var a,d=this.length,e=E([],{});for(a=0;a<d;a++){var f=g(I,"Opal")["$coerce_to?"](this[a],g(I,"Array"),"to_ary");f.$$is_array||this.$raise(g(I,"TypeError"),"wrong element type "+f.$class()+" at "+a+" (expected array)");2!==
f.length&&this.$raise(g(I,"ArgumentError"),"wrong array length at "+a+" (expected 2, was "+f.$length()+")");var c=f[0];f=f[1];b.hash_put(e,c,f)}return e},eb.$$arity=0);b.alias(D,"to_s","inspect");b.def(D,"$transpose",lb=function(){var a,d=u,e=u;if(k(this["$empty?"]()))return[];d=[];e=u;w(this,"each",[],(a=function(f){var c=a.$$s||this,m,p;null==f&&(f=u);f=k(g(I,"Array")["$==="](f))?f.$to_a():g(I,"Opal").$coerce_to(f,g(I,"Array"),"to_ary").$to_a();e=k(m=e)?m:f.length;k(f.length["$!="](e))&&c.$raise(g(I,
"IndexError"),"element size differs ("+f.length+" should be "+e+")");return w(f.length,"times",[],(p=function(a){var e;null==a&&(a=u);if(!k(e=d["$[]"](a))){e=[a,[]];w(d,"[]=",b.to_a(e));var c=e.length;c="number"===typeof c?c-1:c["$-"](1);e=e[c]}return e["$<<"](f.$at(a))},p.$$s=c,p.$$arity=1,p))},a.$$s=this,a.$$arity=1,a));return d},lb.$$arity=0);b.def(D,"$uniq",Ra=function(){var a=Ra.$$p,d=a||u;a&&(Ra.$$p=null);a&&(Ra.$$p=null);a=E([],{});var e;if(d===u){var f=0;for(e=this.length;f<e;f++){var c=this[f];
void 0===b.hash_get(a,c)&&b.hash_put(a,c,c)}}else for(f=0,e=this.length;f<e;f++){c=this[f];var m=b.yield1(d,c);void 0===b.hash_get(a,m)&&b.hash_put(a,m,c)}return x(a.$values(),this.$class())},Ra.$$arity=0);b.def(D,"$uniq!",db=function(){var a=db.$$p,d=a||u;a&&(db.$$p=null);a&&(db.$$p=null);a=this.length;var e=E([],{}),f;var c=0;for(f=a;c<f;c++){var m=this[c];var p=d===u?m:b.yield1(d,m);void 0===b.hash_get(e,p)?b.hash_put(e,p,m):(this.splice(c,1),f--,c--)}return this.length===a?u:this},db.$$arity=
0);b.def(D,"$unshift",fb=function(a){var d=b.slice.call(arguments,0,arguments.length);for(var e=d.length-1;0<=e;e--)this.unshift(d[e]);return this},fb.$$arity=-1);b.alias(D,"prepend","unshift");b.def(D,"$values_at",ob=function(a){var d,e=u;var f=b.slice.call(arguments,0,arguments.length);e=[];w(f,"each",[],(d=function(a){var b=d.$$s||this,f,c=u,m=u;c=u;null==a&&(a=u);if(k(a["$is_a?"](g(I,"Range")))){c=g(I,"Opal").$coerce_to(a.$last(),g(I,"Integer"),"to_int");m=g(I,"Opal").$coerce_to(a.$first(),g(I,
"Integer"),"to_int");if(0>m)return m+=b.length,u;0>c&&(c+=b.length);a["$exclude_end?"]()&&c--;return c<m?u:w(m,"upto",[c],(f=function(a){var b=f.$$s||this;null==a&&(a=u);return e["$<<"](b.$at(a))},f.$$s=b,f.$$arity=1,f))}c=g(I,"Opal").$coerce_to(a,g(I,"Integer"),"to_int");return e["$<<"](b.$at(c))},d.$$s=this,d.$$arity=1,d));return e},ob.$$arity=-1);b.def(D,"$zip",hb=function(a){var d=hb.$$p,e=d||u,f;d&&(hb.$$p=null);d&&(hb.$$p=null);d=b.slice.call(arguments,0,arguments.length);var c=[],m=this.length,
p,h;var q=0;for(h=d.length;q<h;q++){var Ba=d[q];Ba.$$is_array||(Ba.$$is_enumerator?Infinity===Ba.$size()?d[q]=Ba.$take(m):d[q]=Ba.$to_a():d[q]=(k(f=g(I,"Opal")["$coerce_to?"](Ba,g(I,"Array"),"to_ary"))?f:g(I,"Opal")["$coerce_to!"](Ba,g(I,"Enumerator"),"each")).$to_a())}for(p=0;p<m;p++){f=[this[p]];q=0;for(h=d.length;q<h;q++)Ba=d[q][p],null==Ba&&(Ba=u),f[q+1]=Ba;c[p]=f}if(e!==u){for(p=0;p<m;p++)e(c[p]);return u}return c},hb.$$arity=-1);b.defs(D,"$inherited",pb=function(a){a.$$prototype.$to_a=function(){return this.slice(0,
this.length)}},pb.$$arity=1);b.def(D,"$instance_variables",cb=function(){var a,d=cb.$$p,e=u,f=u,c=u;d&&(cb.$$p=null);f=0;c=arguments.length;for(e=Array(c);f<c;f++)e[f]=arguments[f];return w(w(this,b.find_super_dispatcher(this,"instance_variables",cb,!1),e,d),"reject",[],(a=function(a){var b;null==a&&(a=u);return k(b=/^@\d+$/.test(a))?b:a["$=="]("@length")},a.$$s=this,a.$$arity=1,a))},cb.$$arity=0);g(I,"Opal").$pristine(D.$singleton_class(),"allocate");g(I,"Opal").$pristine(D,"copy_instance_variables",
"initialize_dup");return(b.def(D,"$pack",qb=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},qb.$$arity=-1),u)&&"pack"}(C[0],Array,C)};
Opal.modules["corelib/hash"]=function(b){function r(b,g){return"number"===typeof b&&"number"===typeof g?b>=g:b["$>="](g)}var A=b.top,C=[],u=b.nil,n=b.const_get_relative,g=b.klass,G=b.send,k=b.hash2,E=b.truthy;b.add_stubs("$require $include $coerce_to? $[] $merge! $allocate $raise $coerce_to! $each $fetch $>= $> $== $compare_by_identity $lambda? $abs $arity $enum_for $size $respond_to? $class $dig $new $inspect $map $to_proc $flatten $eql? $default $dup $default_proc $default_proc= $- $default= $proc".split(" "));A.$require("corelib/enumerable");
return function(w,$super,C){w=g(w,$super,"Hash");var A=[w].concat(C),K,x,l,N,P,D,I,ea,Y,a,c,v,B,J,q,h,d,z,p,S,L,m,e,f,U,T,ia,V,R,ca,y,fa,Z,ra,sa,oa,pa,ba,X,za,Na,Ca,ya,xa,ka,W,ma,aa,Ga,ta,Oa,na,ja,Pa,Va,Ua,ab,ha,ua,da,va,Aa;w.$include(n(A,"Enumerable"));w.$$prototype.$$is_hash=!0;b.defs(w,"$[]",K=function(a){var d=b.slice.call(arguments,0,arguments.length);var e=d.length,f;if(1===e){var c=n(A,"Opal")["$coerce_to?"](d["$[]"](0),n(A,"Hash"),"to_hash");if(c!==u)return this.$allocate()["$merge!"](c);
d=n(A,"Opal")["$coerce_to?"](d["$[]"](0),n(A,"Array"),"to_ary");d===u&&this.$raise(n(A,"ArgumentError"),"odd number of arguments for Hash");e=d.length;c=this.$allocate();for(f=0;f<e;f++)if(d[f].$$is_array)switch(d[f].length){case 1:c.$store(d[f][0],u);break;case 2:c.$store(d[f][0],d[f][1]);break;default:this.$raise(n(A,"ArgumentError"),"invalid number of elements ("+d[f].length+" for 1..2)")}return c}0!==e%2&&this.$raise(n(A,"ArgumentError"),"odd number of arguments for Hash");c=this.$allocate();
for(f=0;f<e;f+=2)c.$store(d[f],d[f+1]);return c},K.$$arity=-1);b.defs(w,"$allocate",x=function(){var a=new this.$$constructor;b.hash_init(a);a.$$none=u;a.$$proc=u;return a},x.$$arity=0);b.defs(w,"$try_convert",l=function(a){return n(A,"Opal")["$coerce_to?"](a,n(A,"Hash"),"to_hash")},l.$$arity=1);b.def(w,"$initialize",N=function(a){var b=N.$$p,d=b||u;b&&(N.$$p=null);b&&(N.$$p=null);void 0!==a&&d!==u&&this.$raise(n(A,"ArgumentError"),"wrong number of arguments (1 for 0)");this.$$none=void 0===a?u:a;
this.$$proc=d;return this},N.$$arity=-1);b.def(w,"$==",P=function(a){if(this===a)return!0;if(!a.$$is_hash||this.$$keys.length!==a.$$keys.length)return!1;for(var d=0,e=this.$$keys,f=e.length,c,m;d<f;d++)if(c=e[d],c.$$is_string?(m=this.$$smap[c],c=a.$$smap[c]):(m=c.value,c=b.hash_get(a,c.key)),void 0===c||!m["$eql?"](c))return!1;return!0},P.$$arity=1);b.def(w,"$>=",D=function(a){var b,d=u;a=n(A,"Opal")["$coerce_to!"](a,n(A,"Hash"),"to_hash");if(this.$$keys.length<a.$$keys.length)return!1;d=!0;G(a,"each",
[],(b=function(a,e){var f=b.$$s||this;null==a&&(a=u);null==e&&(e=u);a=f.$fetch(a,null);if(null==a||a!==e)d=!1},b.$$s=this,b.$$arity=2,b));return d},D.$$arity=1);b.def(w,"$>",I=function(a){a=n(A,"Opal")["$coerce_to!"](a,n(A,"Hash"),"to_hash");return this.$$keys.length<=a.$$keys.length?!1:r(this,a)},I.$$arity=1);b.def(w,"$<",ea=function(a){a=n(A,"Opal")["$coerce_to!"](a,n(A,"Hash"),"to_hash");return"number"===typeof a&&"number"===typeof this?a>this:a["$>"](this)},ea.$$arity=1);b.def(w,"$<=",Y=function(a){a=
n(A,"Opal")["$coerce_to!"](a,n(A,"Hash"),"to_hash");return r(a,this)},Y.$$arity=1);b.def(w,"$[]",a=function(a){var d=b.hash_get(this,a);return void 0!==d?d:this.$default(a)},a.$$arity=1);b.def(w,"$[]=",c=function(a,d){b.hash_put(this,a,d);return d},c.$$arity=2);b.def(w,"$assoc",v=function(a){for(var b=0,d=this.$$keys,e=d.length,f;b<e;b++)if(f=d[b],f.$$is_string){if(f["$=="](a))return[f,this.$$smap[f]]}else if(f.key["$=="](a))return[f.key,f.value];return u},v.$$arity=1);b.def(w,"$clear",B=function(){b.hash_init(this);
return this},B.$$arity=0);b.def(w,"$clone",J=function(){var a=new this.$$class;b.hash_init(a);b.hash_clone(this,a);return a},J.$$arity=0);b.def(w,"$compact",q=function(){for(var a=b.hash(),d=0,e=this.$$keys,f=e.length,c,m;d<f;d++)c=e[d],c.$$is_string?m=this.$$smap[c]:(m=c.value,c=c.key),m!==u&&b.hash_put(a,c,m);return a},q.$$arity=0);b.def(w,"$compact!",h=function(){for(var a=!1,d=0,e=this.$$keys,f=e.length,c,m;d<f;d++)c=e[d],c.$$is_string?m=this.$$smap[c]:(m=c.value,c=c.key),m===u&&void 0!==b.hash_delete(this,
c)&&(a=!0,f--,d--);return a?this:u},h.$$arity=0);b.def(w,"$compare_by_identity",d=function(){var a,d=this.$$keys;if(this.$$by_identity)return this;if(0===this.$$keys.length)return this.$$by_identity=!0,this;var e=k([],{}).$compare_by_identity();var f=0;for(a=d.length;f<a;f++){var c=d[f];c.$$is_string||(c=c.key);b.hash_put(e,c,b.hash_get(this,c))}this.$$by_identity=!0;this.$$map=e.$$map;this.$$smap=e.$$smap;return this},d.$$arity=0);b.def(w,"$compare_by_identity?",z=function(){return!0===this.$$by_identity},
z.$$arity=0);b.def(w,"$default",p=function(a){return void 0!==a&&this.$$proc!==u&&void 0!==this.$$proc?this.$$proc.$call(this,a):void 0===this.$$none?u:this.$$none},p.$$arity=-1);b.def(w,"$default=",S=function(a){this.$$proc=u;return this.$$none=a},S.$$arity=1);b.def(w,"$default_proc",L=function(){return void 0!==this.$$proc?this.$$proc:u},L.$$arity=0);b.def(w,"$default_proc=",m=function(a){var b=a;b!==u&&(b=n(A,"Opal")["$coerce_to!"](b,n(A,"Proc"),"to_proc"),b["$lambda?"]()&&2!==b.$arity().$abs()&&
this.$raise(n(A,"TypeError"),"default_proc takes two arguments"));this.$$none=u;this.$$proc=b;return a},m.$$arity=1);b.def(w,"$delete",e=function(a){var d=e.$$p,f=d||u;d&&(e.$$p=null);d&&(e.$$p=null);d=b.hash_delete(this,a);return void 0!==d?d:f!==u?b.yield1(f,a):u},e.$$arity=1);b.def(w,"$delete_if",f=function(){var a=f.$$p,d=a||u,e;a&&(f.$$p=null);a&&(f.$$p=null);if(!E(d))return G(this,"enum_for",["delete_if"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=0;for(var c=this.$$keys,
m=c.length,p,h;a<m;a++)p=c[a],p.$$is_string?h=this.$$smap[p]:(h=p.value,p=p.key),h=d(p,h),!1!==h&&h!==u&&void 0!==b.hash_delete(this,p)&&(m--,a--);return this},f.$$arity=0);b.alias(w,"dup","clone");b.def(w,"$dig",U=function(a,d){var e=b.slice.call(arguments,1,arguments.length);var f=this["$[]"](a);if(f===u||0===e.length)return f;E(f["$respond_to?"]("dig"))||this.$raise(n(A,"TypeError"),""+f.$class()+" does not have #dig method");return G(f,"dig",b.to_a(e))},U.$$arity=-2);b.def(w,"$each",T=function(){var a=
T.$$p,d=a||u,e;a&&(T.$$p=null);a&&(T.$$p=null);if(!E(d))return G(this,"enum_for",["each"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=0;for(var f=this.$$keys,c=f.length,m,p;a<c;a++)m=f[a],m.$$is_string?p=this.$$smap[m]:(p=m.value,m=m.key),b.yield1(d,[m,p]);return this},T.$$arity=0);b.def(w,"$each_key",ia=function(){var a=ia.$$p,b=a||u,d;a&&(ia.$$p=null);a&&(ia.$$p=null);if(!E(b))return G(this,"enum_for",["each_key"],(d=function(){return(d.$$s||this).$size()},d.$$s=this,
d.$$arity=0,d));a=0;for(var e=this.$$keys,f=e.length,c;a<f;a++)c=e[a],b(c.$$is_string?c:c.key);return this},ia.$$arity=0);b.alias(w,"each_pair","each");b.def(w,"$each_value",V=function(){var a=V.$$p,b=a||u,d;a&&(V.$$p=null);a&&(V.$$p=null);if(!E(b))return G(this,"enum_for",["each_value"],(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d));a=0;for(var e=this.$$keys,f=e.length,c;a<f;a++)c=e[a],b(c.$$is_string?this.$$smap[c]:c.value);return this},V.$$arity=0);b.def(w,"$empty?",R=function(){return 0===
this.$$keys.length},R.$$arity=0);b.alias(w,"eql?","==");b.def(w,"$fetch",ca=function(a,d){var e=ca.$$p,f=e||u;e&&(ca.$$p=null);e&&(ca.$$p=null);e=b.hash_get(this,a);return void 0!==e?e:f!==u?f(a):void 0!==d?d:this.$raise(n(A,"KeyError").$new("key not found: "+a.$inspect(),k(["key","receiver"],{key:a,receiver:this})))},ca.$$arity=-2);b.def(w,"$fetch_values",y=function(a){var d=y.$$p,e=d||u,f;d&&(y.$$p=null);d&&(y.$$p=null);d=b.slice.call(arguments,0,arguments.length);return G(d,"map",[],(f=function(a){var b=
f.$$s||this;null==a&&(a=u);return G(b,"fetch",[a],e.$to_proc())},f.$$s=this,f.$$arity=1,f))},y.$$arity=-1);b.def(w,"$flatten",fa=function(a){null==a&&(a=1);a=n(A,"Opal")["$coerce_to!"](a,n(A,"Integer"),"to_int");for(var b=[],d=0,e=this.$$keys,f=e.length,c,m;d<f;d++)c=e[d],c.$$is_string?m=this.$$smap[c]:(m=c.value,c=c.key),b.push(c),m.$$is_array?1===a?b.push(m):b=b.concat(m.$flatten(a-2)):b.push(m);return b},fa.$$arity=-1);b.def(w,"$has_key?",Z=function(a){return void 0!==b.hash_get(this,a)},Z.$$arity=
1);b.def(w,"$has_value?",ra=function(a){for(var b=0,d=this.$$keys,e=d.length,f;b<e;b++)if(f=d[b],(f.$$is_string?this.$$smap[f]:f.value)["$=="](a))return!0;return!1},ra.$$arity=1);b.def(w,"$hash",sa=function(){var a=void 0===b.hash_ids,d=this.$object_id(),e=["Hash"];try{a&&(b.hash_ids=Object.create(null));if(b[d])return"self";for(p in b.hash_ids){var f=b.hash_ids[p];if(this["$eql?"](f))return"self"}b.hash_ids[d]=this;d=0;for(var c=this.$$keys,m=c.length;d<m;d++){var p=c[d];p.$$is_string?e.push([p,
this.$$smap[p].$hash()]):e.push([p.key_hash,p.value.$hash()])}return e.sort().join()}finally{a&&(b.hash_ids=void 0)}},sa.$$arity=0);b.alias(w,"include?","has_key?");b.def(w,"$index",oa=function(a){for(var b=0,d=this.$$keys,e=d.length,f,c;b<e;b++)if(f=d[b],f.$$is_string?c=this.$$smap[f]:(c=f.value,f=f.key),c["$=="](a))return f;return u},oa.$$arity=1);b.def(w,"$indexes",pa=function(a){var d=b.slice.call(arguments,0,arguments.length);for(var e=[],f=0,c=d.length,m;f<c;f++)m=d[f],m=b.hash_get(this,m),
void 0===m?e.push(this.$default()):e.push(m);return e},pa.$$arity=-1);b.alias(w,"indices","indexes");var qa;b.def(w,"$inspect",ba=function(){var a=void 0===qa,b=this.$object_id(),d=[];try{a&&(qa={});if(qa.hasOwnProperty(b))return"{...}";qa[b]=!0;b=0;for(var e=this.$$keys,f=e.length,c,m;b<f;b++)c=e[b],c.$$is_string?m=this.$$smap[c]:(m=c.value,c=c.key),d.push(c.$inspect()+"=>"+m.$inspect());return"{"+d.join(", ")+"}"}finally{a&&(qa=void 0)}},ba.$$arity=0);b.def(w,"$invert",X=function(){for(var a=b.hash(),
d=0,e=this.$$keys,f=e.length,c,m;d<f;d++)c=e[d],c.$$is_string?m=this.$$smap[c]:(m=c.value,c=c.key),b.hash_put(a,m,c);return a},X.$$arity=0);b.def(w,"$keep_if",za=function(){var a=za.$$p,d=a||u,e;a&&(za.$$p=null);a&&(za.$$p=null);if(!E(d))return G(this,"enum_for",["keep_if"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=0;for(var f=this.$$keys,c=f.length,m,p;a<c;a++)m=f[a],m.$$is_string?p=this.$$smap[m]:(p=m.value,m=m.key),p=d(m,p),!1!==p&&p!==u||void 0===b.hash_delete(this,
m)||(c--,a--);return this},za.$$arity=0);b.alias(w,"key","index");b.alias(w,"key?","has_key?");b.def(w,"$keys",Na=function(){for(var a=[],b=0,d=this.$$keys,e=d.length,f;b<e;b++)f=d[b],f.$$is_string?a.push(f):a.push(f.key);return a},Na.$$arity=0);b.def(w,"$length",Ca=function(){return this.$$keys.length},Ca.$$arity=0);b.alias(w,"member?","has_key?");b.def(w,"$merge",ya=function(a){var b=ya.$$p,d=b||u;b&&(ya.$$p=null);b&&(ya.$$p=null);return G(this.$dup(),"merge!",[a],d.$to_proc())},ya.$$arity=1);b.def(w,
"$merge!",xa=function(a){var d=xa.$$p,e=d||u;d&&(xa.$$p=null);d&&(xa.$$p=null);a.$$is_hash||(a=n(A,"Opal")["$coerce_to!"](a,n(A,"Hash"),"to_hash"));var f=a.$$keys,c=f.length;if(e===u){for(d=0;d<c;d++){var m=f[d];if(m.$$is_string)var p=a.$$smap[m];else p=m.value,m=m.key;b.hash_put(this,m,p)}return this}for(d=0;d<c;d++){m=f[d];m.$$is_string?p=a.$$smap[m]:(p=m.value,m=m.key);var h=b.hash_get(this,m);void 0===h?b.hash_put(this,m,p):b.hash_put(this,m,e(m,h,p))}return this},xa.$$arity=1);b.def(w,"$rassoc",
ka=function(a){for(var b=0,d=this.$$keys,e=d.length,f,c;b<e;b++)if(f=d[b],f.$$is_string?c=this.$$smap[f]:(c=f.value,f=f.key),c["$=="](a))return[f,c];return u},ka.$$arity=1);b.def(w,"$rehash",W=function(){b.hash_rehash(this);return this},W.$$arity=0);b.def(w,"$reject",ma=function(){var a=ma.$$p,d=a||u,e;a&&(ma.$$p=null);a&&(ma.$$p=null);if(!E(d))return G(this,"enum_for",["reject"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=b.hash();for(var f=0,c=this.$$keys,m=c.length,
p,h,q;f<m;f++)p=c[f],p.$$is_string?h=this.$$smap[p]:(h=p.value,p=p.key),q=d(p,h),!1!==q&&q!==u||b.hash_put(a,p,h);return a},ma.$$arity=0);b.def(w,"$reject!",aa=function(){var a=aa.$$p,d=a||u,e;a&&(aa.$$p=null);a&&(aa.$$p=null);if(!E(d))return G(this,"enum_for",["reject!"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=!1;for(var f=0,c=this.$$keys,m=c.length,p,h;f<m;f++)p=c[f],p.$$is_string?h=this.$$smap[p]:(h=p.value,p=p.key),h=d(p,h),!1!==h&&h!==u&&void 0!==b.hash_delete(this,
p)&&(a=!0,m--,f--);return a?this:u},aa.$$arity=0);b.def(w,"$replace",Ga=function(a){a=n(A,"Opal")["$coerce_to!"](a,n(A,"Hash"),"to_hash");b.hash_init(this);var d=0;for(var e=a.$$keys,f=e.length,c,m;d<f;d++)c=e[d],c.$$is_string?m=a.$$smap[c]:(m=c.value,c=c.key),b.hash_put(this,c,m);E(a.$default_proc())?(d=[a.$default_proc()],G(this,"default_proc=",b.to_a(d))):(d=[a.$default()],G(this,"default=",b.to_a(d)));a=d;d=d.length;d="number"===typeof d?d-1:d["$-"](1);a[d];return this},Ga.$$arity=1);b.def(w,
"$select",ta=function(){var a=ta.$$p,d=a||u,e;a&&(ta.$$p=null);a&&(ta.$$p=null);if(!E(d))return G(this,"enum_for",["select"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=b.hash();for(var f=0,c=this.$$keys,m=c.length,p,h,q;f<m;f++)p=c[f],p.$$is_string?h=this.$$smap[p]:(h=p.value,p=p.key),q=d(p,h),!1!==q&&q!==u&&b.hash_put(a,p,h);return a},ta.$$arity=0);b.def(w,"$select!",Oa=function(){var a=Oa.$$p,d=a||u,e;a&&(Oa.$$p=null);a&&(Oa.$$p=null);if(!E(d))return G(this,"enum_for",
["select!"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=u;for(var f=0,c=this.$$keys,m=c.length,p,h;f<m;f++)if(p=c[f],p.$$is_string?h=this.$$smap[p]:(h=p.value,p=p.key),h=d(p,h),!1===h||h===u)void 0!==b.hash_delete(this,p)&&(m--,f--),a=this;return a},Oa.$$arity=0);b.def(w,"$shift",na=function(){var a=this.$$keys;return 0<a.length?(a=a[0],a=a.$$is_string?a:a.key,[a,b.hash_delete(this,a)]):this.$default(u)},na.$$arity=0);b.alias(w,"size","length");b.def(w,"$slice",ja=function(a){var d=
b.slice.call(arguments,0,arguments.length);for(var e=b.hash(),f=0,c=d.length;f<c;f++){var m=d[f],p=b.hash_get(this,m);void 0!==p&&b.hash_put(e,m,p)}return e},ja.$$arity=-1);b.alias(w,"store","[]=");b.def(w,"$to_a",Pa=function(){for(var a=[],b=0,d=this.$$keys,e=d.length,f,c;b<e;b++)f=d[b],f.$$is_string?c=this.$$smap[f]:(c=f.value,f=f.key),a.push([f,c]);return a},Pa.$$arity=0);b.def(w,"$to_h",Va=function(){if(this.$$class===b.Hash)return this;var a=new b.Hash;b.hash_init(a);b.hash_clone(this,a);return a},
Va.$$arity=0);b.def(w,"$to_hash",Ua=function(){return this},Ua.$$arity=0);b.def(w,"$to_proc",ab=function(){var a;return G(this,"proc",[],(a=function(b){var d=a.$$s||this;null==b&&d.$raise(n(A,"ArgumentError"),"no key given");return d["$[]"](b)},a.$$s=this,a.$$arity=-1,a))},ab.$$arity=0);b.alias(w,"to_s","inspect");b.def(w,"$transform_keys",ha=function(){var a=ha.$$p,d=a||u,e;a&&(ha.$$p=null);a&&(ha.$$p=null);if(!E(d))return G(this,"enum_for",["transform_keys"],(e=function(){return(e.$$s||this).$size()},
e.$$s=this,e.$$arity=0,e));a=b.hash();for(var f=0,c=this.$$keys,m=c.length,p,h;f<m;f++)p=c[f],p.$$is_string?h=this.$$smap[p]:(h=p.value,p=p.key),p=b.yield1(d,p),b.hash_put(a,p,h);return a},ha.$$arity=0);b.def(w,"$transform_keys!",ua=function(){var a=ua.$$p,d=a||u,e;a&&(ua.$$p=null);a&&(ua.$$p=null);if(!E(d))return G(this,"enum_for",["transform_keys!"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=b.slice.call(this.$$keys);var f,c=a.length;for(f=0;f<c;f++){var m=a[f];if(m.$$is_string)var p=
this.$$smap[m];else p=m.value,m=m.key;var h=b.yield1(d,m);b.hash_delete(this,m);b.hash_put(this,h,p)}return this},ua.$$arity=0);b.def(w,"$transform_values",da=function(){var a=da.$$p,d=a||u,e;a&&(da.$$p=null);a&&(da.$$p=null);if(!E(d))return G(this,"enum_for",["transform_values"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=b.hash();for(var f=0,c=this.$$keys,m=c.length,p,h;f<m;f++)p=c[f],p.$$is_string?h=this.$$smap[p]:(h=p.value,p=p.key),h=b.yield1(d,h),b.hash_put(a,p,h);
return a},da.$$arity=0);b.def(w,"$transform_values!",va=function(){var a=va.$$p,d=a||u,e;a&&(va.$$p=null);a&&(va.$$p=null);if(!E(d))return G(this,"enum_for",["transform_values!"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=0;for(var f=this.$$keys,c=f.length,m,p;a<c;a++)m=f[a],m.$$is_string?p=this.$$smap[m]:(p=m.value,m=m.key),p=b.yield1(d,p),b.hash_put(this,m,p);return this},va.$$arity=0);b.alias(w,"update","merge!");b.alias(w,"value?","has_value?");b.alias(w,"values_at",
"indexes");return(b.def(w,"$values",Aa=function(){for(var a=[],b=0,d=this.$$keys,e=d.length,f;b<e;b++)f=d[b],f.$$is_string?a.push(this.$$smap[f]):a.push(f.value);return a},Aa.$$arity=0),u)&&"values"}(C[0],null,C)};
Opal.modules["corelib/number"]=function(b){function r(b,g){return"number"===typeof b&&"number"===typeof g?b>g:b["$>"](g)}function A(b,g){return"number"===typeof b&&"number"===typeof g?b<g:b["$<"](g)}function C(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}function u(b,g){return"number"===typeof b&&"number"===typeof g?b-g:b["$-"](g)}function n(b,g){return"number"===typeof b&&"number"===typeof g?b/g:b["$/"](g)}function g(b,g){return"number"===typeof b&&"number"===typeof g?b*g:b["$*"](g)}
var G=b.top,k=[],E=b.nil,w=b.const_get_qualified,t=b.const_get_relative,N=b.klass,M=b.truthy,K=b.send,x=b.hash2;b.add_stubs("$require $bridge $raise $name $class $Float $respond_to? $coerce_to! $__coerced__ $=== $! $> $** $new $< $to_f $== $nan? $infinite? $enum_for $+ $- $gcd $lcm $% $/ $frexp $to_i $ldexp $rationalize $* $<< $to_r $truncate $-@ $size $<= $>= $<=> $compare $any?".split(" "));G.$require("corelib/numeric");(function(l,$super,k){l=N(l,$super,"Number");var D=[l].concat(k),I,G,P,a,c,
v,B,J,q,h,d,z,p,S,L,m,e,f,U,T,ia,V,R,ca,y,fa,Z,ra,sa,oa,pa,ba,X,za,Na,Ca,ya,xa,ka,W,ma,aa,Ga,ta,Oa,na,ja,Pa,Va,Ua,ab,ha,ua,da,va,Aa,qa,Ia,Ha,Ja,Wa,Qa,Ma,Da,Ka,Xa,Sa,Ya,Za,$a,H,O;t(D,"Opal").$bridge(Number,l);b.defineProperty(l.$$prototype,"$$is_number",!0);l.$$is_number_class=!0;(function(a,d){var e=[a].concat(d),f;b.def(a,"$allocate",f=function(){return this.$raise(t(e,"TypeError"),"allocator undefined for "+this.$name())},f.$$arity=0);b.udef(a,"$new");return E})(b.get_singleton_class(l),D);b.def(l,
"$coerce",I=function(a){if(a!==E){if(a.$$is_string)return[this.$Float(a),this];if(a["$respond_to?"]("to_f"))return[t(D,"Opal")["$coerce_to!"](a,t(D,"Float"),"to_f"),this];if(a.$$is_number)return[a,this]}this.$raise(t(D,"TypeError"),"can't convert "+a.$class()+" into Float")},I.$$arity=1);b.def(l,"$__id__",G=function(){return 2*this+1},G.$$arity=0);b.alias(l,"object_id","__id__");b.def(l,"$+",P=function(a){return a.$$is_number?this+a:this.$__coerced__("+",a)},P.$$arity=1);b.def(l,"$-",a=function(a){return a.$$is_number?
this-a:this.$__coerced__("-",a)},a.$$arity=1);b.def(l,"$*",c=function(a){return a.$$is_number?this*a:this.$__coerced__("*",a)},c.$$arity=1);b.def(l,"$/",v=function(a){return a.$$is_number?this/a:this.$__coerced__("/",a)},v.$$arity=1);b.alias(l,"fdiv","/");b.def(l,"$%",B=function(a){if(a.$$is_number){if(-Infinity==a)return a;if(0==a)this.$raise(t(D,"ZeroDivisionError"),"divided by 0");else return 0>a||0>this?(this%a+a)%a:this%a}else return this.$__coerced__("%",a)},B.$$arity=1);b.def(l,"$&",J=function(a){return a.$$is_number?
this&a:this.$__coerced__("&",a)},J.$$arity=1);b.def(l,"$|",q=function(a){return a.$$is_number?this|a:this.$__coerced__("|",a)},q.$$arity=1);b.def(l,"$^",h=function(a){return a.$$is_number?this^a:this.$__coerced__("^",a)},h.$$arity=1);b.def(l,"$<",d=function(a){return a.$$is_number?this<a:this.$__coerced__("<",a)},d.$$arity=1);b.def(l,"$<=",z=function(a){return a.$$is_number?this<=a:this.$__coerced__("<=",a)},z.$$arity=1);b.def(l,"$>",p=function(a){return a.$$is_number?this>a:this.$__coerced__(">",
a)},p.$$arity=1);b.def(l,"$>=",S=function(a){return a.$$is_number?this>=a:this.$__coerced__(">=",a)},S.$$arity=1);b.def(l,"$<=>",L=function(a){try{return a.$$is_number?isNaN(this)||isNaN(a)?E:this>a?1:this<a?-1:0:this.$__coerced__("<=>",a)}catch(Q){if(b.rescue(Q,[t(D,"ArgumentError")]))try{return E}finally{b.pop_exception()}else throw Q;}},L.$$arity=1);b.def(l,"$<<",m=function(a){a=t(D,"Opal")["$coerce_to!"](a,t(D,"Integer"),"to_int");return 0<a?this<<a:this>>-a},m.$$arity=1);b.def(l,"$>>",e=function(a){a=
t(D,"Opal")["$coerce_to!"](a,t(D,"Integer"),"to_int");return 0<a?this>>a:this<<-a},e.$$arity=1);b.def(l,"$[]",f=function(a){a=t(D,"Opal")["$coerce_to!"](a,t(D,"Integer"),"to_int");return 0>a?0:32<=a?0>this?1:0:this>>a&1},f.$$arity=1);b.def(l,"$+@",U=function(){return+this},U.$$arity=0);b.def(l,"$-@",T=function(){return-this},T.$$arity=0);b.def(l,"$~",ia=function(){return~this},ia.$$arity=0);b.def(l,"$**",V=function(a){var b,d;return M(t(D,"Integer")["$==="](a))?M(M(b=t(D,"Integer")["$==="](this)["$!"]())?
b:r(a,0))?Math.pow(this,a):t(D,"Rational").$new(this,1)["$**"](a):M(A(this,0)?M(d=t(D,"Float")["$==="](a))?d:t(D,"Rational")["$==="](a):A(this,0))?t(D,"Complex").$new(this,0)["$**"](a.$to_f()):M(null!=a.$$is_number)?Math.pow(this,a):this.$__coerced__("**",a)},V.$$arity=1);b.def(l,"$===",R=function(a){return a.$$is_number?this.valueOf()===a.valueOf():a["$respond_to?"]("==")?a["$=="](this):!1},R.$$arity=1);b.def(l,"$==",ca=function(a){return a.$$is_number?this.valueOf()===a.valueOf():a["$respond_to?"]("==")?
a["$=="](this):!1},ca.$$arity=1);b.def(l,"$abs",y=function(){return Math.abs(this)},y.$$arity=0);b.def(l,"$abs2",fa=function(){return Math.abs(this*this)},fa.$$arity=0);b.def(l,"$allbits?",Z=function(a){a=t(D,"Opal")["$coerce_to!"](a,t(D,"Integer"),"to_int");return(this&a)==a},Z.$$arity=1);b.def(l,"$anybits?",ra=function(a){a=t(D,"Opal")["$coerce_to!"](a,t(D,"Integer"),"to_int");return 0!==(this&a)},ra.$$arity=1);b.def(l,"$angle",sa=function(){return M(this["$nan?"]())?this:0==this?0<1/this?0:Math.PI:
0>this?Math.PI:0},sa.$$arity=0);b.alias(l,"arg","angle");b.alias(l,"phase","angle");b.def(l,"$bit_length",oa=function(){M(t(D,"Integer")["$==="](this))||this.$raise(t(D,"NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length"));if(0===this||-1===this)return 0;for(var a=0,b=0>this?~this:this;0!=b;)a+=1,b>>>=1;return a},oa.$$arity=0);b.def(l,"$ceil",pa=function(a){null==a&&(a=0);var b=this.$to_f();if(0===b%1&&0<=a)return b;a=Math.pow(10,a);a=Math.ceil(b*a)/a;0===b%1&&(a=
Math.round(a));return a},pa.$$arity=-1);b.def(l,"$chr",ba=function(a){return String.fromCharCode(this)},ba.$$arity=-1);b.def(l,"$denominator",X=function(){var a,d=X.$$p,e;d&&(X.$$p=null);var f=0;var c=arguments.length;for(e=Array(c);f<c;f++)e[f]=arguments[f];return M(M(a=this["$nan?"]())?a:this["$infinite?"]())?1:K(this,b.find_super_dispatcher(this,"denominator",X,!1),e,d)},X.$$arity=0);b.def(l,"$downto",za=function(a){var b=za.$$p,d=b||E,e;b&&(za.$$p=null);b&&(za.$$p=null);if(d===E)return K(this,
"enum_for",["downto",a],(e=function(){var b=e.$$s||this;M(t(D,"Numeric")["$==="](a))||b.$raise(t(D,"ArgumentError"),"comparison of "+b.$class()+" with "+a.$class()+" failed");return M(r(a,b))?0:C(u(b,a),1)},e.$$s=this,e.$$arity=0,e));a.$$is_number||this.$raise(t(D,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(b=this;b>=a;b--)d(b);return this},za.$$arity=1);b.alias(l,"eql?","==");b.def(l,"$equal?",Na=function(a){var b;return M(b=this["$=="](a))?b:isNaN(this)&&isNaN(a)},
Na.$$arity=1);b.def(l,"$even?",Ca=function(){return 0===this%2},Ca.$$arity=0);b.def(l,"$floor",ya=function(a){null==a&&(a=0);var b=this.$to_f();if(0===b%1&&0<=a)return b;a=Math.pow(10,a);a=Math.floor(b*a)/a;0===b%1&&(a=Math.round(a));return a},ya.$$arity=-1);b.def(l,"$gcd",xa=function(a){M(t(D,"Integer")["$==="](a))||this.$raise(t(D,"TypeError"),"not an integer");var b=Math.abs(this);for(a=Math.abs(a);0<b;){var d=b;b=a%b;a=d}return a},xa.$$arity=1);b.def(l,"$gcdlcm",ka=function(a){return[this.$gcd(),
this.$lcm()]},ka.$$arity=1);b.def(l,"$integer?",W=function(){return 0===this%1},W.$$arity=0);b.def(l,"$is_a?",ma=function(a){var d=ma.$$p,e;d&&(ma.$$p=null);var f=0;var c=arguments.length;for(e=Array(c);f<c;f++)e[f]=arguments[f];return M(a["$=="](t(D,"Integer"))?t(D,"Integer")["$==="](this):a["$=="](t(D,"Integer")))||M(a["$=="](t(D,"Integer"))?t(D,"Integer")["$==="](this):a["$=="](t(D,"Integer")))||M(a["$=="](t(D,"Float"))?t(D,"Float")["$==="](this):a["$=="](t(D,"Float")))?!0:K(this,b.find_super_dispatcher(this,
"is_a?",ma,!1),e,d)},ma.$$arity=1);b.alias(l,"kind_of?","is_a?");b.def(l,"$instance_of?",aa=function(a){var d=aa.$$p,e;d&&(aa.$$p=null);var f=0;var c=arguments.length;for(e=Array(c);f<c;f++)e[f]=arguments[f];return M(a["$=="](t(D,"Integer"))?t(D,"Integer")["$==="](this):a["$=="](t(D,"Integer")))||M(a["$=="](t(D,"Integer"))?t(D,"Integer")["$==="](this):a["$=="](t(D,"Integer")))||M(a["$=="](t(D,"Float"))?t(D,"Float")["$==="](this):a["$=="](t(D,"Float")))?!0:K(this,b.find_super_dispatcher(this,"instance_of?",
aa,!1),e,d)},aa.$$arity=1);b.def(l,"$lcm",Ga=function(a){M(t(D,"Integer")["$==="](a))||this.$raise(t(D,"TypeError"),"not an integer");return 0==this||0==a?0:Math.abs(this*a/this.$gcd(a))},Ga.$$arity=1);b.alias(l,"magnitude","abs");b.alias(l,"modulo","%");b.def(l,"$next",ta=function(){return this+1},ta.$$arity=0);b.def(l,"$nobits?",Oa=function(a){a=t(D,"Opal")["$coerce_to!"](a,t(D,"Integer"),"to_int");return 0==(this&a)},Oa.$$arity=1);b.def(l,"$nonzero?",na=function(){return 0==this?E:this},na.$$arity=
0);b.def(l,"$numerator",ja=function(){var a,d=ja.$$p,e;d&&(ja.$$p=null);var f=0;var c=arguments.length;for(e=Array(c);f<c;f++)e[f]=arguments[f];return M(M(a=this["$nan?"]())?a:this["$infinite?"]())?this:K(this,b.find_super_dispatcher(this,"numerator",ja,!1),e,d)},ja.$$arity=0);b.def(l,"$odd?",Pa=function(){return 0!==this%2},Pa.$$arity=0);b.def(l,"$ord",Va=function(){return this},Va.$$arity=0);b.def(l,"$pow",Ua=function(a,b){0==this&&this.$raise(t(D,"ZeroDivisionError"),"divided by 0");if(void 0===
b)return this["$**"](a);t(D,"Integer")["$==="](a)||this.$raise(t(D,"TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer");0>a&&this.$raise(t(D,"TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified");t(D,"Integer")["$==="](b)||this.$raise(t(D,"TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers");0===b&&this.$raise(t(D,"ZeroDivisionError"),"divided by 0");return this["$**"](a)["$%"](b)},Ua.$$arity=
-2);b.def(l,"$pred",ab=function(){return this-1},ab.$$arity=0);b.def(l,"$quo",ha=function(a){var d=ha.$$p,e;d&&(ha.$$p=null);var f=0;var c=arguments.length;for(e=Array(c);f<c;f++)e[f]=arguments[f];return M(t(D,"Integer")["$==="](this))?K(this,b.find_super_dispatcher(this,"quo",ha,!1),e,d):n(this,a)},ha.$$arity=1);b.def(l,"$rationalize",ua=function(a){1<arguments.length&&this.$raise(t(D,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if(M(t(D,"Integer")["$==="](this)))return t(D,
"Rational").$new(this,1);if(M(this["$infinite?"]()))return this.$raise(t(D,"FloatDomainError"),"Infinity");if(M(this["$nan?"]()))return this.$raise(t(D,"FloatDomainError"),"NaN");if(M(null==a)){var d=t(D,"Math").$frexp(this);var e=b.to_ary(d);var f=null==e[0]?E:e[0];e=null==e[1]?E:e[1];d;f=t(D,"Math").$ldexp(f,w(t(D,"Float"),"MANT_DIG")).$to_i();e=u(e,w(t(D,"Float"),"MANT_DIG"));return t(D,"Rational").$new(g(2,f),1["$<<"](u(1,e))).$rationalize(t(D,"Rational").$new(1,1["$<<"](u(1,e))))}return this.$to_r().$rationalize(a)},
ua.$$arity=-1);b.def(l,"$remainder",da=function(a){return u(this,g(a,n(this,a).$truncate()))},da.$$arity=1);b.def(l,"$round",va=function(a){var d;if(M(t(D,"Integer")["$==="](this))){if(M(null==a))return this;M(M(d=t(D,"Float")["$==="](a))?a["$infinite?"]():d)&&this.$raise(t(D,"RangeError"),"Infinity");a=t(D,"Opal")["$coerce_to!"](a,t(D,"Integer"),"to_int");M(A(a,w(t(D,"Integer"),"MIN")))&&this.$raise(t(D,"RangeError"),"out of bounds");if(M(0<=a))return this;a=a["$-@"]();if(.415241*a-.125>this.$size())return 0;
a=Math.pow(10,a);var e=Math.floor((Math.abs(e)+a/2)/a)*a;return 0>this?-e:e}M(M(d=this["$nan?"]())?null==a:d)&&this.$raise(t(D,"FloatDomainError"),"NaN");a=t(D,"Opal")["$coerce_to!"](a||0,t(D,"Integer"),"to_int");if(M("number"===typeof a?0>=a:a["$<="](0)))M(this["$nan?"]())?this.$raise(t(D,"RangeError"),"NaN"):M(this["$infinite?"]())&&this.$raise(t(D,"FloatDomainError"),"Infinity");else{if(a["$=="](0))return Math.round(this);if(M(M(d=this["$nan?"]())?d:this["$infinite?"]()))return this}e=t(D,"Math").$frexp(this);
d=b.to_ary(e);d=null==d[1]?E:d[1];e;e=u(C(w(t(D,"Float"),"DIG"),2),M(r(d,0))?n(d,4):u(n(d,3),1));e="number"===typeof a&&"number"===typeof e?a>=e:a["$>="](e);return M(e)?this:M(A(a,(M(r(d,0))?C(n(d,3),1):n(d,4))["$-@"]()))?0:Math.round(this*Math.pow(10,a))/Math.pow(10,a)},va.$$arity=-1);b.def(l,"$step",Aa=function(a,d,e){function f(){void 0!==O&&(l=O);void 0===l&&(l=E);H===E&&y.$raise(t(D,"TypeError"),"step must be numeric");0===H&&y.$raise(t(D,"ArgumentError"),"step can't be 0");void 0!==Q&&(H=Q);
if(H===E||null==H)H=1;var a=H["$<=>"](0);a===E&&y.$raise(t(D,"ArgumentError"),"0 can't be coerced into "+H.$class());if(l===E||null==l)l=0<a?w(t(D,"Float"),"INFINITY"):w(t(D,"Float"),"INFINITY")["$-@"]();t(D,"Opal").$compare(y,l)}function c(){if(0<H&&y>l||0>H&&y<l)return 0;if(Infinity===H||-Infinity===H)return 1;var a=Math.abs,b=Math.floor;a=(a(y)+a(l)+a(l-y))/a(H)*w(t(D,"Float"),"EPSILON");if(Infinity===a||-Infinity===a)return 0;.5<a&&(a=.5);return b((l-y)/H+a)+1}function m(){f();if(0===H)return Infinity;
if(0!==H%1)return c();if(0<H&&y>l||0>H&&y<l)return 0;var a=Math.ceil,b=Math.abs,d=b(y-l)+1;b=b(H);return a(d/b)}var p=Aa.$$p,h=p||E,q,g,y=this,v=q=E;p&&(Aa.$$p=null);p&&(Aa.$$p=null);p=b.slice.call(arguments,0,arguments.length);q=b.extract_kwargs(p);if(null==q)q=x([],{});else if(!q.$$is_hash)throw b.ArgumentError.$new("expected kwargs");if(0<p.length){var l=p[0];p.splice(0,1)}if(0<p.length){var H=p[0];p.splice(0,1)}var O=q.$$smap.to;var Q=q.$$smap.by;void 0!==l&&void 0!==O&&y.$raise(t(D,"ArgumentError"),
"to is given twice");void 0!==H&&void 0!==Q&&y.$raise(t(D,"ArgumentError"),"step is given twice");if(h===E)return q=[],v=x([],{}),void 0!==l&&q.push(l),void 0!==H&&q.push(H),void 0!==O&&b.hash_put(v,"to",O),void 0!==Q&&b.hash_put(v,"by",Q),v["$any?"]()&&q.push(v),K(y,"enum_for",["step"].concat(b.to_a(q)),(g=function(){return m()},g.$$s=y,g.$$arity=0,g));f();if(0===H)for(;;)h(y);if(0!==y%1||0!==l%1||0!==H%1){if(g=c(),0<g)if(Infinity===H||-Infinity===H)h(y);else if(p=0,0<H)for(;p<g;)q=p*H+y,l<q&&(q=
l),h(q),p+=1;else for(;p<g;)q=p*H+y,l>q&&(q=l),h(q),p+=1}else if(g=y,0<H)for(;g<=l;)h(g),g+=H;else for(;g>=l;)h(g),g+=H;return y},Aa.$$arity=-1);b.alias(l,"succ","next");b.def(l,"$times",qa=function(){var a=qa.$$p,b=a||E,d;a&&(qa.$$p=null);a&&(qa.$$p=null);if(!M(b))return K(this,"enum_for",["times"],(d=function(){return d.$$s||this},d.$$s=this,d.$$arity=0,d));for(a=0;a<this;a++)b(a);return this},qa.$$arity=0);b.def(l,"$to_f",Ia=function(){return this},Ia.$$arity=0);b.def(l,"$to_i",Ha=function(){return parseInt(this,
10)},Ha.$$arity=0);b.alias(l,"to_int","to_i");b.def(l,"$to_r",Ja=function(){if(M(t(D,"Integer")["$==="](this)))return t(D,"Rational").$new(this,1);var a=t(D,"Math").$frexp(this);var d=b.to_ary(a);var e=null==d[0]?E:d[0];d=null==d[1]?E:d[1];a;e=t(D,"Math").$ldexp(e,w(t(D,"Float"),"MANT_DIG")).$to_i();d=u(d,w(t(D,"Float"),"MANT_DIG"));return g(e,w(t(D,"Float"),"RADIX")["$**"](d)).$to_r()},Ja.$$arity=0);b.def(l,"$to_s",Wa=function(a){var b;null==a&&(a=10);a=t(D,"Opal")["$coerce_to!"](a,t(D,"Integer"),
"to_int");M(M(b=A(a,2))?b:r(a,36))&&this.$raise(t(D,"ArgumentError"),"invalid radix "+a);return this.toString(a)},Wa.$$arity=-1);b.def(l,"$truncate",Qa=function(a){null==a&&(a=0);var b=this.$to_f();if(0===b%1&&0<=a)return b;a=Math.pow(10,a);a=parseInt(b*a,10)/a;0===b%1&&(a=Math.round(a));return a},Qa.$$arity=-1);b.alias(l,"inspect","to_s");b.def(l,"$digits",Ma=function(a){null==a&&(a=10);A(this,0)&&this.$raise(w(t(D,"Math"),"DomainError"),"out of domain");a=t(D,"Opal")["$coerce_to!"](a,t(D,"Integer"),
"to_int");M(A(a,2))&&this.$raise(t(D,"ArgumentError"),"invalid radix "+a);for(var b=this,d=[];0!==b;)d.push(b%a),b=parseInt(b/a,10);return d},Ma.$$arity=-1);b.def(l,"$divmod",Da=function(a){var d,e=Da.$$p,f;e&&(Da.$$p=null);var c=0;var m=arguments.length;for(f=Array(m);c<m;c++)f[c]=arguments[c];return M(M(d=this["$nan?"]())?d:a["$nan?"]())?this.$raise(t(D,"FloatDomainError"),"NaN"):M(this["$infinite?"]())?this.$raise(t(D,"FloatDomainError"),"Infinity"):K(this,b.find_super_dispatcher(this,"divmod",
Da,!1),f,e)},Da.$$arity=1);b.def(l,"$upto",Ka=function(a){var b=Ka.$$p,d=b||E,e;b&&(Ka.$$p=null);b&&(Ka.$$p=null);if(d===E)return K(this,"enum_for",["upto",a],(e=function(){var b=e.$$s||this;M(t(D,"Numeric")["$==="](a))||b.$raise(t(D,"ArgumentError"),"comparison of "+b.$class()+" with "+a.$class()+" failed");return M(A(a,b))?0:C(u(a,b),1)},e.$$s=this,e.$$arity=0,e));a.$$is_number||this.$raise(t(D,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(b=this;b<=a;b++)d(b);
return this},Ka.$$arity=1);b.def(l,"$zero?",Xa=function(){return 0==this},Xa.$$arity=0);b.def(l,"$size",Sa=function(){return 4},Sa.$$arity=0);b.def(l,"$nan?",Ya=function(){return isNaN(this)},Ya.$$arity=0);b.def(l,"$finite?",Za=function(){return Infinity!=this&&-Infinity!=this&&!isNaN(this)},Za.$$arity=0);b.def(l,"$infinite?",$a=function(){return Infinity==this?1:-Infinity==this?-1:E},$a.$$arity=0);b.def(l,"$positive?",H=function(){return 0!=this&&(Infinity==this||0<1/this)},H.$$arity=0);return(b.def(l,
"$negative?",O=function(){return-Infinity==this||0>1/this},O.$$arity=0),E)&&"negative?"})(k[0],t(k,"Numeric"),k);b.const_set(k[0],"Fixnum",t(k,"Number"));(function(g,$super,k){g=N(g,$super,"Integer");k=[g].concat(k);g.$$is_number_class=!0;(function(g,l){var k=[g].concat(l),n,a,c;b.def(g,"$allocate",n=function(){return this.$raise(t(k,"TypeError"),"allocator undefined for "+this.$name())},n.$$arity=0);b.udef(g,"$new");b.def(g,"$===",a=function(a){return a.$$is_number?0===a%1:!1},a.$$arity=1);return(b.def(g,
"$sqrt",c=function(a){a=t(k,"Opal")["$coerce_to!"](a,t(k,"Integer"),"to_int");0>a&&this.$raise(w(t(k,"Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"');return parseInt(Math.sqrt(a),10)},c.$$arity=1),E)&&"sqrt"})(b.get_singleton_class(g),k);b.const_set(k[0],"MAX",Math.pow(2,30)-1);return b.const_set(k[0],"MIN",-Math.pow(2,30))})(k[0],t(k,"Numeric"),k);return function(g,$super,k){g=N(g,$super,"Float");k=[g].concat(k);g.$$is_number_class=!0;(function(g,l){var k=[g].concat(l),n,a;
b.def(g,"$allocate",n=function(){return this.$raise(t(k,"TypeError"),"allocator undefined for "+this.$name())},n.$$arity=0);b.udef(g,"$new");return(b.def(g,"$===",a=function(a){return!!a.$$is_number},a.$$arity=1),E)&&"==="})(b.get_singleton_class(g),k);b.const_set(k[0],"INFINITY",Infinity);b.const_set(k[0],"MAX",Number.MAX_VALUE);b.const_set(k[0],"MIN",Number.MIN_VALUE);b.const_set(k[0],"NAN",NaN);b.const_set(k[0],"DIG",15);b.const_set(k[0],"MANT_DIG",53);b.const_set(k[0],"RADIX",2);return b.const_set(k[0],
"EPSILON",Number.EPSILON||2.220446049250313E-16)}(k[0],t(k,"Numeric"),k)};
Opal.modules["corelib/range"]=function(b){function r(b,g){return"number"===typeof b&&"number"===typeof g?b<=g:b["$<="](g)}function A(b,g){return"number"===typeof b&&"number"===typeof g?b<g:b["$<"](g)}function C(b,g){return"number"===typeof b&&"number"===typeof g?b>g:b["$>"](g)}function u(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}var n=b.top,g=[],G=b.nil,k=b.const_get_qualified,E=b.const_get_relative,w=b.klass,t=b.truthy,N=b.send;b.add_stubs("$require $include $attr_reader $raise $<=> $include? $<= $< $enum_for $upto $to_proc $respond_to? $class $succ $! $== $=== $exclude_end? $eql? $begin $end $last $to_a $> $- $abs $to_i $coerce_to! $ceil $/ $size $loop $+ $* $>= $each_with_index $% $bsearch $inspect $[] $hash".split(" "));
n.$require("corelib/enumerable");return function(g,$super,n){g=w(g,$super,"Range");var l=[g].concat(n),x,P,D,I,M,Y,a,c,v,B,J,q,h,d,z,p,S,L;g.$$prototype.begin=g.$$prototype.end=g.$$prototype.excl=G;g.$include(E(l,"Enumerable"));g.$$prototype.$$is_range=!0;g.$attr_reader("begin","end");b.def(g,"$initialize",x=function(a,b,d){null==d&&(d=!1);t(this.begin)&&this.$raise(E(l,"NameError"),"'initialize' called twice");t(a["$<=>"](b))||this.$raise(E(l,"ArgumentError"),"bad value for range");this.begin=a;
this.end=b;return this.excl=d},x.$$arity=-3);b.def(g,"$==",P=function(a){return a.$$is_range?this.excl===a.excl&&this.begin==a.begin&&this.end==a.end:!1},P.$$arity=1);b.def(g,"$===",D=function(a){return this["$include?"](a)},D.$$arity=1);b.def(g,"$cover?",I=function(a){var b;var d=this.begin["$<=>"](a);if(!t(t(b=d)?r(d,0):b))return!1;a=a["$<=>"](this.end);return t(this.excl)?t(b=a)?A(a,0):b:t(b=a)?r(a,0):b},I.$$arity=1);b.def(g,"$each",M=function(){var a=M.$$p,d=a||G;a&&(M.$$p=null);a&&(M.$$p=null);
if(d===G)return this.$enum_for("each");if(this.begin.$$is_number&&this.end.$$is_number){0===this.begin%1&&0===this.end%1||this.$raise(E(l,"TypeError"),"can't iterate from Float");var f=this.begin;for(a=this.end+(t(this.excl)?0:1);f<a;f++)d(f);return this}if(this.begin.$$is_string&&this.end.$$is_string)return N(this.begin,"upto",[this.end,this.excl],d.$to_proc()),this;a=this.begin;var c=this.end;for(t(a["$respond_to?"]("succ"))||this.$raise(E(l,"TypeError"),"can't iterate from "+a.$class());t(A(a["$<=>"](c),
0));)b.yield1(d,a),a=a.$succ();t(t(f=this.excl["$!"]())?a["$=="](c):f)&&b.yield1(d,a);return this},M.$$arity=0);b.def(g,"$eql?",Y=function(a){var b,d;return t(E(l,"Range")["$==="](a))?t(b=t(d=this.excl["$==="](a["$exclude_end?"]()))?this.begin["$eql?"](a.$begin()):d)?this.end["$eql?"](a.$end()):b:!1},Y.$$arity=1);b.def(g,"$exclude_end?",a=function(){return this.excl},a.$$arity=0);b.def(g,"$first",c=function(a){var d=c.$$p,f;d&&(c.$$p=null);var m=0;var p=arguments.length;for(f=Array(p);m<p;m++)f[m]=
arguments[m];return t(null==a)?this.begin:N(this,b.find_super_dispatcher(this,"first",c,!1),f,d)},c.$$arity=-1);b.alias(g,"include?","cover?");b.def(g,"$last",v=function(a){return t(null==a)?this.end:this.$to_a().$last(a)},v.$$arity=-1);b.def(g,"$max",B=function(){var a,d=B.$$p,f=d||G,c;d&&(B.$$p=null);var p=0;var h=arguments.length;for(c=Array(h);p<h;p++)c[p]=arguments[p];return f!==G?N(this,b.find_super_dispatcher(this,"max",B,!1),c,d):t(C(this.begin,this.end))?G:t(t(a=this.excl)?this.begin["$=="](this.end):
a)?G:this.excl?this.end-1:this.end},B.$$arity=0);b.alias(g,"member?","cover?");b.def(g,"$min",J=function(){var a,d=J.$$p,f=d||G,c;d&&(J.$$p=null);var p=0;var h=arguments.length;for(c=Array(h);p<h;p++)c[p]=arguments[p];return f!==G?N(this,b.find_super_dispatcher(this,"min",J,!1),c,d):t(C(this.begin,this.end))?G:t(t(a=this.excl)?this.begin["$=="](this.end):a)?G:this.begin},J.$$arity=0);b.def(g,"$size",q=function(){var a;var b=this.begin;var d=this.end;t(this.excl)&&(d="number"===typeof d?d-1:d["$-"](1));
if(!t(t(a=E(l,"Numeric")["$==="](b))?E(l,"Numeric")["$==="](d):a))return G;if(t(A(d,b)))return 0;a=k(E(l,"Float"),"INFINITY");return t([b.$abs(),d.$abs()]["$include?"](a))?a:(Math.abs(d-b)+1).$to_i()},q.$$arity=0);b.def(g,"$step",h=function(a){function d(){a.$$is_number||(a=E(l,"Opal")["$coerce_to!"](a,E(l,"Integer"),"to_int"));0>a?v.$raise(E(l,"ArgumentError"),"step can't be negative"):0===a&&v.$raise(E(l,"ArgumentError"),"step can't be 0")}function f(){if(!v.begin["$respond_to?"]("succ")||v.begin.$$is_string&&
v.end.$$is_string)return G;if(0===a%1){var b=v.$size();return("number"===typeof b&&"number"===typeof a?b/a:b["$/"](a)).$ceil()}b=v.begin;var d=v.end,e=Math.abs,f=Math.floor;e=(e(b)+e(d)+e(d-b))/e(a)*k(E(l,"Float"),"EPSILON");.5<e&&(e=.5);v.excl?(f=f((d-b)/a-e),f*a+b<d&&f++):f=f((d-b)/a+e)+1;return f}var c,m,p,g=h.$$p,q=g||G,v=this,y=G;g&&(h.$$p=null);null==a&&(a=1);if(q===G)return N(v,"enum_for",["step",a],(c=function(){d();return f()},c.$$s=v,c.$$arity=0,c));d();t(v.begin.$$is_number&&v.end.$$is_number)?
(y=0,function(){var d=b.new_brk();try{return N(v,"loop",[],(m=function(){var e=m.$$s||this;null==e.begin&&(e.begin=G);null==e.excl&&(e.excl=G);null==e.end&&(e.end=G);var f=u(e.begin,"number"===typeof y&&"number"===typeof a?y*a:y["$*"](a));t(e.excl)?(e=e.end,e="number"===typeof f&&"number"===typeof e?f>=e:f["$>="](e),t(e)&&b.brk(G,d)):t(C(f,e.end))&&b.brk(G,d);b.yield1(q,f);return y=u(y,1)},m.$$s=v,m.$$brk=d,m.$$arity=0,m))}catch(Z){if(Z===d)return Z.$v;throw Z;}}()):(v.begin.$$is_string&&v.end.$$is_string&&
0!==a%1&&v.$raise(E(l,"TypeError"),"no implicit conversion to float from string"),N(v,"each_with_index",[],(p=function(d,e){null==d&&(d=G);null==e&&(e=G);return e["$%"](a)["$=="](0)?b.yield1(q,d):G},p.$$s=v,p.$$arity=2,p)));return v},h.$$arity=-1);b.def(g,"$bsearch",d=function(){var a=d.$$p,b=a||G;a&&(d.$$p=null);a&&(d.$$p=null);if(b===G)return this.$enum_for("bsearch");t(this.begin.$$is_number&&this.end.$$is_number)||this.$raise(E(l,"TypeError"),"can't do binary search for "+this.begin.$class());
return N(this.$to_a(),"bsearch",[],b.$to_proc())},d.$$arity=0);b.def(g,"$to_s",z=function(){return""+this.begin+(t(this.excl)?"...":"..")+this.end},z.$$arity=0);b.def(g,"$inspect",p=function(){return""+this.begin.$inspect()+(t(this.excl)?"...":"..")+this.end.$inspect()},p.$$arity=0);b.def(g,"$marshal_load",S=function(a){this.begin=a["$[]"]("begin");this.end=a["$[]"]("end");return this.excl=a["$[]"]("excl")},S.$$arity=1);return(b.def(g,"$hash",L=function(){return[this.begin,this.end,this.excl].$hash()},
L.$$arity=0),G)&&"hash"}(g[0],null,g)};
Opal.modules["corelib/proc"]=function(b){var r=[],A=b.nil,C=b.const_get_relative,u=b.slice,n=b.klass,g=b.truthy;b.add_stubs(["$raise","$coerce_to!"]);return function(r,$super,E){r=n(r,$super,"Proc");var w=[r].concat(E),t,G,M,K,x,l,la,P,D,I;b.defineProperty(r.$$prototype,"$$is_proc",!0);b.defineProperty(r.$$prototype,"$$is_lambda",!1);b.defs(r,"$new",t=function(){var b=t.$$p,l=b||A;b&&(t.$$p=null);b&&(t.$$p=null);g(l)||this.$raise(C(w,"ArgumentError"),"tried to create a Proc object without a block");return l},
t.$$arity=0);b.def(r,"$call",G=function(g){var l=G.$$p,a=l||A;l&&(G.$$p=null);l&&(G.$$p=null);l=b.slice.call(arguments,0,arguments.length);a!==A&&(this.$$p=a);if(a=this.$$brk)try{var c=this.$$is_lambda?this.apply(null,l):b.yieldX(this,l)}catch(v){if(v===a)return a.$v;throw v;}else c=this.$$is_lambda?this.apply(null,l):b.yieldX(this,l);return c},G.$$arity=-1);b.alias(r,"[]","call");b.alias(r,"===","call");b.alias(r,"yield","call");b.def(r,"$to_proc",M=function(){return this},M.$$arity=0);b.def(r,"$lambda?",
K=function(){return!!this.$$is_lambda},K.$$arity=0);b.def(r,"$arity",x=function(){return this.$$is_curried?-1:this.$$arity},x.$$arity=0);b.def(r,"$source_location",l=function(){return A},l.$$arity=0);b.def(r,"$binding",la=function(){this.$$is_curried&&this.$raise(C(w,"ArgumentError"),"Can't create Binding");return A},la.$$arity=0);b.def(r,"$parameters",P=function(){if(this.$$is_curried)return[["rest"]];if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;var b=[],g;var a=0;for(g=this.$$parameters.length;a<
g;a++){var c=this.$$parameters[a];"req"===c[0]&&(c=["opt",c[1]]);b.push(c)}return b}return[]},P.$$arity=0);b.def(r,"$curry",D=function(b){function g(){var c=u.call(arguments),v=c.length;v>b&&a.$$is_lambda&&!a.$$is_curried&&a.$raise(C(w,"ArgumentError"),"wrong number of arguments ("+v+" for "+b+")");if(v>=b)return a.$call.apply(a,c);v=function(){return g.apply(null,c.concat(u.call(arguments)))};v.$$is_lambda=a.$$is_lambda;v.$$is_curried=!0;return v}var a=this;void 0===b?b=a.length:(b=C(w,"Opal")["$coerce_to!"](b,
C(w,"Integer"),"to_int"),a.$$is_lambda&&b!==a.length&&a.$raise(C(w,"ArgumentError"),"wrong number of arguments ("+b+" for "+a.length+")"));g.$$is_lambda=a.$$is_lambda;g.$$is_curried=!0;return g},D.$$arity=-1);b.def(r,"$dup",I=function(){var b=this.$$original_proc||this,g=function(){return b.apply(this,arguments)},a;for(a in this)this.hasOwnProperty(a)&&(g[a]=this[a]);return g},I.$$arity=0);return b.alias(r,"clone","dup")}(r[0],Function,r)};
Opal.modules["corelib/method"]=function(b){var r=[],A=b.nil,C=b.const_get_relative,u=b.klass,n=b.truthy;b.add_stubs("$attr_reader $arity $new $class $join $source_location $raise".split(" "));(function(g,$super,k){g=u(g,$super,"Method");var r=[g].concat(k),w,t,N,M,K,x,l,la,P;g.$$prototype.method=g.$$prototype.receiver=g.$$prototype.owner=g.$$prototype.name=A;g.$attr_reader("owner","receiver","name");b.def(g,"$initialize",w=function(b,g,l,k){this.receiver=b;this.owner=g;this.name=k;return this.method=
l},w.$$arity=4);b.def(g,"$arity",t=function(){return this.method.$arity()},t.$$arity=0);b.def(g,"$parameters",N=function(){return this.method.$$parameters},N.$$arity=0);b.def(g,"$source_location",M=function(){var b;return n(b=this.method.$$source_location)?b:["(eval)",0]},M.$$arity=0);b.def(g,"$comments",K=function(){var b;return n(b=this.method.$$comments)?b:[]},K.$$arity=0);b.def(g,"$call",x=function(g){var l=x.$$p,k=l||A;l&&(x.$$p=null);l&&(x.$$p=null);l=b.slice.call(arguments,0,arguments.length);
this.method.$$p=k;return this.method.apply(this.receiver,l)},x.$$arity=-1);b.alias(g,"[]","call");b.def(g,"$unbind",l=function(){return C(r,"UnboundMethod").$new(this.receiver.$class(),this.owner,this.method,this.name)},l.$$arity=0);b.def(g,"$to_proc",la=function(){var b=this.$call.bind(this);b.$$unbound=this.method;b.$$is_lambda=!0;b.$$arity=this.method.$$arity;b.$$parameters=this.method.$$parameters;return b},la.$$arity=0);return(b.def(g,"$inspect",P=function(){return"#<"+this.$class()+": "+this.receiver.$class()+
"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},P.$$arity=0),A)&&"inspect"})(r[0],null,r);return function(g,$super,k){g=u(g,$super,"UnboundMethod");var r=[g].concat(k),w,t,N,M,K,x,l;g.$$prototype.method=g.$$prototype.owner=g.$$prototype.name=g.$$prototype.source=A;g.$attr_reader("source","owner","name");b.def(g,"$initialize",w=function(b,g,l,k){this.source=b;this.owner=g;this.method=l;return this.name=k},w.$$arity=4);b.def(g,"$arity",t=function(){return this.method.$arity()},
t.$$arity=0);b.def(g,"$parameters",N=function(){return this.method.$$parameters},N.$$arity=0);b.def(g,"$source_location",M=function(){var b;return n(b=this.method.$$source_location)?b:["(eval)",0]},M.$$arity=0);b.def(g,"$comments",K=function(){var b;return n(b=this.method.$$comments)?b:[]},K.$$arity=0);b.def(g,"$bind",x=function(g){if(this.owner.$$is_module||b.is_a(g,this.owner))return C(r,"Method").$new(g,this.owner,this.method,this.name);this.$raise(C(r,"TypeError"),"can't bind singleton method to a different class (expected "+
g+".kind_of?("+this.owner+" to be true)")},x.$$arity=1);return(b.def(g,"$inspect",l=function(){return"#<"+this.$class()+": "+this.source+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},l.$$arity=0),A)&&"inspect"}(r[0],null,r)};
Opal.modules["corelib/variables"]=function(b){var r=[],A=b.nil,C=b.const_get_relative,u=b.gvars,n=b.hash2;b.add_stubs(["$new"]);u["&"]=u["~"]=u["`"]=u["'"]=A;u.LOADED_FEATURES=u['"']=b.loaded_features;u.LOAD_PATH=u[":"]=[];u["/"]="\n";u[","]=A;b.const_set(r[0],"ARGV",[]);b.const_set(r[0],"ARGF",C(r,"Object").$new());b.const_set(r[0],"ENV",n([],{}));u.VERBOSE=!1;u.DEBUG=!1;return u.SAFE=0};
Opal.modules["opal/regexp_anchors"]=function(b){var r=[],A=b.nil,C=b.const_get_relative,u=b.module;b.add_stubs(["$==","$new"]);r=[u(r[0],"Opal")].concat(r);b.const_set(r[0],"REGEXP_START",C(r,"RUBY_ENGINE")["$=="]("opal")?"^":A);b.const_set(r[0],"REGEXP_END",C(r,"RUBY_ENGINE")["$=="]("opal")?"$":A);b.const_set(r[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");b.const_set(r[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");
b.const_set(r[0],"INLINE_IDENTIFIER_REGEXP",C(r,"Regexp").$new("[^"+C(r,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+C(r,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]"));b.const_set(r[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");b.const_set(r[0],"CONST_NAME_REGEXP",C(r,"Regexp").$new(""+C(r,"REGEXP_START")+"(::)?[A-Z][^"+C(r,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+C(r,"REGEXP_END")))};
Opal.modules["opal/mini"]=function(b){var r=b.top;b.add_stubs(["$require"]);r.$require("opal/base");r.$require("corelib/nil");r.$require("corelib/boolean");r.$require("corelib/string");r.$require("corelib/comparable");r.$require("corelib/enumerable");r.$require("corelib/enumerator");r.$require("corelib/array");r.$require("corelib/hash");r.$require("corelib/number");r.$require("corelib/range");r.$require("corelib/proc");r.$require("corelib/method");r.$require("corelib/regexp");r.$require("corelib/variables");
return r.$require("opal/regexp_anchors")};
Opal.modules["corelib/string/encoding"]=function(b){function r(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}var A,C,u,n,g,G=b.top,k=[],E=b.nil,w=b.const_get_qualified,t=b.const_get_relative,N=b.klass,M=b.hash2,K=b.truthy,x=b.send;b.add_stubs("$require $+ $[] $new $to_proc $each $const_set $sub $== $default_external $upcase $raise $attr_accessor $attr_reader $register $length $bytes $to_a $each_byte $dup $bytesize $enum_for $coerce_to! $find $<".split(" "));G.$require("corelib/string");
(function(g,$super,k){g=N(g,$super,"Encoding");var l=[g].concat(k),n,w,u,a,c,v,B,J,q;g.$$prototype.ascii=g.$$prototype.dummy=g.$$prototype.name=E;b.defineProperty(g,"$$register",{});b.defs(g,"$register",n=function(a,b){var d=n.$$p,c=d||E,h,g,m=E,e=E,f=E;d&&(n.$$p=null);d&&(n.$$p=null);null==b&&(b=M([],{}));m=r([a],K(h=b["$[]"]("aliases"))?h:[]);e=x(t(l,"Class"),"new",[this],c.$to_proc()).$new(a,m,K(h=b["$[]"]("ascii"))?h:!1,K(h=b["$[]"]("dummy"))?h:!1);f=this.$$register;return x(m,"each",[],(g=function(a){var b=
g.$$s||this;null==a&&(a=E);b.$const_set(a.$sub("-","_"),e);return f["$$"+a]=e},g.$$s=this,g.$$arity=1,g))},n.$$arity=-2);b.defs(g,"$find",w=function(a){var b;if(a["$=="]("default_external"))return this.$default_external();var c=this.$$register;c=K(b=c["$$"+a])?b:c["$$"+a.$upcase()];K(c)||this.$raise(t(l,"ArgumentError"),"unknown encoding name - "+a);return c},w.$$arity=1);(function(a,b){[a].concat(b);return a.$attr_accessor("default_external")})(b.get_singleton_class(g),l);g.$attr_reader("name","names");
b.def(g,"$initialize",u=function(a,b,c,p){this.name=a;this.names=b;this.ascii=c;return this.dummy=p},u.$$arity=4);b.def(g,"$ascii_compatible?",a=function(){return this.ascii},a.$$arity=0);b.def(g,"$dummy?",c=function(){return this.dummy},c.$$arity=0);b.def(g,"$to_s",v=function(){return this.name},v.$$arity=0);b.def(g,"$inspect",B=function(){return"#<Encoding:"+this.name+(K(this.dummy)?" (dummy)":E)+">"},B.$$arity=0);b.def(g,"$each_byte",J=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(t(l,
"NotImplementedError"))},J.$$arity=-1);b.def(g,"$bytesize",q=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(t(l,"NotImplementedError"))},q.$$arity=-1);(function(a,$super,b){[N(a,$super,"EncodingError")].concat(b);return E})(l[0],t(l,"StandardError"),l);return function(a,$super,b){[N(a,$super,"CompatibilityError")].concat(b);return E}(l[0],t(l,"EncodingError"),l)})(k[0],null,k);x(t(k,"Encoding"),"register",["UTF-8",M(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],(A=
function(){var g=A.$$s||this,k,t;b.def(g,"$each_byte",k=function(g){var l=k.$$p,t=l||E;l&&(k.$$p=null);l&&(k.$$p=null);l=Infinity;for(var n,a=g.length,c=null,v=0;v<a;++v){n=g.charCodeAt(v);if(55295<n&&57344>n){if(!c){if(56319<n){-1<(l-=3)&&(b.yield1(t,239),b.yield1(t,191),b.yield1(t,189));continue}else if(v+1===a){-1<(l-=3)&&(b.yield1(t,239),b.yield1(t,191),b.yield1(t,189));continue}c=n;continue}if(56320>n){-1<(l-=3)&&(b.yield1(t,239),b.yield1(t,191),b.yield1(t,189));c=n;continue}n=(c-55296<<10|n-
56320)+65536}else c&&-1<(l-=3)&&(b.yield1(t,239),b.yield1(t,191),b.yield1(t,189));c=null;if(128>n){if(0>--l)break;b.yield1(t,n)}else if(2048>n){if(0>(l-=2))break;b.yield1(t,n>>6|192);b.yield1(t,n&63|128)}else if(65536>n){if(0>(l-=3))break;b.yield1(t,n>>12|224);b.yield1(t,n>>6&63|128);b.yield1(t,n&63|128)}else if(1114112>n){if(0>(l-=4))break;b.yield1(t,n>>18|240);b.yield1(t,n>>12&63|128);b.yield1(t,n>>6&63|128);b.yield1(t,n&63|128)}}},k.$$arity=1);return(b.def(g,"$bytesize",t=function(b){return b.$bytes().$length()},
t.$$arity=1),E)&&"bytesize"},A.$$s=G,A.$$arity=0,A));x(t(k,"Encoding"),"register",["UTF-16LE"],(C=function(){var g=C.$$s||this,k,t;b.def(g,"$each_byte",k=function(g){var l=k.$$p,t=l||E;l&&(k.$$p=null);l&&(k.$$p=null);l=0;for(var n=g.length;l<n;l++){var a=g.charCodeAt(l);b.yield1(t,a&255);b.yield1(t,a>>8)}},k.$$arity=1);return(b.def(g,"$bytesize",t=function(b){return b.$bytes().$length()},t.$$arity=1),E)&&"bytesize"},C.$$s=G,C.$$arity=0,C));x(t(k,"Encoding"),"register",["UTF-16BE"],(u=function(){var g=
u.$$s||this,k,t;b.def(g,"$each_byte",k=function(g){var l=k.$$p,t=l||E;l&&(k.$$p=null);l&&(k.$$p=null);l=0;for(var n=g.length;l<n;l++){var a=g.charCodeAt(l);b.yield1(t,a>>8);b.yield1(t,a&255)}},k.$$arity=1);return(b.def(g,"$bytesize",t=function(b){return b.$bytes().$length()},t.$$arity=1),E)&&"bytesize"},u.$$s=G,u.$$arity=0,u));x(t(k,"Encoding"),"register",["UTF-32LE"],(n=function(){var g=n.$$s||this,k,t;b.def(g,"$each_byte",k=function(g){var l=k.$$p,t=l||E;l&&(k.$$p=null);l&&(k.$$p=null);l=0;for(var n=
g.length;l<n;l++){var a=g.charCodeAt(l);b.yield1(t,a&255);b.yield1(t,a>>8)}},k.$$arity=1);return(b.def(g,"$bytesize",t=function(b){return b.$bytes().$length()},t.$$arity=1),E)&&"bytesize"},n.$$s=G,n.$$arity=0,n));x(t(k,"Encoding"),"register",["ASCII-8BIT",M(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],ascii:!0,dummy:!0})],(g=function(){var l=g.$$s||this,k,t;b.def(l,"$each_byte",k=function(g){var l=k.$$p,t=l||E;l&&(k.$$p=null);l&&(k.$$p=null);l=0;for(var n=g.length;l<n;l++){var a=
g.charCodeAt(l);b.yield1(t,a&255);b.yield1(t,a>>8)}},k.$$arity=1);return(b.def(l,"$bytesize",t=function(b){return b.$bytes().$length()},t.$$arity=1),E)&&"bytesize"},g.$$s=G,g.$$arity=0,g));return function(g,$super,k){g=N(g,$super,"String");var l=[g].concat(k),n,r,u,a,c,v,B;g.$$prototype.bytes=g.$$prototype.internal_encoding=E;g.$attr_reader("encoding");g.$attr_reader("internal_encoding");b.defineProperty(String.prototype,"bytes",E);b.defineProperty(String.prototype,"encoding",w(t(l,"Encoding"),"UTF_8"));
b.defineProperty(String.prototype,"internal_encoding",w(t(l,"Encoding"),"UTF_8"));b.def(g,"$bytes",n=function(){var a;this.bytes=K(a=this.bytes)?a:this.$each_byte().$to_a();return this.bytes.$dup()},n.$$arity=0);b.def(g,"$bytesize",r=function(){return this.internal_encoding.$bytesize(this)},r.$$arity=0);b.def(g,"$each_byte",u=function(){var a=u.$$p,b=a||E;a&&(u.$$p=null);a&&(u.$$p=null);if(b===E)return this.$enum_for("each_byte");x(this.internal_encoding,"each_byte",[this],b.$to_proc());return this},
u.$$arity=0);b.def(g,"$encode",a=function(a){return b.enc(this,a)},a.$$arity=1);b.def(g,"$force_encoding",c=function(a){if(a===this.encoding)return this;a=t(l,"Opal")["$coerce_to!"](a,t(l,"String"),"to_s");a=t(l,"Encoding").$find(a);if(a===this.encoding)return this;this.encoding=a;return this},c.$$arity=1);b.def(g,"$getbyte",v=function(a){var b=this.$bytes();a=t(l,"Opal")["$coerce_to!"](a,t(l,"Integer"),"to_int");var c=b.$length();c="number"===typeof c&&"number"===typeof a?c<a:c["$<"](a);return K(c)?
E:b["$[]"](a)},v.$$arity=1);return(b.def(g,"$valid_encoding?",B=function(){return!0},B.$$arity=0),E)&&"valid_encoding?"}(k[0],null,k)};
Opal.modules["corelib/struct"]=function(b){function r(b,g){return"number"===typeof b&&"number"===typeof g?b>g:b["$>"](g)}function A(b,g){return"number"===typeof b&&"number"===typeof g?b-g:b["$-"](g)}function C(b,g){return"number"===typeof b&&"number"===typeof g?b<g:b["$<"](g)}function u(b,g){return"number"===typeof b&&"number"===typeof g?b>=g:b["$>="](g)}function n(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}var g=b.top,G=[],k=b.nil,E=b.const_get_relative,w=b.klass,t=b.hash2,
N=b.truthy,M=b.send;b.add_stubs("$require $include $const_name! $unshift $map $coerce_to! $new $each $define_struct_attribute $allocate $initialize $alias_method $module_eval $to_proc $const_set $== $raise $<< $members $define_method $instance_eval $class $last $> $length $- $keys $any? $join $[] $[]= $each_with_index $hash $=== $< $-@ $size $>= $include? $to_sym $instance_of? $__id__ $eql? $enum_for $name $+ $each_pair $inspect $each_with_object $flatten $to_a $respond_to? $dig".split(" "));g.$require("corelib/enumerable");
return function(g,$super,l){g=w(g,$super,"Struct");var G=[g].concat(l),K,D,I,ea,Y,a,c,v,B,J,q,h,d,z,p,S,L,m,e;g.$include(E(G,"Enumerable"));b.defs(g,"$new",K=function(a,d,e){var f=K.$$p,c=f||k,m,p;var g=k;f&&(K.$$p=null);f&&(K.$$p=null);var h=b.slice.call(arguments,1,arguments.length);g=b.extract_kwargs(h);if(null==g)g=t([],{});else if(!g.$$is_hash)throw b.ArgumentError.$new("expected kwargs");f=g.$$smap.keyword_init;null==f&&(f=!1);if(N(a))try{a=E(G,"Opal")["$const_name!"](a)}catch(Z){if(b.rescue(Z,
[E(G,"TypeError"),E(G,"NameError")]))try{h.$unshift(a),a=k}finally{b.pop_exception()}else throw Z;}M(h,"map",[],(m=function(a){null==a&&(a=k);return E(G,"Opal")["$coerce_to!"](a,E(G,"String"),"to_str")},m.$$s=this,m.$$arity=1,m));g=M(E(G,"Class"),"new",[this],(p=function(){var a=p.$$s||this,d;M(h,"each",[],(d=function(a){var b=d.$$s||this;null==a&&(a=k);return b.$define_struct_attribute(a)},d.$$s=a,d.$$arity=1,d));return function(a,d){[a].concat(d);var e;b.def(a,"$new",e=function(a){var d=b.slice.call(arguments,
0,arguments.length);var e=this.$allocate();e.$$data={};M(e,"initialize",b.to_a(d));return e},e.$$arity=-1);return a.$alias_method("[]","new")}(b.get_singleton_class(a),G)},p.$$s=this,p.$$arity=0,p));N(c)&&M(g,"module_eval",[],c.$to_proc());g.$$keyword_init=f;N(a)&&E(G,"Struct").$const_set(a,g);return g},K.$$arity=-2);b.defs(g,"$define_struct_attribute",D=function(a){var b,d;this["$=="](E(G,"Struct"))&&this.$raise(E(G,"ArgumentError"),"you cannot define attributes to the Struct class");this.$members()["$<<"](a);
M(this,"define_method",[a],(b=function(){return(b.$$s||this).$$data[a]},b.$$s=this,b.$$arity=0,b));return M(this,"define_method",[""+a+"="],(d=function(b){var e=d.$$s||this;null==b&&(b=k);return e.$$data[a]=b},d.$$s=this,d.$$arity=1,d))},D.$$arity=1);b.defs(g,"$members",I=function(){var a;null==this.members&&(this.members=k);this["$=="](E(G,"Struct"))&&this.$raise(E(G,"ArgumentError"),"the Struct class has no members");return this.members=N(a=this.members)?a:[]},I.$$arity=0);b.defs(g,"$inherited",
ea=function(a){var b,d=k;null==this.members&&(this.members=k);d=this.members;return M(a,"instance_eval",[],(b=function(){return(b.$$s||this).members=d},b.$$s=this,b.$$arity=0,b))},ea.$$arity=1);b.def(g,"$initialize",Y=function(a){var d,e,f,c=k,m=k;var p=b.slice.call(arguments,0,arguments.length);if(N(this.$class().$$keyword_init))return c=N(d=p.$last())?d:t([],{}),N(N(d=r(p.$length(),1))?d:1===p.length&&!c.$$is_hash)&&this.$raise(E(G,"ArgumentError"),"wrong number of arguments (given "+p.$length()+
", expected 0)"),m=A(c.$keys(),this.$class().$members()),N(m["$any?"]())&&this.$raise(E(G,"ArgumentError"),"unknown keywords: "+m.$join(", ")),M(this.$class().$members(),"each",[],(e=function(a){var d=e.$$s||this;null==a&&(a=k);a=[a,c["$[]"](a)];M(d,"[]=",b.to_a(a));return a[A(a.length,1)]},e.$$s=this,e.$$arity=1,e));N(r(p.$length(),this.$class().$members().$length()))&&this.$raise(E(G,"ArgumentError"),"struct size differs");return M(this.$class().$members(),"each_with_index",[],(f=function(a,d){var e=
f.$$s||this;null==a&&(a=k);null==d&&(d=k);a=[a,p["$[]"](d)];M(e,"[]=",b.to_a(a));return a[A(a.length,1)]},f.$$s=this,f.$$arity=2,f))},Y.$$arity=-1);b.def(g,"$members",a=function(){return this.$class().$members()},a.$$arity=0);b.def(g,"$hash",c=function(){return E(G,"Hash").$new(this.$$data).$hash()},c.$$arity=0);b.def(g,"$[]",v=function(a){N(E(G,"Integer")["$==="](a))?(N(C(a,this.$class().$members().$size()["$-@"]()))&&this.$raise(E(G,"IndexError"),"offset "+a+" too small for struct(size:"+this.$class().$members().$size()+
")"),N(u(a,this.$class().$members().$size()))&&this.$raise(E(G,"IndexError"),"offset "+a+" too large for struct(size:"+this.$class().$members().$size()+")"),a=this.$class().$members()["$[]"](a)):N(E(G,"String")["$==="](a))?this.$$data.hasOwnProperty(a)||this.$raise(E(G,"NameError").$new("no member '"+a+"' in struct",a)):this.$raise(E(G,"TypeError"),"no implicit conversion of "+a.$class()+" into Integer");a=E(G,"Opal")["$coerce_to!"](a,E(G,"String"),"to_str");return this.$$data[a]},v.$$arity=1);b.def(g,
"$[]=",B=function(a,b){N(E(G,"Integer")["$==="](a))?(N(C(a,this.$class().$members().$size()["$-@"]()))&&this.$raise(E(G,"IndexError"),"offset "+a+" too small for struct(size:"+this.$class().$members().$size()+")"),N(u(a,this.$class().$members().$size()))&&this.$raise(E(G,"IndexError"),"offset "+a+" too large for struct(size:"+this.$class().$members().$size()+")"),a=this.$class().$members()["$[]"](a)):N(E(G,"String")["$==="](a))?N(this.$class().$members()["$include?"](a.$to_sym()))||this.$raise(E(G,
"NameError").$new("no member '"+a+"' in struct",a)):this.$raise(E(G,"TypeError"),"no implicit conversion of "+a.$class()+" into Integer");a=E(G,"Opal")["$coerce_to!"](a,E(G,"String"),"to_str");return this.$$data[a]=b},B.$$arity=2);b.def(g,"$==",J=function(a){function b(a,f){var c;d[a.$__id__()]=!0;e[f.$__id__()]=!0;for(c in a.$$data){var m=a.$$data[c];var p=f.$$data[c];if(E(G,"Struct")["$==="](m)){if(!(d.hasOwnProperty(m.$__id__())&&e.hasOwnProperty(p.$__id__())||b(m,p)))return!1}else if(!m["$=="](p))return!1}return!0}
if(!N(a["$instance_of?"](this.$class())))return!1;var d={},e={};return b(this,a)},J.$$arity=1);b.def(g,"$eql?",q=function(a){function b(a,f){var c;d[a.$__id__()]=!0;e[f.$__id__()]=!0;for(c in a.$$data){var m=a.$$data[c];var p=f.$$data[c];if(E(G,"Struct")["$==="](m)){if(!(d.hasOwnProperty(m.$__id__())&&e.hasOwnProperty(p.$__id__())||b(m,p)))return!1}else if(!m["$eql?"](p))return!1}return!0}if(!N(a["$instance_of?"](this.$class())))return!1;var d={},e={};return b(this,a)},q.$$arity=1);b.def(g,"$each",
h=function(){var a,d,e=h.$$p,c=e||k;e&&(h.$$p=null);if(c===k)return M(this,"enum_for",["each"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));M(this.$class().$members(),"each",[],(d=function(a){var e=d.$$s||this;null==a&&(a=k);return b.yield1(c,e["$[]"](a))},d.$$s=this,d.$$arity=1,d));return this},h.$$arity=0);b.def(g,"$each_pair",d=function(){var a,e,c=d.$$p,m=c||k;c&&(d.$$p=null);if(m===k)return M(this,"enum_for",["each_pair"],(a=function(){return(a.$$s||this).$size()},a.$$s=
this,a.$$arity=0,a));M(this.$class().$members(),"each",[],(e=function(a){var d=e.$$s||this;null==a&&(a=k);return b.yield1(m,[a,d["$[]"](a)])},e.$$s=this,e.$$arity=1,e));return this},d.$$arity=0);b.def(g,"$length",z=function(){return this.$class().$members().$length()},z.$$arity=0);b.alias(g,"size","length");b.def(g,"$to_a",p=function(){var a;return M(this.$class().$members(),"map",[],(a=function(b){var d=a.$$s||this;null==b&&(b=k);return d["$[]"](b)},a.$$s=this,a.$$arity=1,a))},p.$$arity=0);b.alias(g,
"values","to_a");b.def(g,"$inspect",S=function(){var a,b,d=k;d="#<struct ";N(N(a=E(G,"Struct")["$==="](this))?this.$class().$name():a)&&(d=n(d,""+this.$class()+" "));d=n(d,M(this.$each_pair(),"map",[],(b=function(a,b){null==a&&(a=k);null==b&&(b=k);return""+a+"="+b.$inspect()},b.$$s=this,b.$$arity=2,b)).$join(", "));return d=n(d,">")},S.$$arity=0);b.alias(g,"to_s","inspect");b.def(g,"$to_h",L=function(){var a;return M(this.$class().$members(),"each_with_object",[t([],{})],(a=function(d,e){var f=a.$$s||
this;null==d&&(d=k);null==e&&(e=k);d=[d,f["$[]"](d)];M(e,"[]=",b.to_a(d));return d[A(d.length,1)]},a.$$s=this,a.$$arity=2,a))},L.$$arity=0);b.def(g,"$values_at",m=function(a){var d;var e=b.slice.call(arguments,0,arguments.length);e=M(e,"map",[],(d=function(a){null==a&&(a=k);return a.$$is_range?a.$to_a():a},d.$$s=this,d.$$arity=1,d)).$flatten();d=[];for(var f=0,c=e.length;f<c;f++)e[f].$$is_number||this.$raise(E(G,"TypeError"),"no implicit conversion of "+e[f].$class()+" into Integer"),d.push(this["$[]"](e[f]));
return d},m.$$arity=-1);return(b.def(g,"$dig",e=function(a,d){var e=b.slice.call(arguments,1,arguments.length);var f=N(a.$$is_string&&this.$$data.hasOwnProperty(a))?this.$$data[a]||k:k;if(f===k||0===e.length)return f;N(f["$respond_to?"]("dig"))||this.$raise(E(G,"TypeError"),""+f.$class()+" does not have #dig method");return M(f,"dig",b.to_a(e))},e.$$arity=-2),k)&&"dig"}(G[0],null,G)};
Opal.modules["corelib/io"]=function(b){function r(b,g){return"number"===typeof b&&"number"===typeof g?b-g:b["$-"](g)}var A=[],C=b.nil,u=b.const_get_qualified,n=b.const_get_relative,g=b.klass,G=b.module,k=b.send,E=b.gvars,w=b.truthy,t=C;b.add_stubs("$attr_accessor $size $write $join $map $String $empty? $concat $chomp $getbyte $getc $raise $new $write_proc= $- $extend".split(" "));(function(t,$super,r){t=g(t,$super,"IO");r=[t].concat(r);var l,u,A,D;t.$$prototype.tty=t.$$prototype.closed=C;b.const_set(r[0],
"SEEK_SET",0);b.const_set(r[0],"SEEK_CUR",1);b.const_set(r[0],"SEEK_END",2);b.def(t,"$tty?",l=function(){return this.tty},l.$$arity=0);b.def(t,"$closed?",u=function(){return this.closed},u.$$arity=0);t.$attr_accessor("write_proc");b.def(t,"$write",A=function(b){this.write_proc(b);return b.$size()},A.$$arity=1);t.$attr_accessor("sync","tty");b.def(t,"$flush",D=function(){return C},D.$$arity=0);(function(g,l){g=G(g,"Writable");[g].concat(l);var t,a,c;b.def(g,"$<<",t=function(a){this.$write(a);return this},
t.$$arity=1);b.def(g,"$print",a=function(a){var c;null==E[","]&&(E[","]=C);var g=b.slice.call(arguments,0,arguments.length);this.$write(k(g,"map",[],(c=function(a){var b=c.$$s||this;null==a&&(a=C);return b.$String(a)},c.$$s=this,c.$$arity=1,c)).$join(E[","]));return C},a.$$arity=-1);b.def(g,"$puts",c=function(a){var c,g=C;null==E["/"]&&(E["/"]=C);var q=b.slice.call(arguments,0,arguments.length);g=E["/"];w(q["$empty?"]())?this.$write(E["/"]):this.$write(k(q,"map",[],(c=function(a){var b=c.$$s||this;
null==a&&(a=C);return b.$String(a).$chomp()},c.$$s=this,c.$$arity=1,c)).$concat([C]).$join(g));return C},c.$$arity=-1)})(r[0],r);return function(g,l){g=G(g,"Readable");var k=[g].concat(l),a,c,v,t;b.def(g,"$readbyte",a=function(){return this.$getbyte()},a.$$arity=0);b.def(g,"$readchar",c=function(){return this.$getc()},c.$$arity=0);b.def(g,"$readline",v=function(a){null==E["/"]&&(E["/"]=C);return this.$raise(n(k,"NotImplementedError"))},v.$$arity=-1);b.def(g,"$readpartial",t=function(a,b){return this.$raise(n(k,
"NotImplementedError"))},t.$$arity=-2)}(r[0],r)})(A[0],null,A);b.const_set(A[0],"STDERR",E.stderr=n(A,"IO").$new());b.const_set(A[0],"STDIN",E.stdin=n(A,"IO").$new());b.const_set(A[0],"STDOUT",E.stdout=n(A,"IO").$new());var N=b.global.console;t=["object"===typeof process&&"object"===typeof process.stdout?function(b){process.stdout.write(b)}:function(b){N.log(b)}];k(n(A,"STDOUT"),"write_proc=",b.to_a(t));t[r(t.length,1)];t=["object"===typeof process&&"object"===typeof process.stderr?function(b){process.stderr.write(b)}:
function(b){N.warn(b)}];k(n(A,"STDERR"),"write_proc=",b.to_a(t));t[r(t.length,1)];n(A,"STDOUT").$extend(u(n(A,"IO"),"Writable"));return n(A,"STDERR").$extend(u(n(A,"IO"),"Writable"))};Opal.modules["corelib/main"]=function(b){var r,A,C=b.top,u=[],n=b.nil,g=b.const_get_relative;b.add_stubs(["$include"]);b.defs(C,"$to_s",r=function(){return"main"},r.$$arity=0);return(b.defs(C,"$include",A=function(b){return g(u,"Object").$include(b)},A.$$arity=1),n)&&"include"};
Opal.modules["corelib/dir"]=function(b){var r=[],A=b.nil,C=b.const_get_relative,u=b.klass,n=b.truthy;b.add_stubs(["$[]"]);return function(g,$super,k){g=u(g,$super,"Dir");k=[g].concat(k);return function(g,k){var t=[g].concat(k),r,u,w;b.def(g,"$chdir",r=function(g){var l=r.$$p,k=l||A,t=A;l&&(r.$$p=null);a:{try{t=b.current_dir;b.current_dir=g;var n=b.yieldX(k,[]);break a}finally{b.current_dir=t}n=void 0}return n},r.$$arity=1);b.def(g,"$pwd",u=function(){return b.current_dir||"."},u.$$arity=0);b.alias(g,
"getwd","pwd");return(b.def(g,"$home",w=function(){var b;return n(b=C(t,"ENV")["$[]"]("HOME"))?b:"."},w.$$arity=0),A)&&"home"}(b.get_singleton_class(g),k)}(r[0],null,r)};
Opal.modules["corelib/file"]=function(b){function r(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}function A(b,g){return"number"===typeof b&&"number"===typeof g?b-g:b["$-"](g)}var C=[],u=b.nil,n=b.const_get_relative,g=b.klass,G=b.truthy,k=b.range,E=b.send;b.add_stubs("$respond_to? $to_path $pwd $split $sub $+ $unshift $join $home $raise $start_with? $absolute_path $coerce_to! $basename $empty? $rindex $[] $nil? $== $- $length $gsub $find $=~ $map $each_with_index $flatten $reject $to_proc $end_with?".split(" "));return function(w,
$super,C){w=g(w,$super,"File");C=[w].concat(C);var M=u;b.const_set(C[0],"Separator",b.const_set(C[0],"SEPARATOR","/"));b.const_set(C[0],"ALT_SEPARATOR",u);b.const_set(C[0],"PATH_SEPARATOR",":");b.const_set(C[0],"FNM_SYSCASE",0);M=/^[a-zA-Z]:(?:\\|\/)/;return function(g,w){function l(a){G(a["$respond_to?"]("to_path"))&&(a=a.$to_path());return a=n(x,"Opal")["$coerce_to!"](a,n(x,"String"),"to_str")}function C(){return n(x,"ALT_SEPARATOR")===u?b.escape_regexp(n(x,"SEPARATOR")):b.escape_regexp(r(n(x,"SEPARATOR"),
n(x,"ALT_SEPARATOR")))}var x=[g].concat(w),D,I,K,N,a,c,v,B,J;b.def(g,"$absolute_path",D=function(a,b){var d;null==b&&(b=u);var c=n(x,"SEPARATOR");var p=C();var g=[];a=G(a["$respond_to?"]("to_path"))?a.$to_path():a;b=G(d=b)?d:n(x,"Dir").$pwd();d=a.substr(0,c.length)===c||M.test(a);var h=b.substr(0,c.length)===c||M.test(b);G(d)?(d=a.$split(new RegExp("["+p+"]")),a=M.test(a)?"":a.$sub(new RegExp("^(["+p+"]+).*$"),"\\1"),b=!0):(d=r(b.$split(new RegExp("["+p+"]")),a.$split(new RegExp("["+p+"]"))),a=M.test(b)?
"":b.$sub(new RegExp("^(["+p+"]+).*$"),"\\1"),b=h);h=0;for(var m=d.length;h<m;h++)p=d[h],p===u||""===p&&(0===g.length||b)||"."===p&&(0===g.length||b)||(".."===p?g.pop():g.push(p));b||"."===d[0]||g.$unshift(".");c=g.$join(c);G(b)&&(c=r(a,c));return c},D.$$arity=-2);b.def(g,"$expand_path",I=function(a,b){null==b&&(b=u);var d=n(x,"SEPARATOR");var c=C();if(G("~"===a[0]||b&&"~"===b[0])){var p=n(x,"Dir").$home();G(p)||this.$raise(n(x,"ArgumentError"),"couldn't find HOME environment -- expanding `~'");c=
M.test(p)?"":p.$sub(new RegExp("^(["+c+"]+).*$"),"\\1");G(p["$start_with?"](c))||this.$raise(n(x,"ArgumentError"),"non-absolute home");p=r(p,d);d=new RegExp("^\\~(?:"+d+"|$)");a=a.$sub(d,p);G(b)&&(b=b.$sub(d,p))}return this.$absolute_path(a,b)},I.$$arity=-2);b.alias(g,"realpath","expand_path");b.def(g,"$dirname",K=function(a){var b=C();a=l(a);var d=a.match(new RegExp("^["+b+"]"));a=a.replace(new RegExp("["+b+"]+$"),"");a=a.replace(new RegExp("[^"+b+"]+$"),"");a=a.replace(new RegExp("["+b+"]+$"),"");
return""===a?d?"/":".":a},K.$$arity=1);b.def(g,"$basename",N=function(a,c){null==c&&(c=u);var d=C();a=l(a);if(0==a.length)return a;c=c!==u?n(x,"Opal")["$coerce_to!"](c,n(x,"String"),"to_str"):null;a=a.replace(new RegExp("(.)["+d+"]*$"),"$1");a=a.replace(new RegExp("^(?:.*["+d+"])?([^"+d+"]+)$"),"$1");".*"===c?a=a.replace(/\.[^\.]+$/,""):null!==c&&(c=b.escape_regexp(c),a=a.replace(new RegExp(""+c+"$"),""));return a},N.$$arity=-2);b.def(g,"$extname",a=function(a){var c;a=l(a);a=this.$basename(a);if(G(a["$empty?"]()))return"";
var d=a["$[]"](k(1,-1,!1)).$rindex(".");return G(G(c=d["$nil?"]())?c:r(d,1)["$=="](A(a.$length(),1)))?"":a["$[]"](b.Range.$new(r(d,1),-1,!1))},a.$$arity=1);b.def(g,"$exist?",c=function(a){return null!=b.modules[a]},c.$$arity=1);b.alias(g,"exists?","exist?");b.def(g,"$directory?",v=function(a){var c,d=u;d=u;d=[];for(var g in b.modules)d.push(g);a=a.$gsub(new RegExp("(^."+n(x,"SEPARATOR")+"+|"+n(x,"SEPARATOR")+"+$)"));return d=E(d,"find",[],(c=function(b){null==b&&(b=u);return b["$=~"](new RegExp("^"+
a))},c.$$s=this,c.$$arity=1,c))},v.$$arity=1);b.def(g,"$join",B=function(a){var c,d,g=u;var p=b.slice.call(arguments,0,arguments.length);if(G(p["$empty?"]()))return"";g="";p=E(p.$flatten().$each_with_index(),"map",[],(c=function(a,b){null==a&&(a=u);null==b&&(b=u);return G(b["$=="](0)?a["$empty?"]():b["$=="](0))?n(x,"SEPARATOR"):G(p.$length()["$=="](r(b,1))?a["$empty?"]():p.$length()["$=="](r(b,1)))?n(x,"SEPARATOR"):a},c.$$s=this,c.$$arity=2,c));p=E(p,"reject",[],"empty?".$to_proc());E(p,"each_with_index",
[],(d=function(a,b){var d;null==a&&(a=u);null==b&&(b=u);b=p["$[]"](r(b,1));if(G(b["$nil?"]()))return g=""+g+a;G(G(d=a["$end_with?"](n(x,"SEPARATOR")))?b["$start_with?"](n(x,"SEPARATOR")):d)&&(a=a.$sub(new RegExp(""+n(x,"SEPARATOR")+"+$"),""));return g=G(G(d=a["$end_with?"](n(x,"SEPARATOR")))?d:b["$start_with?"](n(x,"SEPARATOR")))?""+g+a:""+g+a+n(x,"SEPARATOR")},d.$$s=this,d.$$arity=2,d));return g},B.$$arity=-1);return(b.def(g,"$split",J=function(a){return a.$split(n(x,"SEPARATOR"))},J.$$arity=1),
u)&&"split"}(b.get_singleton_class(w),C)}(C[0],n(C,"IO"),C)};
Opal.modules["corelib/process"]=function(b){var r=[],A=b.nil,C=b.const_get_qualified,u=b.const_get_relative,n=b.klass,g=b.truthy;b.add_stubs("$const_set $size $<< $__register_clock__ $to_f $now $new $[] $raise".split(" "));(function(r,$super,E){r=n(r,$super,"Process");var w=[r].concat(E),t,G,M,K;E=A;r.__clocks__=[];b.defs(r,"$__register_clock__",t=function(b,g){null==this.__clocks__&&(this.__clocks__=A);this.$const_set(b,this.__clocks__.$size());return this.__clocks__["$<<"](g)},t.$$arity=2);r.$__register_clock__("CLOCK_REALTIME",
function(){return Date.now()});E=!1;if(b.global.performance)E=function(){return performance.now()};else if(b.global.process&&process.hrtime){var x=process.hrtime();E=function(){var b=process.hrtime(x);return 1E3*b[0]+(b[1]/1E3|0)/1E3}}g(E)&&r.$__register_clock__("CLOCK_MONOTONIC",E);b.defs(r,"$pid",G=function(){return 0},G.$$arity=0);b.defs(r,"$times",M=function(){var b=u(w,"Time").$now().$to_f();return C(u(w,"Benchmark"),"Tms").$new(b,b,b,b,b)},M.$$arity=0);return(b.defs(r,"$clock_gettime",K=function(b,
t){var l,n;null==this.__clocks__&&(this.__clocks__=A);null==t&&(t="float_second");g(l=n=this.__clocks__["$[]"](b))?l:this.$raise(C(u(w,"Errno"),"EINVAL"),"clock_gettime("+b+") "+this.__clocks__["$[]"](b));b=n();switch(t){case "float_second":return b/1E3;case "float_millisecond":return b/1;case "float_microsecond":return 1E3*b;case "second":return b/1E3|0;case "millisecond":return b/1|0;case "microsecond":return 1E3*b|0;case "nanosecond":return 1E6*b|0;default:this.$raise(u(w,"ArgumentError"),"unexpected unit: "+
t)}},K.$$arity=-2),A)&&"clock_gettime"})(r[0],null,r);(function(g,$super,r){g=n(g,$super,"Signal");[g].concat(r);var u;return(b.defs(g,"$trap",u=function(g){b.slice.call(arguments,0,arguments.length);return A},u.$$arity=-1),A)&&"trap"})(r[0],null,r);return function(g,$super,r){g=n(g,$super,"GC");[g].concat(r);var u;return(b.defs(g,"$start",u=function(){return A},u.$$arity=0),A)&&"start"}(r[0],null,r)};
Opal.modules["corelib/unsupported"]=function(b){function r(g){switch(b.config.unsupported_features_severity){case "error":G(n,"Kernel").$raise(G(n,"NotImplementedError"),g);break;case "warning":w[g]||(w[g]=!0,u.$warn(g))}}var A,C,u=b.top,n=[],g=b.nil,G=b.const_get_relative,k=b.klass,E=b.module;b.add_stubs(["$raise","$warn","$%"]);var w={};(function(t,$super,n){t=k(t,$super,"String");var r=[t].concat(n),u,l,w,A,D,C,E,M,a,c,v,B,J,q,h,d,z,p,S,L,m,e,f;b.def(t,"$<<",u=function(a){b.slice.call(arguments,
0,arguments.length);return this.$raise(G(r,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("<<"))},u.$$arity=-1);b.def(t,"$capitalize!",l=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(r,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("capitalize!"))},l.$$arity=-1);b.def(t,"$chomp!",w=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(r,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chomp!"))},w.$$arity=-1);b.def(t,"$chop!",A=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(r,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chop!"))},A.$$arity=-1);b.def(t,"$downcase!",D=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(r,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("downcase!"))},
D.$$arity=-1);b.def(t,"$gsub!",C=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(r,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("gsub!"))},C.$$arity=-1);b.def(t,"$lstrip!",E=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(r,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("lstrip!"))},E.$$arity=-1);b.def(t,"$next!",M=function(a){b.slice.call(arguments,
0,arguments.length);return this.$raise(G(r,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("next!"))},M.$$arity=-1);b.def(t,"$reverse!",a=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(r,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("reverse!"))},a.$$arity=-1);b.def(t,"$slice!",c=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(r,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("slice!"))},c.$$arity=-1);b.def(t,"$squeeze!",v=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(r,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("squeeze!"))},v.$$arity=-1);b.def(t,"$strip!",B=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(r,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("strip!"))},
B.$$arity=-1);b.def(t,"$sub!",J=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(r,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("sub!"))},J.$$arity=-1);b.def(t,"$succ!",q=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(r,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("succ!"))},q.$$arity=-1);b.def(t,"$swapcase!",h=function(a){b.slice.call(arguments,
0,arguments.length);return this.$raise(G(r,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("swapcase!"))},h.$$arity=-1);b.def(t,"$tr!",d=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(r,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr!"))},d.$$arity=-1);b.def(t,"$tr_s!",z=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(r,"NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr_s!"))},z.$$arity=-1);b.def(t,"$upcase!",p=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(r,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("upcase!"))},p.$$arity=-1);b.def(t,"$prepend",S=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(r,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("prepend"))},
S.$$arity=-1);b.def(t,"$[]=",L=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(r,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("[]="))},L.$$arity=-1);b.def(t,"$clear",m=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(r,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("clear"))},m.$$arity=-1);b.def(t,"$encode!",e=function(a){b.slice.call(arguments,
0,arguments.length);return this.$raise(G(r,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("encode!"))},e.$$arity=-1);return(b.def(t,"$unicode_normalize!",f=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(G(r,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("unicode_normalize!"))},f.$$arity=-1),g)&&"unicode_normalize!"})(n[0],null,n);(function(g,k){g=E(g,"Kernel");
[g].concat(k);var t,n;b.def(g,"$freeze",t=function(){r("Object freezing is not supported by Opal");return this},t.$$arity=0);b.def(g,"$frozen?",n=function(){r("Object freezing is not supported by Opal");return!1},n.$$arity=0)})(n[0],n);(function(g,k){g=E(g,"Kernel");[g].concat(k);var t,n,u;b.def(g,"$taint",t=function(){r("Object tainting is not supported by Opal");return this},t.$$arity=0);b.def(g,"$untaint",n=function(){r("Object tainting is not supported by Opal");return this},n.$$arity=0);b.def(g,
"$tainted?",u=function(){r("Object tainting is not supported by Opal");return!1},u.$$arity=0)})(n[0],n);(function(t,$super,n){t=k(t,$super,"Module");[t].concat(n);var r,u,l,w;b.def(t,"$public",r=function(l){0===b.slice.call(arguments,0,arguments.length).length&&(this.$$module_function=!1);return g},r.$$arity=-1);b.alias(t,"private","public");b.alias(t,"protected","public");b.alias(t,"nesting","public");b.def(t,"$private_class_method",u=function(g){b.slice.call(arguments,0,arguments.length);return this},
u.$$arity=-1);b.alias(t,"public_class_method","private_class_method");b.def(t,"$private_method_defined?",l=function(b){return!1},l.$$arity=1);b.def(t,"$private_constant",w=function(l){b.slice.call(arguments,0,arguments.length);return g},w.$$arity=-1);b.alias(t,"protected_method_defined?","private_method_defined?");b.alias(t,"public_instance_methods","instance_methods");b.alias(t,"public_instance_method","instance_method");return b.alias(t,"public_method_defined?","method_defined?")})(n[0],null,n);
(function(g,k){g=E(g,"Kernel");[g].concat(k);var t;b.def(g,"$private_methods",t=function(g){b.slice.call(arguments,0,arguments.length);return[]},t.$$arity=-1);b.alias(g,"private_instance_methods","private_methods")})(n[0],n);(function(g,k){g=E(g,"Kernel");var t=[g].concat(k),n;b.def(g,"$eval",n=function(g){b.slice.call(arguments,0,arguments.length);return this.$raise(G(t,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+G(t,
"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},n.$$arity=-1)})(n[0],n);b.defs(u,"$public",A=function(k){b.slice.call(arguments,0,arguments.length);return g},A.$$arity=-1);return(b.defs(u,"$private",C=function(k){b.slice.call(arguments,0,arguments.length);return g},C.$$arity=-1),g)&&"private"};
(function(b){var r=b.top;b.add_stubs(["$require"]);r.$require("opal/base");r.$require("opal/mini");r.$require("corelib/string/encoding");r.$require("corelib/struct");r.$require("corelib/io");r.$require("corelib/main");r.$require("corelib/dir");r.$require("corelib/file");r.$require("corelib/process");return r.$require("corelib/unsupported")})(Opal);
(function(b,r){"object"===typeof module&&module.exports?module.exports=r:"function"===typeof define&&define.amd?define("asciidoctor",["module"],function(b){return r(b.config())}):b.Asciidoctor=r})(this,function(b){function r(a,b,v,l,k){var c=Opal.klass(Opal.Object,a,b,function(){}),h,d,z,p={},B;for(B in v)Object.prototype.hasOwnProperty.call(v,B)&&function(a){var b=v[a];"postConstruct"===a?h=b:"initialize"===a?d=b:"constructor"===a?z=b:(l&&Object.prototype.hasOwnProperty.call(l,a)&&(p[a]=!0),Opal.def(c,
"$"+a,function(){var d=k&&Object.prototype.hasOwnProperty.call(k,a)?k[a](arguments):arguments;return b.apply(this,d)}))}(B);var t="function"===typeof z?function(){for(var a=Array.from(arguments),b=0;b<a.length;b++)"object"===typeof a[b]&&"$$smap"in a[b]&&(a[b]=g(a[b]));a.unshift(null);a=new (Function.prototype.bind.apply(z,a));Object.assign(this,a);"function"===typeof h&&h.bind(this)()}:"function"===typeof d?function(){for(var a=Array.from(arguments),b=0;b<a.length;b++)"object"===typeof a[b]&&"$$smap"in
a[b]&&(a[b]=g(a[b]));d.apply(this,a);"function"===typeof h&&h.bind(this)()}:function(){Opal.send(this,Opal.find_super_dispatcher(this,"initialize",t));"function"===typeof h&&h.bind(this)()};Opal.def(c,"$initialize",t);Opal.def(c,"super",function(a){if("function"===typeof a)Opal.send(this,Opal.find_super_dispatcher(this,a.name,a));else{for(var b=Array.from(arguments),d=0;d<b.length;d++)"object"===typeof b[d]&&(b[d]=n(b[d]));Opal.send(this,Opal.find_super_dispatcher(this,"initialize",t),b)}});if(l)for(var m in l)Object.prototype.hasOwnProperty.call(l,
m)&&!Object.prototype.hasOwnProperty.call(p,m)&&function(a){var b=l[a];Opal.def(c,"$"+a,function(){return b.apply(this,arguments)})}(m);return c}function A(a,b){var c=Opal.const_get_qualified(Opal.Logger,"Formatter");return r(c,a,b,{},{call:function(a){for(var b=0;b<a.length;b++)"object"===typeof a[b]&&"$$smap"in a[b]&&(a[b]=g(a[b]));return a}})}function C(a,b){var c=Opal.const_get_qualified(Opal.Asciidoctor,"Logger");return r(c,a,b,{},{add:function(a){if(2<=a.length&&"object"===typeof a[2]&&"$$smap"in
a[2]){var b=g(a[2]);b.getText=function(){return this.text};b.getSourceLocation=function(){return this.source_location};b.$inspect=function(){var a=this.getSourceLocation();return a?a.getPath()+": line "+a.getLineNumber()+": "+this.getText():this.getText()};a[2]=b}1<=a.length&&(a[1]=a[1]===Opal.nil?void 0:a[1]);return a}})}function u(a,b,g){a=Opal.const_get_qualified(D,a);return r(a,b,g,{"handles?":function(){return!0}})}Opal.modules["asciidoctor/js/opal_ext/browser/file"]=function(a){var b=[],g=a.nil,
l=a.const_get_relative,k=a.klass;a.add_stubs(["$new"]);return function(b,$super,d){b=k(b,$super,"File");var c=[b].concat(d),p;return(a.defs(b,"$read",p=function(a){var b="",d=-1;try{var e=new XMLHttpRequest;e.open("GET",a,!1);e.addEventListener("load",function(){d=this.status;if(0===d||200===d)b=this.responseText});e.overrideMimeType("text/plain");e.send()}catch(f){throw l(c,"IOError").$new("Error reading file or directory: "+a+"; reason: "+f.message);}if(404===d||0===d&&!b)throw l(c,"IOError").$new("No such file or directory: "+
a);return b},p.$$arity=1),g)&&"read"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/browser"]=function(a){var c=a.top,g=[];a.add_stubs(["$require"]);if("object"===typeof b&&"object"===typeof b.runtime){var l=b.runtime;var k=l.platform;var q=l.engine;var h=l.framework;l=l.ioModule}k=k||"browser";q=q||"";h=h||"";a.const_set(g[0],"JAVASCRIPT_IO_MODULE",l||"xmlhttprequest");a.const_set(g[0],"JAVASCRIPT_PLATFORM",k);a.const_set(g[0],"JAVASCRIPT_ENGINE",q);a.const_set(g[0],"JAVASCRIPT_FRAMEWORK",
h);return c.$require("asciidoctor/js/opal_ext/browser/file")};Opal.modules["asciidoctor/js/asciidoctor_ext/browser/abstract_node"]=function(a){var b=[],g=a.nil,l=a.const_get_qualified,k=a.const_get_relative,q=a.module,h=a.klass,d=a.hash2,z=a.truthy;a.add_stubs("$uriish? $[] $web_path $path_resolver $descends_from? $base_dir $start_with? $attr? $join $prepare_source_string $read $fetch $warn $logger $normalize_system_path $read_asset".split(" "));return function(b,c){b=[q(b,"Asciidoctor")].concat(c);
(function(b,$super,e){b=h(b,$super,"AbstractNode");var f=[b].concat(e),c,p;b.$$prototype.document=g;a.def(b,"$read_contents",c=function(b,e){var c,p,h,q=g;null==e&&(e=d([],{}));var v=this.document;if(z(z(c=k(f,"Helpers")["$uriish?"](b))?c:z(p=z(h=q=e["$[]"]("start"))?k(f,"Helpers")["$uriish?"](q):h)?b=v.$path_resolver().$web_path(b,q):p))if(z(z(c=z(p=v.$path_resolver()["$descends_from?"](b,v.$base_dir()))?p:b["$start_with?"]("chrome://"))?c:v["$attr?"]("allow-uri-read")))try{return z(e["$[]"]("normalize"))?
k(f,"Helpers").$prepare_source_string(l("::","File").$read(b)).$join(k(f,"LF")):l("::","File").$read(b)}catch(ra){if(a.rescue(ra,[k(f,"StandardError")]))try{return z(e.$fetch("warn_on_failure",!0))&&this.$logger().$warn("could not retrieve contents of "+(z(c=e["$[]"]("label"))?c:"asset")+" at URI: "+b),g}finally{a.pop_exception()}else throw ra;}else return z(e.$fetch("warn_on_failure",!0))&&this.$logger().$warn("cannot retrieve contents of "+(z(c=e["$[]"]("label"))?c:"asset")+" at URI: "+b+" (allow-uri-read attribute not enabled)"),
g;else return b=this.$normalize_system_path(b,e["$[]"]("start"),g,d(["target_name"],{target_name:z(c=e["$[]"]("label"))?c:"asset"})),this.$read_asset(b,d(["normalize","warn_on_failure","label"],{normalize:e["$[]"]("normalize"),warn_on_failure:e.$fetch("warn_on_failure",!0),label:e["$[]"]("label")}))},c.$$arity=-2);return(a.def(b,"$generate_data_uri_from_uri",p=function(a,b){null==b&&(b=!1);var d="",e="",f=-1;try{var c=new XMLHttpRequest;c.open("GET",a,!1);c.overrideMimeType("text/plain; charset=x-user-defined");
c.addEventListener("load",function(){f=this.status;if(0===f||200===f){for(var a="",b=this.responseText,c=0,p=b.length;c<p;++c){var g=b.charCodeAt(c)&255;a+=String.fromCharCode(g)}e=btoa(a);d=this.getResponseHeader("content-type")}});c.send(null);if(!d)if(a.endsWith(".jpeg")||a.endsWith(".jpg")||a.endsWith(".jpe"))d="image/jpg";else if(a.endsWith(".png"))d="image/png";else if(a.endsWith(".svg"))d="image/svg+xml";else if(a.endsWith(".bmp"))d="image/bmp";else if(a.endsWith(".tif")||a.endsWith(".tiff"))d=
"image/tiff"}catch(Z){f=0}return 404!==f&&(0!==f||e&&d)?"data:"+d+";base64,"+e:(this.$logger().$warn("could not retrieve image data from URI: "+a),a)},p.$$arity=-2),g)&&"generate_data_uri_from_uri"})(b[0],null,b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/browser/open_uri"]=function(a){var b=[],g=a.nil,l=a.const_get_relative,k=a.module,q=a.send;a.add_stubs(["$new","$path"]);return function(b,d){var c=[k(b,"OpenURI")].concat(d),p;a.defs(l(c,"OpenURI"),"$open_uri",p=function(b,d){var m,
e=(m=p.$$p)||g;m&&(p.$$p=null);m=a.slice.call(arguments,1,arguments.length);m=q(l(c,"File"),"new",[this.$path()].concat(a.to_a(m)));return e!==g?a.yield1(e,m):m},p.$$arity=-2)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/browser/path_resolver"]=function(a){var b=[],g=a.nil,l=a.module,k=a.klass,q=a.truthy;a.add_stubs(["$absolute_path?","$start_with?"]);return function(b,d){b=[l(b,"Asciidoctor")].concat(d);(function(b,$super,d){b=k(b,$super,"PathResolver");[b].concat(d);var c;return(a.def(b,
"$root?",c=function(a){var b;return q(b=this["$absolute_path?"](a))?b:a["$start_with?"]("file://","http://","https://","chrome://")},c.$$arity=1),g)&&"root?"})(b[0],null,b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/browser/reader"]=function(a){var b=[],g=a.nil,l=a.const_get_relative,k=a.module,q=a.klass,h=a.truthy;a.add_stubs("$posixify $new $base_dir $start_with? $uriish? $descends_from? $key? $attributes $replace_next_line $absolute_path? $== $empty? $! $slice $length".split(" "));
return function(b,c){b=[k(b,"Asciidoctor")].concat(c);(function(b,$super,d){b=q(b,$super,"PreprocessorReader");var c=[b].concat(d),e;b.$$prototype.path_resolver=b.$$prototype.document=b.$$prototype.include_stack=b.$$prototype.dir=g;return(a.def(b,"$resolve_include_path",e=function(a,b,d){var e,f,m;d=g;var p=(this.path_resolver=h(e=this.path_resolver)?e:l(c,"PathResolver").$new("\\")).$posixify(a);e=["file",this.document.$base_dir()];var q=e[1];e;if(h(p["$start_with?"]("file://")))a=b=p;else if(h(l(c,
"Helpers")["$uriish?"](p))){if(!h(h(e=this.path_resolver["$descends_from?"](p,q))?e:this.document.$attributes()["$key?"]("allow-uri-read")))return this.$replace_next_line("link:"+a+"["+b+"]");a=b=p}else if(h(this.path_resolver["$absolute_path?"](p)))a=b="file://"+(h(p["$start_with?"]("/"))?"":"/")+p;else if((f=h(m=this.include_stack["$empty?"]())?q:this.dir)["$=="]("."))a=b=p;else if(h(h(e=f["$start_with?"]("file://"))?e:l(c,"Helpers")["$uriish?"](f)["$!"]()))a=""+f+"/"+p,b=h(m)?p:h(h(e=q["$=="]("."))?
e:(d=this.path_resolver["$descends_from?"](a,q))["$!"]())?a:a.$slice(d,a.$length());else if(h(m))a=""+f+"/"+(b=p);else if(h(h(e=d=this.path_resolver["$descends_from?"](f,q))?e:this.document.$attributes()["$key?"]("allow-uri-read")))a=""+f+"/"+p,b=h(d)?a.$slice(d,a.$length()):p;else return this.$replace_next_line("link:"+a+"["+b+"]");return[a,"file",b]},e.$$arity=3),g)&&"resolve_include_path"})(b[0],l(b,"Reader"),b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/browser"]=function(a){var b=
a.top,g=a.nil,l=a.const_get_relative;a.add_stubs(["$==","$require"]);return l([],"JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest")?(b.$require("asciidoctor/js/asciidoctor_ext/browser/abstract_node"),b.$require("asciidoctor/js/asciidoctor_ext/browser/open_uri"),b.$require("asciidoctor/js/asciidoctor_ext/browser/path_resolver"),b.$require("asciidoctor/js/asciidoctor_ext/browser/reader")):g};Opal.modules.set=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,
b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}var k=[],q=a.nil,h=a.const_get_relative,d=a.klass,z=a.hash2,p=a.truthy,t=a.send,n=a.module;a.add_stubs("$include $new $nil? $=== $raise $each $add $merge $class $respond_to? $subtract $dup $join $to_a $equal? $instance_of? $== $instance_variable_get $is_a? $size $all? $include? $[]= $- $enum_for $[] $<< $replace $delete $select $each_key $to_proc $empty? $eql? $instance_eval $clear $< $<= $keys".split(" "));
(function(c,$super,f){c=d(c,$super,"Set");var m=[c].concat(f),k,v,n,R,L,y,B,J,r,S,u,w,ba,X,A,D,C,ya,xa,ka,W,E,aa,G,x,I,na,ja;c.$$prototype.hash=q;c.$include(h(m,"Enumerable"));a.defs(c,"$[]",k=function(b){var d=a.slice.call(arguments,0,arguments.length);return this.$new(d)},k.$$arity=-1);a.def(c,"$initialize",v=function(b){var d=v.$$p,f=d||q,c;d&&(v.$$p=null);d&&(v.$$p=null);null==b&&(b=q);this.hash=z([],{});if(p(b["$nil?"]()))return q;p(h(m,"Enumerable")["$==="](b))||this.$raise(h(m,"ArgumentError"),
"value must be enumerable");return p(f)?t(b,"each",[],(c=function(b){var d=c.$$s||this;null==b&&(b=q);return d.$add(a.yield1(f,b))},c.$$s=this,c.$$arity=1,c)):this.$merge(b)},v.$$arity=-1);a.def(c,"$dup",n=function(){return this.$class().$new().$merge(this)},n.$$arity=0);a.def(c,"$-",R=function(a){p(a["$respond_to?"]("each"))||this.$raise(h(m,"ArgumentError"),"value must be enumerable");return this.$dup().$subtract(a)},R.$$arity=1);a.alias(c,"difference","-");a.def(c,"$inspect",L=function(){return"#<Set: {"+
this.$to_a().$join(",")+"}>"},L.$$arity=0);a.def(c,"$==",y=function(a){var b,d;return p(this["$equal?"](a))?!0:p(a["$instance_of?"](this.$class()))?this.hash["$=="](a.$instance_variable_get("@hash")):p(p(b=a["$is_a?"](h(m,"Set")))?this.$size()["$=="](a.$size()):b)?t(a,"all?",[],(d=function(a){var b=d.$$s||this;null==b.hash&&(b.hash=q);null==a&&(a=q);return b.hash["$include?"](a)},d.$$s=this,d.$$arity=1,d)):!1},y.$$arity=1);a.def(c,"$add",B=function(d){d=[d,!0];t(this.hash,"[]=",a.to_a(d));d[b(d.length,
1)];return this},B.$$arity=1);a.alias(c,"<<","add");a.def(c,"$classify",J=function(){var d=J.$$p,f=d||q,c,p,g=q;d&&(J.$$p=null);d&&(J.$$p=null);if(f===q)return this.$enum_for("classify");g=t(h(m,"Hash"),"new",[],(c=function(d,f){var m=c.$$s||this;null==d&&(d=q);null==f&&(f=q);f=[f,m.$class().$new()];t(d,"[]=",a.to_a(f));return f[b(f.length,1)]},c.$$s=this,c.$$arity=2,c));t(this,"each",[],(p=function(b){null==b&&(b=q);return g["$[]"](a.yield1(f,b)).$add(b)},p.$$s=this,p.$$arity=1,p));return g},J.$$arity=
0);a.def(c,"$collect!",r=function(){var b=r.$$p,d=b||q,f,c=q;b&&(r.$$p=null);b&&(r.$$p=null);if(d===q)return this.$enum_for("collect!");c=this.$class().$new();t(this,"each",[],(f=function(b){null==b&&(b=q);return c["$<<"](a.yield1(d,b))},f.$$s=this,f.$$arity=1,f));return this.$replace(c)},r.$$arity=0);a.alias(c,"map!","collect!");a.def(c,"$delete",S=function(a){this.hash.$delete(a);return this},S.$$arity=1);a.def(c,"$delete?",u=function(a){return p(this["$include?"](a))?(this.$delete(a),this):q},
u.$$arity=1);a.def(c,"$delete_if",w=function(){var b,d,f=w.$$p,c=f||q;f&&(w.$$p=null);if(c===q)return this.$enum_for("delete_if");t(t(this,"select",[],(b=function(b){null==b&&(b=q);return a.yield1(c,b)},b.$$s=this,b.$$arity=1,b)),"each",[],(d=function(a){var b=d.$$s||this;null==b.hash&&(b.hash=q);null==a&&(a=q);return b.hash.$delete(a)},d.$$s=this,d.$$arity=1,d));return this},w.$$arity=0);a.def(c,"$add?",ba=function(a){return p(this["$include?"](a))?q:this.$add(a)},ba.$$arity=1);a.def(c,"$each",X=
function(){var a=X.$$p,b=a||q;a&&(X.$$p=null);a&&(X.$$p=null);if(b===q)return this.$enum_for("each");t(this.hash,"each_key",[],b.$to_proc());return this},X.$$arity=0);a.def(c,"$empty?",A=function(){return this.hash["$empty?"]()},A.$$arity=0);a.def(c,"$eql?",D=function(a){var b;return this.hash["$eql?"](t(a,"instance_eval",[],(b=function(){var a=b.$$s||this;null==a.hash&&(a.hash=q);return a.hash},b.$$s=this,b.$$arity=0,b)))},D.$$arity=1);a.def(c,"$clear",C=function(){this.hash.$clear();return this},
C.$$arity=0);a.def(c,"$include?",ya=function(a){return this.hash["$include?"](a)},ya.$$arity=1);a.alias(c,"member?","include?");a.def(c,"$merge",xa=function(a){var b;t(a,"each",[],(b=function(a){var d=b.$$s||this;null==a&&(a=q);return d.$add(a)},b.$$s=this,b.$$arity=1,b));return this},xa.$$arity=1);a.def(c,"$replace",ka=function(a){this.$clear();this.$merge(a);return this},ka.$$arity=1);a.def(c,"$size",W=function(){return this.hash.$size()},W.$$arity=0);a.alias(c,"length","size");a.def(c,"$subtract",
E=function(a){var b;t(a,"each",[],(b=function(a){var d=b.$$s||this;null==a&&(a=q);return d.$delete(a)},b.$$s=this,b.$$arity=1,b));return this},E.$$arity=1);a.def(c,"$|",aa=function(a){p(a["$respond_to?"]("each"))||this.$raise(h(m,"ArgumentError"),"value must be enumerable");return this.$dup().$merge(a)},aa.$$arity=1);a.def(c,"$superset?",G=function(a){var b,d;p(b=a["$is_a?"](h(m,"Set")))?b:this.$raise(h(m,"ArgumentError"),"value must be a set");return p(g(this.$size(),a.$size()))?!1:t(a,"all?",[],
(d=function(a){var b=d.$$s||this;null==a&&(a=q);return b["$include?"](a)},d.$$s=this,d.$$arity=1,d))},G.$$arity=1);a.alias(c,">=","superset?");a.def(c,"$proper_superset?",x=function(a){var b,d;p(b=a["$is_a?"](h(m,"Set")))?b:this.$raise(h(m,"ArgumentError"),"value must be a set");return p(l(this.$size(),a.$size()))?!1:t(a,"all?",[],(d=function(a){var b=d.$$s||this;null==a&&(a=q);return b["$include?"](a)},d.$$s=this,d.$$arity=1,d))},x.$$arity=1);a.alias(c,">","proper_superset?");a.def(c,"$subset?",
I=function(a){var b,d;p(b=a["$is_a?"](h(m,"Set")))?b:this.$raise(h(m,"ArgumentError"),"value must be a set");return p(g(a.$size(),this.$size()))?!1:t(this,"all?",[],(d=function(b){null==b&&(b=q);return a["$include?"](b)},d.$$s=this,d.$$arity=1,d))},I.$$arity=1);a.alias(c,"<=","subset?");a.def(c,"$proper_subset?",na=function(a){var b,d;p(b=a["$is_a?"](h(m,"Set")))?b:this.$raise(h(m,"ArgumentError"),"value must be a set");return p(l(a.$size(),this.$size()))?!1:t(this,"all?",[],(d=function(b){null==
b&&(b=q);return a["$include?"](b)},d.$$s=this,d.$$arity=1,d))},na.$$arity=1);a.alias(c,"<","proper_subset?");a.alias(c,"+","|");a.alias(c,"union","|");return(a.def(c,"$to_a",ja=function(){return this.hash.$keys()},ja.$$arity=0),q)&&"to_a"})(k[0],null,k);return function(b,d){b=n(b,"Enumerable");var e=[b].concat(d),c;a.def(b,"$to_set",c=function(b,d){var f=c.$$p,m=f||q;f&&(c.$$p=null);f&&(c.$$p=null);f=a.slice.call(arguments,0,arguments.length);if(0<f.length){var p=f[0];f.splice(0,1)}null==p&&(p=h(e,
"Set"));return t(p,"new",[this].concat(a.to_a(f)),m.$to_proc())},c.$$arity=-1)}(k[0],k)};Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(a){var b=[],g=a.nil,l=a.const_get_relative,k=a.module,q=a.send;a.add_stubs(["$new"]);return function(b,d){b=k(b,"Kernel");var c=[b].concat(d),p,h;a.def(b,"$open",p=function(b,d){var e,f=(e=p.$$p)||g;e&&(p.$$p=null);e=a.slice.call(arguments,1,arguments.length);e=q(l(c,"File"),"new",[b].concat(a.to_a(e)));return f!==g?a.yield1(f,e):e},p.$$arity=-2);a.def(b,
"$__dir__",h=function(){return""},h.$$arity=0)}(b[0],b)};Opal.modules["asciidoctor/js/opal_ext/file"]=function(a){var b=[],g=a.nil,l=a.const_get_relative,k=a.klass,q=a.truthy,h=a.gvars;a.add_stubs("$attr_reader $delete $gsub $read $size $to_enum $chomp $each_line $readlines $split".split(" "));(function(b,$super,c){b=k(b,$super,"File");var d=[b].concat(c),p,m,e,f;b.$$prototype.eof=b.$$prototype.path=g;b.$attr_reader("eof");b.$attr_reader("lineno");b.$attr_reader("path");a.def(b,"$initialize",p=function(a,
b){null==b&&(b="r");this.path=a;this.contents=g;this.eof=!1;this.lineno=0;b=b.$delete("b");return this.flags=b=b.$gsub(/:(.*)/,"")},p.$$arity=-2);a.def(b,"$read",m=function(){if(q(this.eof))return"";var a=l(d,"File").$read(this.path);this.eof=!0;this.lineno=a.$size();return a},m.$$arity=0);a.def(b,"$each_line",e=function(b){var f=e.$$p,c=f||g;null==h["/"]&&(h["/"]=g);f&&(e.$$p=null);f&&(e.$$p=null);null==b&&(b=h["/"]);if(q(this.eof))return c!==g?this:[].$to_enum();if(c!==g){f=l(d,"File").$read(this.path);
this.eof=!1;this.lineno=0;var m=f.$chomp();f=f.length!=m.length;m=m.split(b);for(var p=0,k=m.length;p<k;p++)this.lineno+=1,p<k-1||f?a.yield1(c,m[p]+b):a.yield1(c,m[p]);this.eof=!0;return this}return this.$read().$each_line()},e.$$arity=-1);a.def(b,"$readlines",f=function(){return l(d,"File").$readlines(this.path)},f.$$arity=0);return function(b,d){var e=[b].concat(d),f,c,m,p;a.def(b,"$readlines",f=function(a,b){null==h["/"]&&(h["/"]=g);null==b&&(b=h["/"]);return l(e,"File").$read(a).$split(b)},f.$$arity=
-2);a.def(b,"$file?",c=function(a){return!0},c.$$arity=1);a.def(b,"$readable?",m=function(a){return!0},m.$$arity=1);return(a.def(b,"$read",p=function(a){return""},p.$$arity=1),g)&&"read"}(a.get_singleton_class(b),d)})(b[0],null,b);return function(b,$super,c){b=k(b,$super,"IO");var d=[b].concat(c),p;return(a.defs(b,"$read",p=function(a){return l(d,"File").$read(a)},p.$$arity=1),g)&&"read"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(a){var b=[],g=a.nil,l=a.klass,k=a.send;
a.add_stubs(["$[]=","$-"]);return function(b,$super,d){b=l(b,$super,"MatchData");[b].concat(d);var c;b.$$prototype.matches=g;return(a.def(b,"$[]=",c=function(b,d){b=[b,d];k(this.matches,"[]=",a.to_a(b));d=b.length;d="number"===typeof d?d-1:d["$-"](1);return b[d]},c.$$arity=2),g)&&"[]="}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/string"]=function(a){var b=[],g=a.nil,l=a.klass,k=a.truthy;a.add_stubs("$method_defined? $< $length $bytes $to_s $byteslice $== $_original_unpack".split(" "));return function(b,
$super,d){b=l(b,$super,"String");[b].concat(d);var c,p;k(b["$method_defined?"]("limit_bytesize"))||a.def(b,"$limit_bytesize",c=function(a){var b=this.$bytes().$length();b="number"===typeof a&&"number"===typeof b?a<b:a["$<"](b);return k(b)?this.$byteslice(0,a).$to_s():this.$to_s()},c.$$arity=1);k(b["$method_defined?"]("limit"))||a.alias(b,"limit","limit_bytesize");a.alias(b,"_original_unpack","unpack");return(a.def(b,"$unpack",p=function(a){if(a["$=="]("C3")){a=[];for(var b=0;3>b;b++)b<this.length?
a.push(this.charCodeAt(b)):a.push(g);return a}return this.$_original_unpack(a)},p.$$arity=1),g)&&"unpack"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/uri"]=function(a){var b=[],g=a.const_get_relative,l=a.module;a.add_stubs(["$extend"]);return function(b,c){b=l(b,"URI");var h=[b].concat(c),d,q;a.defs(b,"$parse",d=function(a){return a.$extend(g(h,"URI"))},d.$$arity=1);a.def(b,"$path",q=function(){return this},q.$$arity=0)}(b[0],b)};Opal.modules["asciidoctor/js/opal_ext/base64"]=function(a){var b=
[],g=a.module,l=a.hash2,k=a.truthy;a.add_stubs(["$delete"]);return function(b,c){b=g(b,"Base64");[b].concat(c);var d,h,p,q,v,m;var e=a.global.btoa||function(a){return(a instanceof Buffer?a:Buffer.from(a.toString(),"binary")).toString("base64")};var f=a.global.atob||function(a){return Buffer.from(a,"base64").toString("binary")};a.defs(b,"$decode64",d=function(a){return f(a.replace(/\r?\n/g,""))},d.$$arity=1);a.defs(b,"$encode64",h=function(a){return e(a).replace(/(.{60})/g,"$1\n").replace(/([^\n])$/g,
"$1\n")},h.$$arity=1);a.defs(b,"$strict_decode64",p=function(a){return f(a)},p.$$arity=1);a.defs(b,"$strict_encode64",q=function(a){return e(a)},q.$$arity=1);a.defs(b,"$urlsafe_decode64",v=function(a){return f(a.replace(/\-/g,"+").replace(/_/g,"/"))},v.$$arity=1);a.defs(b,"$urlsafe_encode64",m=function(b,d){if(null==d)d=l([],{});else if(!d.$$is_hash)throw a.ArgumentError.$new("expected kwargs");d=d.$$smap.padding;null==d&&(d=!0);b=e(b).replace(/\+/g,"-").replace(/\//g,"_");k(d)||(b=b.$delete("="));
return b},m.$$arity=-2)}(b[0],b)};Opal.modules["asciidoctor/js/opal_ext/number"]=function(a){var b=[],g=a.nil,l=a.const_get_relative,k=a.klass,q=a.truthy;a.add_stubs(["$coerce_to!","$>"]);return function(b,$super,c){b=k(b,$super,"Number");var p=[b].concat(c),h;return(a.def(b,"$round",h=function(a){a=l(p,"Opal")["$coerce_to!"](a,l(p,"Integer"),"to_int");return q("number"===typeof a?0<a:a["$>"](0))?Number(this.toFixed(a)):Math.round(this)},h.$$arity=-1),g)&&"round"}(b[0],l(b,"Numeric"),b)};Opal.modules["asciidoctor/js/opal_ext"]=
function(a){var b=a.top;a.add_stubs(["$require"]);b.$require("asciidoctor/js/opal_ext/kernel");b.$require("asciidoctor/js/opal_ext/file");b.$require("asciidoctor/js/opal_ext/match_data");b.$require("asciidoctor/js/opal_ext/string");b.$require("asciidoctor/js/opal_ext/uri");b.$require("asciidoctor/js/opal_ext/base64");b.$require("asciidoctor/js/opal_ext/number");a.config.unsupported_features_severity="ignore";b.$require("asciidoctor/js/opal_ext/browser")};Opal.modules["asciidoctor/js/rx"]=function(a){function b(a,
b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var g=[],l=a.nil,k=a.const_get_relative,q=a.module,h=a.send,d=a.gvars,z=a.truthy;a.add_stubs(["$gsub","$+","$unpack_hex_range"]);return function(c,g){c=q(c,"Asciidoctor");var p=[c].concat(g),m;a.const_set(p[0],"HEX_RANGE_RX",/([A-F0-9]{4})(?:-([A-F0-9]{4}))?/);a.defs(c,"$unpack_hex_range",m=function(a){var b;return h(a,"gsub",[k(p,"HEX_RANGE_RX")],(b=function(){var a,b;return"\\u"+((a=d["~"])===l?l:a["$[]"](1))+(z(a=(b=d["~"])===l?l:
b["$[]"](2))?"-\\u"+((b=d["~"])===l?l:b["$[]"](2)):a)},b.$$s=this,b.$$arity=0,b))},m.$$arity=1);a.const_set(p[0],"P_L",b("A-Za-z",c.$unpack_hex_range("00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D037F03860388-038A038C038E-03A103A3-03F503F7-0481048A-052F0531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A0-08B20904-0939093D09500958-09610971-09800985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16F1-16F81700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191E1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A69DA6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A7ADA7B0A7B1A7F7-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFA9E0-A9E4A9E6-A9EFA9FA-A9FEAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA7E-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EAB30-AB5AAB5C-AB5FAB64AB65ABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC")));
a.const_set(p[0],"P_Nl",c.$unpack_hex_range("16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF"));a.const_set(p[0],"P_Nd",b("0-9",c.$unpack_hex_range("0660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0DE6-0DEF0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9A9F0-A9F9AA50-AA59ABF0-ABF9FF10-FF19")));a.const_set(p[0],
"P_Pc",c.$unpack_hex_range("005F203F20402054FE33FE34FE4D-FE4FFF3F"));a.const_set(p[0],"CC_ALPHA",""+k(p,"P_L")+k(p,"P_Nl"));a.const_set(p[0],"CG_ALPHA","["+k(p,"CC_ALPHA")+"]");a.const_set(p[0],"CC_ALNUM",""+k(p,"CC_ALPHA")+k(p,"P_Nd"));a.const_set(p[0],"CG_ALNUM","["+k(p,"CC_ALNUM")+"]");a.const_set(p[0],"CC_WORD",""+k(p,"CC_ALNUM")+k(p,"P_Pc"));a.const_set(p[0],"CG_WORD","["+k(p,"CC_WORD")+"]");a.const_set(p[0],"CG_BLANK","[ \\t]");a.const_set(p[0],"CC_EOL","(?=\\n|$)");a.const_set(p[0],"CG_GRAPH",
"[^\\s\\x00-\\x1F\\x7F]");a.const_set(p[0],"CC_ALL","[\\s\\S]");a.const_set(p[0],"CC_ANY","[^\\n]")}(g[0],g)};Opal.modules.strscan=function(a){var b=[],g=a.nil,l=a.klass,k=a.send;a.add_stubs("$attr_reader $anchor $scan_until $length $size $rest $pos= $- $private".split(" "));return function(b,$super,d){b=l(b,$super,"StringScanner");[b].concat(d);var c,p,q,v,m,e,f,t,n,B,r,R,J,y,u,w,ra,sa,A,D,ba,X,C,E,G;b.$$prototype.pos=b.$$prototype.string=b.$$prototype.working=b.$$prototype.matched=b.$$prototype.prev_pos=
b.$$prototype.match=g;b.$attr_reader("pos");b.$attr_reader("matched");a.def(b,"$initialize",c=function(a){this.string=a;this.pos=0;this.matched=g;this.working=a;return this.match=[]},c.$$arity=1);b.$attr_reader("string");a.def(b,"$beginning_of_line?",p=function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)},p.$$arity=0);a.alias(b,"bol?","beginning_of_line?");a.def(b,"$scan",q=function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=g:"object"===typeof a?(this.prev_pos=
this.pos,this.pos+=a[0].length,this.working=this.working.substring(a[0].length),this.matched=a[0],this.match=a,a[0]):"string"===typeof a?(this.pos+=a.length,this.working=this.working.substring(a.length),a):g},q.$$arity=1);a.def(b,"$scan_until",v=function(a){a=this.$anchor(a);for(var b=this.pos,d=this.working,e;;)if(e=a.exec(d),b+=1,d=d.substr(1),null==e){if(0===d.length)return this.matched=g}else return this.matched=this.string.substr(this.pos,b-this.pos-1+e[0].length),this.prev_pos=b-1,this.pos=
b,this.working=d.substr(e[0].length),this.matched},v.$$arity=1);a.def(b,"$[]",m=function(a){var b=this.match;0>a&&(a+=b.length);return 0>a||a>=b.length||null==b[a]?g:b[a]},m.$$arity=1);a.def(b,"$check",e=function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=g:this.matched=a[0]},e.$$arity=1);a.def(b,"$check_until",f=function(a){var b=this.prev_pos,d=this.pos;a=this.$scan_until(a);a!==g&&(this.matched=a.substr(-1),this.working=this.string.substr(d));this.prev_pos=b;this.pos=
d;return a},f.$$arity=1);a.def(b,"$peek",t=function(a){return this.working.substring(0,a)},t.$$arity=1);a.def(b,"$eos?",n=function(){return 0===this.working.length},n.$$arity=0);a.def(b,"$exist?",B=function(a){a=a.exec(this.working);return null==a?g:0==a.index?0:a.index+1},B.$$arity=1);a.def(b,"$skip",r=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return this.matched=g;a=a[0];var b=a.length;this.matched=a;this.prev_pos=this.pos;this.pos+=b;this.working=this.working.substring(b);
return b},r.$$arity=1);a.def(b,"$skip_until",R=function(a){a=this.$scan_until(a);if(a===g)return g;this.matched=a.substr(-1);return a.length},R.$$arity=1);a.def(b,"$get_byte",J=function(){var a=g;this.pos<this.string.length?(this.prev_pos=this.pos,this.pos+=1,a=this.matched=this.working.substring(0,1),this.working=this.working.substring(1)):this.matched=g;return a},J.$$arity=0);a.alias(b,"getch","get_byte");a.def(b,"$match?",y=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return g;
this.prev_pos=this.pos;return a[0].length},y.$$arity=1);a.def(b,"$pos=",u=function(a){0>a&&(a+=this.string.$length());this.pos=a;return this.working=this.string.slice(a)},u.$$arity=1);a.def(b,"$matched_size",w=function(){return this.matched===g?g:this.matched.length},w.$$arity=0);a.def(b,"$post_match",ra=function(){return this.matched===g?g:this.string.substr(this.pos)},ra.$$arity=0);a.def(b,"$pre_match",sa=function(){return this.matched===g?g:this.string.substr(0,this.prev_pos)},sa.$$arity=0);a.def(b,
"$reset",A=function(){this.working=this.string;this.matched=g;return this.pos=0},A.$$arity=0);a.def(b,"$rest",D=function(){return this.working},D.$$arity=0);a.def(b,"$rest?",ba=function(){return 0!==this.working.length},ba.$$arity=0);a.def(b,"$rest_size",X=function(){return this.$rest().$size()},X.$$arity=0);a.def(b,"$terminate",C=function(){this.match=g;var b=[this.string.$length()];k(this,"pos=",a.to_a(b));var d=b.length;d="number"===typeof d?d-1:d["$-"](1);return b[d]},C.$$arity=0);a.def(b,"$unscan",
E=function(){this.pos=this.prev_pos;this.match=this.prev_pos=g;return this},E.$$arity=0);b.$private();return(a.def(b,"$anchor",G=function(a){var b=a.toString().match(/\/([^\/]+)$/);b=b?b[1]:void 0;return new RegExp("^(?:"+a.source+")",b)},G.$$arity=1),g)&&"anchor"}(b[0],null,b)};Opal.modules["asciidoctor/js"]=function(a){var b=a.top;a.add_stubs(["$require"]);b.$require("asciidoctor/js/opal_ext");b.$require("asciidoctor/js/rx");return b.$require("strscan")};Opal.modules["asciidoctor/core_ext/nil_or_empty"]=
function(a){var b=[],g=a.nil,l=a.klass,k=a.truthy;a.add_stubs(["$method_defined?"]);(function(b,$super,d){b=l(b,$super,"NilClass");[b].concat(d);return k(b["$method_defined?"]("nil_or_empty?"))?g:a.alias(b,"nil_or_empty?","nil?")})(b[0],null,b);(function(b,$super,d){b=l(b,$super,"String");[b].concat(d);return k(b["$method_defined?"]("nil_or_empty?"))?g:a.alias(b,"nil_or_empty?","empty?")})(b[0],null,b);(function(b,$super,d){b=l(b,$super,"Array");[b].concat(d);return k(b["$method_defined?"]("nil_or_empty?"))?
g:a.alias(b,"nil_or_empty?","empty?")})(b[0],null,b);(function(b,$super,d){b=l(b,$super,"Hash");[b].concat(d);return k(b["$method_defined?"]("nil_or_empty?"))?g:a.alias(b,"nil_or_empty?","empty?")})(b[0],null,b);return function(b,$super,d){b=l(b,$super,"Numeric");[b].concat(d);return k(b["$method_defined?"]("nil_or_empty?"))?g:a.alias(b,"nil_or_empty?","nil?")}(b[0],null,b)};Opal.modules["asciidoctor/core_ext/hash/merge"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?
a<b:a["$<"](b)}var g,l=a.top,k=[],q=a.nil,h=a.const_get_relative,d=a.send,z=a.truthy,p=a.hash2;a.add_stubs("$== $arity $instance_method $send $new $< $length $> $inject $merge $[]".split(" "));return h(k,"Hash").$instance_method("merge").$arity()["$=="](1)?h(k,"Hash").$send("prepend",d(h(k,"Module"),"new",[],(g=function(){var c;return(a.def(g.$$s||this,"$merge",c=function(g){var m,e=q;c.$$p&&(c.$$p=null);var f=a.slice.call(arguments,0,arguments.length);return z(b(e=f.$length(),1))?d(this,a.find_super_dispatcher(this,
"merge",c,!1),[p([],{})],null):z("number"===typeof e?1<e:e["$>"](1))?d(f,"inject",[this],(m=function(a,b){null==a&&(a=q);null==b&&(b=q);return a.$merge(b)},m.$$s=this,m.$$arity=2,m)):d(this,a.find_super_dispatcher(this,"merge",c,!1),[f["$[]"](0)],null)},c.$$arity=-1),q)&&"merge"},g.$$s=l,g.$$arity=0,g))):q};Opal.modules["asciidoctor/core_ext/match_data/names"]=function(a){var b=[],g=a.nil,l=a.const_get_relative,k=a.truthy,q=a.klass;a.add_stubs(["$method_defined?"]);return k(l(b,"MatchData")["$method_defined?"]("names"))?
g:function(b,$super,c){b=q(b,$super,"MatchData");[b].concat(c);var p;return(a.def(b,"$names",p=function(){return[]},p.$$arity=0),g)&&"names"}(b[0],null,b)};Opal.modules["asciidoctor/core_ext"]=function(a){var b=a.top,g=a.nil,l=a.const_get_relative;a.add_stubs(["$=="]);b.$require("asciidoctor/core_ext.rb/../core_ext/nil_or_empty");b.$require("asciidoctor/core_ext.rb/../core_ext/hash/merge");return l([],"RUBY_ENGINE")["$=="]("opal")?b.$require("asciidoctor/core_ext.rb/../core_ext/match_data/names"):
g};Opal.modules["asciidoctor/helpers"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var l=[],k=a.nil,q=a.const_get_qualified,h=a.const_get_relative,d=a.module,z=a.truthy,p=a.gvars,t=a.send,n=a.hash2;a.add_stubs("$module_function $require $include? $include $== $=== $path $message $raise $warn $logger $chomp $empty? $slice $unpack $[] $byteslice $bytesize $[]= $- $map $rstrip $encode $encoding $nil_or_empty? $!= $tap $each_line $<< $match? $gsub $rindex $index $basename $extname $! $length $directory? $dirname $mkdir_p $mkdir $private_constant $join $divmod $* $+ $to_s $to_i $succ $class_for_name $const_get".split(" "));
return function(c,e){c=[d(c,"Asciidoctor")].concat(e);(function(e,c){e=d(e,"Helpers");var f=[e].concat(c),m,l,v,r,y,B,L,J,U,u,w,S,X,A,D,C;e.$module_function();a.def(e,"$require_library",m=function(b,d,e){var c=k,m=k;null==p["!"]&&(p["!"]=k);null==d&&(d=!0);null==e&&(e="abort");try{return this.$require(b)}catch(aa){if(a.rescue(aa,[q("::","LoadError")]))try{return z(this["$include?"](h(f,"Logging")))||this.$include(h(f,"Logging")),z(d)?(d["$=="](!0)&&(d=b),c=e,"abort"["$==="](c)?(m=p["!"].$path()["$=="](d)?
"":" (reason: "+(z(p["!"].$path())?"cannot load '"+p["!"].$path()+"'":p["!"].$message())+")",this.$raise(q("::","LoadError"),"asciidoctor: FAILED: required gem '"+d+"' is not available"+m+". Processing aborted.")):"warn"["$==="](c)&&(m=p["!"].$path()["$=="](d)?"":" (reason: "+(z(p["!"].$path())?"cannot load '"+p["!"].$path()+"'":p["!"].$message())+")",this.$logger().$warn("optional gem '"+d+"' is not available"+m+". Functionality disabled."))):(c=e,"abort"["$==="](c)?this.$raise(q("::","LoadError"),
"asciidoctor: FAILED: "+p["!"].$message().$chomp(".")+". Processing aborted."):"warn"["$==="](c)&&this.$logger().$warn(""+p["!"].$message().$chomp(".")+". Functionality disabled.")),k}finally{a.pop_exception()}else throw aa;}},m.$$arity=-2);a.def(e,"$prepare_source_array",l=function(d,e){var c,m,g,p,l,y,v,R,n=this,r=k,B=k,L=k;r=k;null==e&&(e=!0);if(z(d["$empty?"]()))return[];if((r=(B=(L=d["$[]"](0)).$unpack("C3")).$slice(0,2))["$=="](h(f,"BOM_BYTES_UTF_16LE")))return r=[0,L.$byteslice(2,L.$bytesize())],
t(d,"[]=",a.to_a(r)),r[b(r.length,1)],function(){return z(e)?t(d,"map",[],(c=function(a){null==a&&(a=k);return a.$encode(h(f,"UTF_8"),q(q("::","Encoding"),"UTF_16LE")).$rstrip()},c.$$s=n,c.$$arity=1,c)):t(d,"map",[],(m=function(a){null==a&&(a=k);return a.$encode(h(f,"UTF_8"),q(q("::","Encoding"),"UTF_16LE")).$chomp()},m.$$s=n,m.$$arity=1,m))}();if(r["$=="](h(f,"BOM_BYTES_UTF_16BE")))return r=[0,L.$byteslice(2,L.$bytesize())],t(d,"[]=",a.to_a(r)),r[b(r.length,1)],function(){return z(e)?t(d,"map",[],
(g=function(a){null==a&&(a=k);return a.$encode(h(f,"UTF_8"),q(q("::","Encoding"),"UTF_16BE")).$rstrip()},g.$$s=n,g.$$arity=1,g)):t(d,"map",[],(p=function(a){null==a&&(a=k);return a.$encode(h(f,"UTF_8"),q(q("::","Encoding"),"UTF_16BE")).$chomp()},p.$$s=n,p.$$arity=1,p))}();B["$=="](h(f,"BOM_BYTES_UTF_8"))&&(r=[0,L.$byteslice(3,L.$bytesize())],t(d,"[]=",a.to_a(r)),r[b(r.length,1)]);return L.$encoding()["$=="](h(f,"UTF_8"))?z(e)?t(d,"map",[],(l=function(a){null==a&&(a=k);return a.$rstrip()},l.$$s=n,
l.$$arity=1,l)):t(d,"map",[],(y=function(a){null==a&&(a=k);return a.$chomp()},y.$$s=n,y.$$arity=1,y)):z(e)?t(d,"map",[],(v=function(a){null==a&&(a=k);return a.$encode(h(f,"UTF_8")).$rstrip()},v.$$s=n,v.$$arity=1,v)):t(d,"map",[],(R=function(a){null==a&&(a=k);return a.$encode(h(f,"UTF_8")).$chomp()},R.$$s=n,R.$$arity=1,R))},l.$$arity=-2);a.def(e,"$prepare_source_string",v=function(a,b){var d,e,c=k,m=k;null==b&&(b=!0);if(z(a["$nil_or_empty?"]()))return[];(c=(m=a.$unpack("C3")).$slice(0,2))["$=="](h(f,
"BOM_BYTES_UTF_16LE"))?a=a.$byteslice(2,a.$bytesize()).$encode(h(f,"UTF_8"),q(q("::","Encoding"),"UTF_16LE")):c["$=="](h(f,"BOM_BYTES_UTF_16BE"))?a=a.$byteslice(2,a.$bytesize()).$encode(h(f,"UTF_8"),q(q("::","Encoding"),"UTF_16BE")):m["$=="](h(f,"BOM_BYTES_UTF_8"))?(a=a.$byteslice(3,a.$bytesize()),a.$encoding()["$=="](h(f,"UTF_8"))||(a=a.$encode(h(f,"UTF_8")))):z(a.$encoding()["$!="](h(f,"UTF_8")))&&(a=a.$encode(h(f,"UTF_8")));return z(b)?t([],"tap",[],(d=function(b){var e=d.$$s||this,f;null==b&&
(b=k);return t(a,"each_line",[],(f=function(a){null==a&&(a=k);return b["$<<"](a.$rstrip())},f.$$s=e,f.$$arity=1,f))},d.$$s=this,d.$$arity=1,d)):t([],"tap",[],(e=function(b){var d=e.$$s||this,f;null==b&&(b=k);return t(a,"each_line",[],(f=function(a){null==a&&(a=k);return b["$<<"](a.$chomp())},f.$$s=d,f.$$arity=1,f))},e.$$s=this,e.$$arity=1,e))},v.$$arity=-2);a.def(e,"$uriish?",r=function(a){var b;return z(b=a["$include?"](":"))?h(f,"UriSniffRx")["$match?"](a):b},r.$$arity=1);h(f,"RUBY_ENGINE")["$=="]("opal")?
a.def(e,"$encode_uri_component",y=function(a){return encodeURIComponent(a).replace(/%20|[!'()*]/g,function(a){return"%20"===a?"+":"%"+a.charCodeAt(0).toString(16)})},y.$$arity=1):k;a.def(e,"$encode_spaces_in_uri",B=function(a){return z(a["$include?"](" "))?a.$gsub(" ","%20"):a},B.$$arity=1);a.def(e,"$rootname",L=function(a){var b;return z(b=a.$rindex("."))?z(a.$index("/",b))?a:a.$slice(0,b):a},L.$$arity=1);a.def(e,"$basename",J=function(a,b){null==b&&(b=k);return z(b)?q("::","File").$basename(a,b["$=="](!0)?
this.$extname(a):b):q("::","File").$basename(a)},J.$$arity=-2);a.def(e,"$extname?",U=function(a){var b,d=k;return z(b=d=a.$rindex("."))?a.$index("/",d)["$!"]():b},U.$$arity=1);z(q(q("::","File"),"ALT_SEPARATOR"))?a.def(e,"$extname",u=function(a,b){var d,e;null==b&&(b="");return z(e=a.$rindex("."))?z(z(d=a.$index("/",e))?d:a.$index(q(q("::","File"),"ALT_SEPARATOR"),e))?b:a.$slice(e,a.$length()):b},u.$$arity=-2):a.def(e,"$extname",w=function(a,b){var d;null==b&&(b="");return z(d=a.$rindex("."))?z(a.$index("/",
d))?b:a.$slice(d,a.$length()):b},w.$$arity=-2);a.def(e,"$mkdir_p",S=function(b){var d;if(z(q("::","File")["$directory?"](b)))return k;(d=q("::","File").$dirname(b))["$=="](".")||this.$mkdir_p(d);try{return q("::","Dir").$mkdir(b)}catch(ka){if(a.rescue(ka,[q("::","SystemCallError")]))try{return z(q("::","File")["$directory?"](b))?k:this.$raise()}finally{a.pop_exception()}else throw ka;}},S.$$arity=1);a.const_set(f[0],"ROMAN_NUMERALS",n("M CM D CD C XC L XL X IX V IV I".split(" "),{M:1E3,CM:900,D:500,
CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1}));e.$private_constant("ROMAN_NUMERALS");a.def(e,"$int_to_roman",X=function(b){var d;return t(h(f,"ROMAN_NUMERALS"),"map",[],(d=function(d,e){null==d&&(d=k);null==e&&(e=k);var f=b.$divmod(e);e=a.to_ary(f);var c=null==e[0]?k:e[0];b=null==e[1]?k:e[1];f;return"number"===typeof d&&"number"===typeof c?d*c:d["$*"](c)},d.$$s=this,d.$$arity=2,d)).$join()},X.$$arity=1);a.def(e,"$nextval",A=function(a){var b;return z(q("::","Integer")["$==="](a))?g(a,1):
(b=a.$to_i()).$to_s()["$=="](a.$to_s())?g(b,1):a.$succ()},A.$$arity=1);a.def(e,"$resolve_class",D=function(a){return z(q("::","Class")["$==="](a))?a:z(q("::","String")["$==="](a))?this.$class_for_name(a):k},D.$$arity=1);a.def(e,"$class_for_name",C=function(b){var d=k;try{return z(q("::","Class")["$==="](d=q("::","Object").$const_get(b,!1)))||this.$raise(),d}catch(ka){if(a.rescue(ka,[h(f,"StandardError")]))try{return this.$raise(q("::","NameError"),"Could not resolve class for name: "+b)}finally{a.pop_exception()}else throw ka;
}},C.$$arity=1)})(c[0],c)}(l[0],l)};Opal.modules.logger=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}var g=[],l=a.nil,k=a.const_get_qualified,q=a.const_get_relative,h=a.klass,d=a.module,t=a.send,p=a.truthy;a.add_stubs("$include $to_h $map $constants $const_get $to_s $format $chr $strftime $message_as_string $=== $+ $message $class $join $backtrace $inspect $attr_reader $attr_accessor $new $key $upcase $raise $add $to_proc $<= $< $write $call $[] $now".split(" "));
return function(c,$super,m){c=h(c,$super,"Logger");var e=[c].concat(m),f,g,v,z,n,R,r,y,B,J,u,w,S,A,ba;c.$$prototype.level=c.$$prototype.progname=c.$$prototype.pipe=c.$$prototype.formatter=l;(function(b,e){b=[d(b,"Severity")].concat(e);a.const_set(b[0],"DEBUG",0);a.const_set(b[0],"INFO",1);a.const_set(b[0],"WARN",2);a.const_set(b[0],"ERROR",3);a.const_set(b[0],"FATAL",4);a.const_set(b[0],"UNKNOWN",5)})(e[0],e);c.$include(q(e,"Severity"));a.const_set(e[0],"SEVERITY_LABELS",t(q(e,"Severity").$constants(),
"map",[],(f=function(a){null==a&&(a=l);return[q(e,"Severity").$const_get(a),a.$to_s()]},f.$$s=c,f.$$arity=1,f)).$to_h());(function(b,$super,d){b=h(b,$super,"Formatter");var e=[b].concat(d),f,c;a.const_set(e[0],"MESSAGE_FORMAT","%s, [%s] %5s -- %s: %s\n");a.const_set(e[0],"DATE_TIME_FORMAT","%Y-%m-%dT%H:%M:%S.%6N");a.def(b,"$call",f=function(a,b,d,f){return this.$format(q(e,"MESSAGE_FORMAT"),a.$chr(),b.$strftime(q(e,"DATE_TIME_FORMAT")),a,d,this.$message_as_string(f))},f.$$arity=4);return(a.def(b,
"$message_as_string",c=function(a){var b,d=l;return function(){d=a;if(k("::","String")["$==="](d))return a;if(k("::","Exception")["$==="](d)){var e=""+a.$message()+" ("+a.$class()+")\n",f=(p(b=a.$backtrace())?b:[]).$join("\n");return"number"===typeof e&&"number"===typeof f?e+f:e["$+"](f)}return a.$inspect()}()},c.$$arity=1),l)&&"message_as_string"})(e[0],null,e);c.$attr_reader("level");c.$attr_accessor("progname");c.$attr_accessor("formatter");a.def(c,"$initialize",g=function(a){this.pipe=a;this.level=
q(e,"DEBUG");return this.formatter=q(e,"Formatter").$new()},g.$$arity=1);a.def(c,"$level=",v=function(a){var b;return p(k("::","Integer")["$==="](a))?this.level=a:p(b=q(e,"SEVERITY_LABELS").$key(a.$to_s().$upcase()))?this.level=b:this.$raise(q(e,"ArgumentError"),"invalid log level: "+a)},v.$$arity=1);a.def(c,"$info",z=function(a){var b=z.$$p,d=b||l;b&&(z.$$p=null);b&&(z.$$p=null);null==a&&(a=l);return t(this,"add",[q(e,"INFO"),l,a],d.$to_proc())},z.$$arity=-1);a.def(c,"$debug",n=function(a){var b=
n.$$p,d=b||l;b&&(n.$$p=null);b&&(n.$$p=null);null==a&&(a=l);return t(this,"add",[q(e,"DEBUG"),l,a],d.$to_proc())},n.$$arity=-1);a.def(c,"$warn",R=function(a){var b=R.$$p,d=b||l;b&&(R.$$p=null);b&&(R.$$p=null);null==a&&(a=l);return t(this,"add",[q(e,"WARN"),l,a],d.$to_proc())},R.$$arity=-1);a.def(c,"$error",r=function(a){var b=r.$$p,d=b||l;b&&(r.$$p=null);b&&(r.$$p=null);null==a&&(a=l);return t(this,"add",[q(e,"ERROR"),l,a],d.$to_proc())},r.$$arity=-1);a.def(c,"$fatal",y=function(a){var b=y.$$p,d=
b||l;b&&(y.$$p=null);b&&(y.$$p=null);null==a&&(a=l);return t(this,"add",[q(e,"FATAL"),l,a],d.$to_proc())},y.$$arity=-1);a.def(c,"$unknown",B=function(a){var b=B.$$p,d=b||l;b&&(B.$$p=null);b&&(B.$$p=null);null==a&&(a=l);return t(this,"add",[q(e,"UNKNOWN"),l,a],d.$to_proc())},B.$$arity=-1);a.def(c,"$info?",J=function(){return b(this.level,q(e,"INFO"))},J.$$arity=0);a.def(c,"$debug?",u=function(){return b(this.level,q(e,"DEBUG"))},u.$$arity=0);a.def(c,"$warn?",w=function(){return b(this.level,q(e,"WARN"))},
w.$$arity=0);a.def(c,"$error?",S=function(){return b(this.level,q(e,"ERROR"))},S.$$arity=0);a.def(c,"$fatal?",A=function(){return b(this.level,q(e,"FATAL"))},A.$$arity=0);return(a.def(c,"$add",ba=function(b,d,f){var c=ba.$$p,m=c||l,g;c&&(ba.$$p=null);c&&(ba.$$p=null);null==d&&(d=l);null==f&&(f=l);c=b=p(g=b)?g:q(e,"UNKNOWN");var h=this.level;c="number"===typeof c&&"number"===typeof h?c<h:c["$<"](h);if(p(c))return!0;f=p(g=f)?g:this.progname;p(d)||(m!==l?d=a.yieldX(m,[]):(d=f,f=this.progname));this.pipe.$write(this.formatter.$call(p(g=
q(e,"SEVERITY_LABELS")["$[]"](b))?g:"ANY",k("::","Time").$now(),f,d));return!0},ba.$$arity=-2),l)&&"add"}(g[0],null,g)};Opal.modules["asciidoctor/logging"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}var l=a.top,k=[],q=a.nil,h=a.const_get_qualified,d=a.const_get_relative,t=a.module,p=a.klass,n=a.send,r=a.truthy,m=a.hash2,e=a.gvars;a.add_stubs("$require $attr_reader $progname= $- $new $formatter= $level= $> $[] $=== $inspect $tap $each $constants $const_get $[]= $<< $clear $empty? $max $map $attr_accessor $memoize_logger $private $private_class_method $extend $logger $merge".split(" "));
l.$require("logger");return function(f,c){f=[t(f,"Asciidoctor")].concat(c);(function(e,$super,f){e=p(e,$super,"Logger");var c=[e].concat(f),l,k;e.$$prototype.max_severity=q;e.$attr_reader("max_severity");a.def(e,"$initialize",l=function(e){var f=l.$$p,m;f&&(l.$$p=null);var g=0;var p=arguments.length;for(m=Array(p);g<p;g++)m[g]=arguments[g];a.slice.call(arguments,0,arguments.length);n(this,a.find_super_dispatcher(this,"initialize",l,!1),m,f);f=["asciidoctor"];n(this,"progname=",a.to_a(f));f[b(f.length,
1)];f=[d(c,"BasicFormatter").$new()];n(this,"formatter=",a.to_a(f));f[b(f.length,1)];f=[d(c,"WARN")];n(this,"level=",a.to_a(f));return f[b(f.length,1)]},l.$$arity=-1);a.def(e,"$add",k=function(b,e,f){var m,p=k.$$p,h;p&&(k.$$p=null);var l=0;var y=arguments.length;for(h=Array(y);l<y;l++)h[l]=arguments[l];null==e&&(e=q);null==f&&(f=q);r(g(b=r(m=b)?m:d(c,"UNKNOWN"),this.max_severity=r(m=this.max_severity)?m:b))&&(this.max_severity=b);return n(this,a.find_super_dispatcher(this,"add",k,!1),h,p)},k.$$arity=
-2);(function(b,$super,e){b=p(b,$super,"BasicFormatter");var f=[b].concat(e),c;a.const_set(f[0],"SEVERITY_LABELS",m(["WARN","FATAL"],{WARN:"WARNING",FATAL:"FAILED"}));return(a.def(b,"$call",c=function(a,b,e,c){var m;return""+e+": "+(r(m=d(f,"SEVERITY_LABELS")["$[]"](a))?m:a)+": "+(r(h("::","String")["$==="](c))?c:c.$inspect())+d(f,"LF")},c.$$arity=4),q)&&"call"})(c[0],d(c,"Formatter"),c);return function(b,d){b=t(b,"AutoFormattingMessage");[b].concat(d);var e;a.def(b,"$inspect",e=function(){var a;
return r(a=this["$[]"]("source_location"))?""+a+": "+this["$[]"]("text"):this["$[]"]("text")},e.$$arity=0)}(c[0],c)})(f[0],h("::","Logger"),f);(function(e,$super,f){e=p(e,$super,"MemoryLogger");var c=[e].concat(f),g,h,l,k,v,t;e.$$prototype.messages=q;a.const_set(c[0],"SEVERITY_LABELS",n(m([],{}),"tap",[],(g=function(e){var f=g.$$s||this,m;null==e&&(e=q);return n(d(c,"Severity").$constants(!1),"each",[],(m=function(f){null==f&&(f=q);f=[d(c,"Severity").$const_get(f,!1),f];n(e,"[]=",a.to_a(f));return f[b(f.length,
1)]},m.$$s=f,m.$$arity=1,m))},g.$$s=e,g.$$arity=1,g)));e.$attr_reader("messages");a.def(e,"$initialize",h=function(){var e=[d(c,"WARN")];n(this,"level=",a.to_a(e));e[b(e.length,1)];return this.messages=[]},h.$$arity=0);a.def(e,"$add",l=function(b,e,f){var g=l.$$p,p=g||q;g&&(l.$$p=null);null==e&&(e=q);null==f&&(f=q);r(e)||(e=p!==q?a.yieldX(p,[]):f);this.messages["$<<"](m(["severity","message"],{severity:d(c,"SEVERITY_LABELS")["$[]"](r(b)?b:d(c,"UNKNOWN")),message:e}));return!0},l.$$arity=-2);a.def(e,
"$clear",k=function(){return this.messages.$clear()},k.$$arity=0);a.def(e,"$empty?",v=function(){return this.messages["$empty?"]()},v.$$arity=0);return(a.def(e,"$max_severity",t=function(){var a;return r(this["$empty?"]())?q:n(this.messages,"map",[],(a=function(a){null==a&&(a=q);return d(c,"Severity").$const_get(a["$[]"]("severity"),!1)},a.$$s=this,a.$$arity=1,a)).$max()},t.$$arity=0),q)&&"max_severity"})(f[0],h("::","Logger"),f);(function(e,$super,f){e=p(e,$super,"NullLogger");var c=[e].concat(f),
m,h;e.$$prototype.max_severity=q;e.$attr_reader("max_severity");a.def(e,"$initialize",m=function(){var e=[d(c,"WARN")];n(this,"level=",a.to_a(e));return e[b(e.length,1)]},m.$$arity=0);return(a.def(e,"$add",h=function(a,b,e){var f;r(g(a=r(f=a)?f:d(c,"UNKNOWN"),this.max_severity=r(f=this.max_severity)?f:a))&&(this.max_severity=a);return!0},h.$$arity=-2),q)&&"add"})(f[0],h("::","Logger"),f);(function(b,f){b=t(b,"LoggerManager");f=[b].concat(f);b.logger_class=d(f,"Logger");(function(b,d){var f=[b].concat(d),
c,m,g;b.$attr_accessor("logger_class");a.def(b,"$logger",c=function(a){var b;null==this.logger&&(this.logger=q);null==this.logger_class&&(this.logger_class=q);null==e.stderr&&(e.stderr=q);null==a&&(a=e.stderr);this.$memoize_logger();return this.logger=r(b=this.logger)?b:this.logger_class.$new(a)},c.$$arity=-1);a.def(b,"$logger=",m=function(a){null==this.logger_class&&(this.logger_class=q);null==e.stderr&&(e.stderr=q);return this.logger=r(a)?a:this.logger_class.$new(e.stderr)},m.$$arity=1);b.$private();
return(a.def(b,"$memoize_logger",g=function(){var b=a.get_singleton_class(this);[b].concat(f);a.alias(b,"logger","logger");return b.$attr_reader("logger")},g.$$arity=0),q)&&"memoize_logger"})(a.get_singleton_class(b),f)})(f[0],f);(function(b,e){b=t(b,"Logging");var f=[b].concat(e),c,g,p,l;b.$private_class_method(r(c=(a.defs(b,"$included",g=function(a){return a.$extend(d(f,"Logging"))},g.$$arity=1),q)&&"included")?c:"included");a.def(b,"$logger",p=function(){return d(f,"LoggerManager").$logger()},
p.$$arity=0);a.def(b,"$message_with_context",l=function(a,b){null==b&&(b=m([],{}));return m(["text"],{text:a}).$merge(b).$extend(h(d(f,"Logger"),"AutoFormattingMessage"))},l.$$arity=-2)})(f[0],f)}(k[0],k)};Opal.modules["asciidoctor/rx"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var g=[],l=a.nil,k=a.const_get_qualified,q=a.const_get_relative,h=a.module,d=a.hash2,t=a.send,p=a.truthy,n=a.hash;a.add_stubs("$== $join $to_a $new $empty? $escape $[]= $-".split(" "));
return function(c,m){c=h(c,"Asciidoctor");var e=[c].concat(m),f,g;(function(a,b){[h(a,"Rx")].concat(b);l})(e[0],e);a.const_set(e[0],"AuthorInfoLineRx",new RegExp("^("+q(e,"CG_WORD")+"["+q(e,"CC_WORD")+"\\-'.]*)(?: +("+q(e,"CG_WORD")+"["+q(e,"CC_WORD")+"\\-'.]*))?(?: +("+q(e,"CG_WORD")+"["+q(e,"CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$"));a.const_set(e[0],"AuthorDelimiterRx",/;(?: |$)/);a.const_set(e[0],"RevisionInfoLineRx",new RegExp("^(?:[^\\d{]*("+q(e,"CC_ANY")+"*?),)? *(?!:)("+q(e,"CC_ANY")+"*?)(?: *(?!^),?: *("+
q(e,"CC_ANY")+"*))?$"));a.const_set(e[0],"ManpageTitleVolnumRx",new RegExp("^("+q(e,"CC_ANY")+"+?) *\\( *("+q(e,"CC_ANY")+"+?) *\\)$"));a.const_set(e[0],"ManpageNamePurposeRx",new RegExp("^("+q(e,"CC_ANY")+"+?) +- +("+q(e,"CC_ANY")+"+)$"));a.const_set(e[0],"ConditionalDirectiveRx",new RegExp("^(\\\\)?(ifdef|ifndef|ifeval|endif)::(\\S*?(?:([,+])\\S*?)?)\\[("+q(e,"CC_ANY")+"+)?\\]$"));a.const_set(e[0],"EvalExpressionRx",new RegExp("^("+q(e,"CC_ANY")+"+?) *([=!><]=|[><]) *("+q(e,"CC_ANY")+"+)$"));a.const_set(e[0],
"IncludeDirectiveRx",new RegExp("^(\\\\)?include::([^\\[][^\\[]*)\\[("+q(e,"CC_ANY")+"+)?\\]$"));a.const_set(e[0],"TagDirectiveRx",/\b(?:tag|(e)nd)::(\S+?)\[\](?=$|[ \r])/m);a.const_set(e[0],"AttributeEntryRx",new RegExp("^:(!?"+q(e,"CG_WORD")+"[^:]*):(?:[ \\t]+("+q(e,"CC_ANY")+"*))?$"));a.const_set(e[0],"InvalidAttributeNameCharsRx",new RegExp("[^"+q(e,"CC_WORD")+"-]"));q(e,"RUBY_ENGINE")["$=="]("opal")?a.const_set(e[0],"AttributeEntryPassMacroRx",new RegExp("^pass:([a-z]+(?:,[a-z-]+)*)?\\[("+q(e,
"CC_ALL")+"*)\\]$")):l;a.const_set(e[0],"AttributeReferenceRx",new RegExp("(\\\\)?\\{("+q(e,"CG_WORD")+"["+q(e,"CC_WORD")+"-]*|(set|counter2?):"+q(e,"CC_ANY")+"+?)(\\\\)?\\}"));a.const_set(e[0],"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+q(e,"CC_ALPHA")+"_:]["+q(e,"CC_WORD")+"\\-:.]*)(?:, *("+q(e,"CC_ANY")+"+))?)\\]\\]$"));a.const_set(e[0],"BlockAttributeListRx",new RegExp("^\\[(|["+q(e,"CC_WORD")+".#%{,\"']"+q(e,"CC_ANY")+"*)\\]$"));a.const_set(e[0],"BlockAttributeLineRx",new RegExp("^\\[(?:|["+q(e,
"CC_WORD")+".#%{,\"']"+q(e,"CC_ANY")+"*|\\[(?:|["+q(e,"CC_ALPHA")+"_:]["+q(e,"CC_WORD")+"\\-:.]*(?:, *"+q(e,"CC_ANY")+"+)?)\\])\\]$"));a.const_set(e[0],"BlockTitleRx",new RegExp("^\\.(\\.?[^ \\t.]"+q(e,"CC_ANY")+"*)$"));a.const_set(e[0],"AdmonitionParagraphRx",new RegExp("^("+q(e,"ADMONITION_STYLES").$to_a().$join("|")+"):[ \\t]+"));a.const_set(e[0],"LiteralParagraphRx",new RegExp("^([ \\t]+"+q(e,"CC_ANY")+"*)$"));a.const_set(e[0],"AtxSectionTitleRx",new RegExp("^(=={0,5})[ \\t]+("+q(e,"CC_ANY")+
"+?)(?:[ \\t]+\\1)?$"));a.const_set(e[0],"ExtAtxSectionTitleRx",new RegExp("^(=={0,5}|#\\#{0,5})[ \\t]+("+q(e,"CC_ANY")+"+?)(?:[ \\t]+\\1)?$"));a.const_set(e[0],"SetextSectionTitleRx",new RegExp("^((?!\\.)"+q(e,"CC_ANY")+"*?"+q(e,"CG_ALNUM")+q(e,"CC_ANY")+"*)$"));a.const_set(e[0],"InlineSectionAnchorRx",new RegExp(" (\\\\)?\\[\\[(["+q(e,"CC_ALPHA")+"_:]["+q(e,"CC_WORD")+"\\-:.]*)(?:, *("+q(e,"CC_ANY")+"+))?\\]\\]$"));a.const_set(e[0],"InvalidSectionIdCharsRx",new RegExp("<[^>]+>|&(?:[a-z][a-z]+\\d{0,2}|#\\d\\d\\d{0,4}|#x[\\da-f][\\da-f][\\da-f]{0,3});|[^ "+
q(e,"CC_WORD")+"\\-.]+?"));a.const_set(e[0],"SectionLevelStyleRx",/^sect\d$/);a.const_set(e[0],"AnyListRx",new RegExp("^(?:[ \\t]*(?:-|\\*\\**|\\.\\.*|\\u2022|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]|(?!//[^/])[ \\t]*[^ \\t]"+q(e,"CC_ANY")+"*?(?::::{0,2}|;;)(?:$|[ \\t])|<(?:\\d+|\\.)>[ \\t])"));a.const_set(e[0],"UnorderedListRx",new RegExp("^[ \\t]*(-|\\*\\**|\\u2022)[ \\t]+("+q(e,"CC_ANY")+"*)$"));a.const_set(e[0],"OrderedListRx",new RegExp("^[ \\t]*(\\.\\.*|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]+("+
q(e,"CC_ANY")+"*)$"));a.const_set(e[0],"OrderedListMarkerRxMap",d(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/}));a.const_set(e[0],"DescriptionListRx",new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+q(e,"CC_ANY")+"*?)(:::{0,2}|;;)(?:$|[ \\t]+("+q(e,"CC_ANY")+"*)$)"));a.const_set(e[0],"DescriptionListSiblingRx",d(["::",":::","::::",";;"],{"::":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+q(e,
"CC_ANY")+"*?[^:]|[^ \\t:])(::)(?:$|[ \\t]+("+q(e,"CC_ANY")+"*)$)"),":::":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+q(e,"CC_ANY")+"*?[^:]|[^ \\t:])(:::)(?:$|[ \\t]+("+q(e,"CC_ANY")+"*)$)"),"::::":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+q(e,"CC_ANY")+"*?[^:]|[^ \\t:])(::::)(?:$|[ \\t]+("+q(e,"CC_ANY")+"*)$)"),";;":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+q(e,"CC_ANY")+"*?)(;;)(?:$|[ \\t]+("+q(e,"CC_ANY")+"*)$)")}));a.const_set(e[0],"CalloutListRx",new RegExp("^<(\\d+|\\.)>[ \\t]+("+q(e,"CC_ANY")+"*)$"));
a.const_set(e[0],"CalloutExtractRx",/((?:\/\/|#|--|;;) ?)?(\\)?<!?(|--)(\d+|\.)\3>(?=(?: ?\\?<!?\3(?:\d+|\.)\3>)*$)/);a.const_set(e[0],"CalloutExtractRxt","(\\\\)?<()(\\d+|\\.)>(?=(?: ?\\\\?<(?:\\d+|\\.)>)*$)");a.const_set(e[0],"CalloutExtractRxMap",t(k("::","Hash"),"new",[],(f=function(d,f){null==d&&(d=l);null==f&&(f=l);f=[f,new RegExp("("+(p(f["$empty?"]())?"":""+k("::","Regexp").$escape(f)+" ?")+")?"+q(e,"CalloutExtractRxt"))];t(d,"[]=",a.to_a(f));return f[b(f.length,1)]},f.$$s=c,f.$$arity=2,f)));
a.const_set(e[0],"CalloutScanRx",new RegExp("\\\\?<!?(|--)(\\d+|\\.)\\1>(?=(?: ?\\\\?<!?\\1(?:\\d+|\\.)\\1>)*"+q(e,"CC_EOL")+")"));a.const_set(e[0],"CalloutSourceRx",new RegExp("((?://|#|--|;;) ?)?(\\\\)?&lt;!?(|--)(\\d+|\\.)\\3&gt;(?=(?: ?\\\\?&lt;!?\\3(?:\\d+|\\.)\\3&gt;)*"+q(e,"CC_EOL")+")"));a.const_set(e[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+|\\.)&gt;(?=(?: ?\\\\?&lt;(?:\\d+|\\.)&gt;)*"+q(e,"CC_EOL")+")");a.const_set(e[0],"CalloutSourceRxMap",t(k("::","Hash"),"new",[],(g=function(d,f){null==
d&&(d=l);null==f&&(f=l);f=[f,new RegExp("("+(p(f["$empty?"]())?"":""+k("::","Regexp").$escape(f)+" ?")+")?"+q(e,"CalloutSourceRxt"))];t(d,"[]=",a.to_a(f));return f[b(f.length,1)]},g.$$s=c,g.$$arity=2,g)));a.const_set(e[0],"ListRxMap",d(["ulist","olist","dlist","colist"],{ulist:q(e,"UnorderedListRx"),olist:q(e,"OrderedListRx"),dlist:q(e,"DescriptionListRx"),colist:q(e,"CalloutListRx")}));a.const_set(e[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?|~)?([a-z])?$/);a.const_set(e[0],
"CellSpecStartRx",/^[ \t]*(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/);a.const_set(e[0],"CellSpecEndRx",/[ \t]+(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/);a.const_set(e[0],"CustomBlockMacroRx",new RegExp("^("+q(e,"CG_WORD")+"["+q(e,"CC_WORD")+"-]*)::(|\\S|\\S"+q(e,"CC_ANY")+"*?\\S)\\[("+q(e,"CC_ANY")+"+)?\\]$"));a.const_set(e[0],"BlockMediaMacroRx",new RegExp("^(image|video|audio)::(\\S|\\S"+q(e,"CC_ANY")+
"*?\\S)\\[("+q(e,"CC_ANY")+"+)?\\]$"));a.const_set(e[0],"BlockTocMacroRx",new RegExp("^toc::\\[("+q(e,"CC_ANY")+"+)?\\]$"));a.const_set(e[0],"InlineAnchorRx",new RegExp("(\\\\)?(?:\\[\\[(["+q(e,"CC_ALPHA")+"_:]["+q(e,"CC_WORD")+"\\-:.]*)(?:, *("+q(e,"CC_ANY")+"+?))?\\]\\]|anchor:(["+q(e,"CC_ALPHA")+"_:]["+q(e,"CC_WORD")+"\\-:.]*)\\[(?:\\]|("+q(e,"CC_ANY")+"*?[^\\\\])\\]))"));a.const_set(e[0],"InlineAnchorScanRx",new RegExp("(?:^|[^\\\\\\[])\\[\\[(["+q(e,"CC_ALPHA")+"_:]["+q(e,"CC_WORD")+"\\-:.]*)(?:, *("+
q(e,"CC_ANY")+"+?))?\\]\\]|(?:^|[^\\\\])anchor:(["+q(e,"CC_ALPHA")+"_:]["+q(e,"CC_WORD")+"\\-:.]*)\\[(?:\\]|("+q(e,"CC_ANY")+"*?[^\\\\])\\])"));a.const_set(e[0],"LeadingInlineAnchorRx",new RegExp("^\\[\\[(["+q(e,"CC_ALPHA")+"_:]["+q(e,"CC_WORD")+"\\-:.]*)(?:, *("+q(e,"CC_ANY")+"+?))?\\]\\]"));a.const_set(e[0],"InlineBiblioAnchorRx",new RegExp("^\\[\\[\\[(["+q(e,"CC_ALPHA")+"_:]["+q(e,"CC_WORD")+"\\-:.]*)(?:, *("+q(e,"CC_ANY")+"+?))?\\]\\]\\]"));a.const_set(e[0],"InlineEmailRx",new RegExp("([\\\\>:/])?"+
q(e,"CG_WORD")+"(?:&amp;|["+q(e,"CC_WORD")+"\\-.%+])*@"+q(e,"CG_ALNUM")+"["+q(e,"CC_ALNUM")+"_\\-.]*\\.[a-zA-Z]{2,5}\\b"));a.const_set(e[0],"InlineFootnoteMacroRx",new RegExp("\\\\?footnote(?:(ref):|:(["+q(e,"CC_WORD")+"-]+)?)\\[(?:|("+q(e,"CC_ALL")+"*?[^\\\\]))\\](?!</a>)","m"));a.const_set(e[0],"InlineImageMacroRx",new RegExp("\\\\?i(?:mage|con):([^:\\s\\[](?:[^\\n\\[]*[^\\s\\[])?)\\[(|"+q(e,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(e[0],"InlineIndextermMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+
q(e,"CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+q(e,"CC_ALL")+"+?)\\)\\)(?!\\)))","m"));a.const_set(e[0],"InlineKbdBtnMacroRx",new RegExp("(\\\\)?(kbd|btn):\\[("+q(e,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(e[0],"InlineLinkRx",new RegExp("(^|link:|"+q(e,"CG_BLANK")+"|&lt;|[>\\(\\)\\[\\];\"'])(\\\\?(?:https?|file|ftp|irc)://[^\\s\\[\\]<]*([^\\s.,\\[\\]<]))(?:\\[(|"+q(e,"CC_ALL")+"*?[^\\\\])\\])?","m"));a.const_set(e[0],"InlineLinkMacroRx",new RegExp("\\\\?(?:link|(mailto)):(|[^:\\s\\[][^\\s\\[]*)\\[(|"+q(e,
"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(e[0],"MacroNameRx",new RegExp("^"+q(e,"CG_WORD")+"["+q(e,"CC_WORD")+"-]*$"));a.const_set(e[0],"InlineStemMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z]+(?:,[a-z-]+)*)?\\[("+q(e,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(e[0],"InlineMenuMacroRx",new RegExp("\\\\?menu:("+q(e,"CG_WORD")+"|["+q(e,"CC_WORD")+"&][^\\n\\[]*[^\\s\\[])\\[ *(?:|("+q(e,"CC_ALL")+"*?[^\\\\]))\\]","m"));a.const_set(e[0],"InlineMenuRx",new RegExp('\\\\?"(['+q(e,"CC_WORD")+
'&][^"]*?[ \\n]+&gt;[ \\n]+[^"]*)"'));a.const_set(e[0],"InlinePassRx",n(!1,["+","`",new RegExp("(^|[^"+q(e,"CC_WORD")+";:])(?:\\[([^\\]]+)\\])?(\\\\?(\\+|`)(\\S|\\S"+q(e,"CC_ALL")+"*?\\S)\\4)(?!"+q(e,"CG_WORD")+")","m")],!0,["`",l,new RegExp("(^|[^`"+q(e,"CC_WORD")+"])(?:\\[([^\\]]+)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+q(e,"CC_ALL")+"*?\\S)\\4)(?![`"+q(e,"CC_WORD")+"])","m")]));a.const_set(e[0],"SinglePlusInlinePassRx",new RegExp("^(\\\\)?\\+(\\S|\\S"+q(e,"CC_ALL")+"*?\\S)\\+$","m"));a.const_set(e[0],
"InlinePassMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+)\\])?(\\\\{0,2})(\\+\\+\\+?|\\$\\$)("+q(e,"CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z]+(?:,[a-z-]+)*)?\\[(|"+q(e,"CC_ALL")+"*?[^\\\\])\\])","m"));a.const_set(e[0],"InlineXrefMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+q(e,"CC_WORD")+"#/.:{]"+q(e,"CC_ALL")+"*?)&gt;&gt;|xref:(["+q(e,"CC_WORD")+"#/.:{]"+q(e,"CC_ALL")+"*?)\\[(?:\\]|("+q(e,"CC_ALL")+"*?[^\\\\])\\]))","m"));q(e,"RUBY_ENGINE")["$=="]("opal")?a.const_set(e[0],"HardLineBreakRx",new RegExp("^("+
q(e,"CC_ANY")+"*) \\+$","m")):l;a.const_set(e[0],"MarkdownThematicBreakRx",/^ {0,3}([-*_])( *)\1\2\1$/);a.const_set(e[0],"ExtLayoutBreakRx",/^(?:'{3,}|<{3,}|([-*_])( *)\1\2\1)$/);a.const_set(e[0],"BlankLineRx",/\n{2,}/);a.const_set(e[0],"EscapedSpaceRx",/\\([ \t\n])/);a.const_set(e[0],"ReplaceableTextRx",/[&']|--|\.\.\.|\([CRT]M?\)/);a.const_set(e[0],"SpaceDelimiterRx",/([^\\])[ \t\n]+/);a.const_set(e[0],"SubModifierSniffRx",/[+-]/);a.const_set(e[0],"TrailingDigitsRx",/\d+$/);a.const_set(e[0],"UriSniffRx",
new RegExp("^"+q(e,"CG_ALPHA")+"["+q(e,"CC_ALNUM")+".+-]+:/{0,2}"));a.const_set(e[0],"XmlSanitizeRx",/<[^>]+>/)}(g[0],g)};Opal.modules["asciidoctor/substitutors"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function q(a,b){return"number"===
typeof a&&"number"===typeof b?a*b:a["$*"](b)}var h=[],d=a.nil,t=a.const_get_qualified,p=a.const_get_relative,n=a.slice,r=a.module,m=a.hash2,e=a.hash,f=a.truthy,u=a.send,w=a.gvars;a.add_stubs("$freeze $+ $keys $empty? $! $=== $[] $join $include? $extract_passthroughs $each $sub_specialchars $sub_quotes $sub_attributes $sub_replacements $sub_macros $highlight_source $sub_callouts $sub_post_replacements $warn $logger $restore_passthroughs $clear $split $apply_subs $== $gsub $match? $compat_mode $convert_quoted_text $attributes $shift $store_attribute $!= $attribute_undefined $counter $key? $downcase $attribute_missing $info $squeeze $delete $reject $start_with? $do_replacement $extensions $inline_macros? $inline_macros $regexp $instance $slice $length $names $config $merge $[]= $- $normalize_text $parse_attributes $process_method $expand_subs $text $text= $convert $class $strip $> $index $min $compact $end_with? $map $chop $new $pop $rstrip $register $tr $basename $parse $<< $lstrip $split_simple_csv $partition $extract_attributes_from_text $sub $encode_uri_component $style $extname? $rindex $info? $catalog $fetch $outfilesuffix $natural_xrefs $resolve_id $find $footnotes $id $< $size $attr? $attr $to_s $read_next_id $callouts $syntax_highlighter $highlight? $sub_source $extract_callouts $name $to_sym $to_i $resolve_lines_to_highlight $highlight $nil_or_empty? $restore_callouts $count $to_a $| $sort $* $parse_quoted_text_attributes $resolve_pass_subs $extract_inner_passthrough $basebackend? $error $chr $drop $& $resolve_subs $resolve_block_subs $parse_into $private $=~ $shorthand_property_syntax $concat $each_char".split(" "));
return function(c,h){c=[r(c,"Asciidoctor")].concat(h);(function(c,h){c=r(c,"Substitutors");var y=[c].concat(h),v,z,R,B,L,V,J,S,U,A,D,C,ia,E,W,G,x,I,ta,T,na,ja,ca,K,M,N,ha,ua,da,va,Aa;a.const_set(y[0],"SpecialCharsRx",/[<&>]/);a.const_set(y[0],"SpecialCharsTr",m([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"}));a.const_set(y[0],"QuotedTextSniffRx",e(!1,/[*_`#^~]/,!0,/[*'_+#^~]/));a.const_set(y[0],"BASIC_SUBS",["specialcharacters"]).$freeze();a.const_set(y[0],"HEADER_SUBS",["specialcharacters","attributes"]).$freeze();
a.const_set(y[0],"NO_SUBS",[]).$freeze();a.const_set(y[0],"NORMAL_SUBS","specialcharacters quotes attributes replacements macros post_replacements".split(" ")).$freeze();a.const_set(y[0],"REFTEXT_SUBS",["specialcharacters","quotes","replacements"]).$freeze();a.const_set(y[0],"VERBATIM_SUBS",["specialcharacters","callouts"]).$freeze();a.const_set(y[0],"SUB_GROUPS",m(["none","normal","verbatim","specialchars"],{none:p(y,"NO_SUBS"),normal:p(y,"NORMAL_SUBS"),verbatim:p(y,"VERBATIM_SUBS"),specialchars:p(y,
"BASIC_SUBS")}));a.const_set(y[0],"SUB_HINTS",m("amnpqrcv".split(""),{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"}));a.const_set(y[0],"SUB_OPTIONS",m(["block","inline"],{block:b(b(p(y,"SUB_GROUPS").$keys(),p(y,"NORMAL_SUBS")),["callouts"]),inline:b(p(y,"SUB_GROUPS").$keys(),p(y,"NORMAL_SUBS"))}));a.const_set(y[0],"CAN","\u0018");a.const_set(y[0],"DEL","\u007f");a.const_set(y[0],"PASS_START","\u0096");a.const_set(y[0],"PASS_END",
"\u0097");a.const_set(y[0],"PassSlotRx",new RegExp(""+p(y,"PASS_START")+"(\\d+)"+p(y,"PASS_END")));a.const_set(y[0],"HighlightedPassSlotRx",new RegExp("<span\\b[^>]*>"+p(y,"PASS_START")+"</span>[^\\d]*(\\d+)[^\\d]*<span\\b[^>]*>"+p(y,"PASS_END")+"</span>"));a.const_set(y[0],"RS","\\");a.const_set(y[0],"R_SB","]");a.const_set(y[0],"ESC_R_SB","\\]");a.const_set(y[0],"PLUS","+");a.def(c,"$apply_subs",v=function(a,b){var e,c,m=d,g=d,h=d;null==this.passthroughs&&(this.passthroughs=d);null==this.passthroughs_locked&&
(this.passthroughs_locked=d);null==b&&(b=p(y,"NORMAL_SUBS"));if(f(f(e=a["$empty?"]())?e:b["$!"]()))return a;f(m=t("::","Array")["$==="](a))&&(a=f(a["$[]"](1))?a.$join(p(y,"LF")):a["$[]"](0));f(b["$include?"]("macros"))&&(a=this.$extract_passthroughs(a),f(this.passthroughs["$empty?"]())||(g=this.passthroughs,this.passthroughs_locked=f(e=this.passthroughs_locked)?e:h=!0));u(b,"each",[],(c=function(e){var m=c.$$s||this;null==e&&(e=d);var g=e;return"specialcharacters"["$==="](g)?a=m.$sub_specialchars(a):
"quotes"["$==="](g)?a=m.$sub_quotes(a):"attributes"["$==="](g)?f(a["$include?"](p(y,"ATTR_REF_HEAD")))?a=m.$sub_attributes(a):d:"replacements"["$==="](g)?a=m.$sub_replacements(a):"macros"["$==="](g)?a=m.$sub_macros(a):"highlight"["$==="](g)?a=m.$highlight_source(a,b["$include?"]("callouts")):"callouts"["$==="](g)?f(b["$include?"]("highlight"))?d:a=m.$sub_callouts(a):"post_replacements"["$==="](g)?a=m.$sub_post_replacements(a):m.$logger().$warn("unknown substitution type "+e)},c.$$s=this,c.$$arity=
1,c));f(g)&&(a=this.$restore_passthroughs(a),f(h)&&(g.$clear(),this.passthroughs_locked=d));return f(m)?a.$split(p(y,"LF"),-1):a},v.$$arity=-2);a.def(c,"$apply_normal_subs",z=function(a){return this.$apply_subs(a,p(y,"NORMAL_SUBS"))},z.$$arity=1);a.def(c,"$apply_header_subs",R=function(a){return this.$apply_subs(a,p(y,"HEADER_SUBS"))},R.$$arity=1);a.alias(c,"apply_title_subs","apply_subs");a.def(c,"$apply_reftext_subs",B=function(a){return this.$apply_subs(a,p(y,"REFTEXT_SUBS"))},B.$$arity=1);p(y,
"RUBY_ENGINE")["$=="]("opal")?a.def(c,"$sub_specialchars",L=function(a){var b,d;return f(f(b=f(d=a["$include?"](">"))?d:a["$include?"]("&"))?b:a["$include?"]("<"))?a.$gsub(p(y,"SpecialCharsRx"),p(y,"SpecialCharsTr")):a},L.$$arity=1):d;a.alias(c,"sub_specialcharacters","sub_specialchars");a.def(c,"$sub_quotes",V=function(a){var b,e=d;null==this.document&&(this.document=d);f(p(y,"QuotedTextSniffRx")["$[]"](e=this.document.$compat_mode())["$match?"](a))&&u(p(y,"QUOTE_SUBS")["$[]"](e),"each",[],(b=function(e,
f,c){var m=b.$$s||this,g;null==e&&(e=d);null==f&&(f=d);null==c&&(c=d);return a=u(a,"gsub",[c],(g=function(){var a=g.$$s||this;null==w["~"]&&(w["~"]=d);return a.$convert_quoted_text(w["~"],e,f)},g.$$s=m,g.$$arity=0,g))},b.$$s=this,b.$$arity=3,b));return a},V.$$arity=1);a.def(c,"$sub_attributes",J=function(b,e){var c,g,h,l,k=d,q=d,v=d,t=d,n=d,z=d,R=d,r=d;null==this.document&&(this.document=d);null==e&&(e=m([],{}));k=this.document.$attributes();q=v=t=n=z=R=d;b=u(b,"gsub",[p(y,"AttributeReferenceRx")],
(c=function(){var b=c.$$s||this,m,g,h,l,r=d,Ea=d,B=d,Ta=d;null==b.document&&(b.document=d);return f(f(m=((g=w["~"])===d?d:g["$[]"](1))["$=="](p(y,"RS")))?m:((g=w["~"])===d?d:g["$[]"](4))["$=="](p(y,"RS")))?"{"+((m=w["~"])===d?d:m["$[]"](2))+"}":f((m=w["~"])===d?d:m["$[]"](3))?function(){r=(Ea=((m=w["~"])===d?d:m["$[]"](2)).$split(":",3)).$shift();return"set"["$==="](r)?(g=p(y,"Parser").$store_attribute(Ea["$[]"](0),f(h=Ea["$[]"](1))?h:"",b.document),m=a.to_ary(g),B=null==m[1]?d:m[1],g,f(f(m=B)?m:
(z=f(g=z)?g:f(h=k["$[]"]("attribute-undefined"))?h:p(y,"Compliance").$attribute_undefined())["$!="]("drop-line"))?q=n=p(y,"DEL"):q=v=p(y,"CAN")):"counter2"["$==="](r)?(u(b.document,"counter",a.to_a(Ea)),q=n=p(y,"DEL")):u(b.document,"counter",a.to_a(Ea))}():f(k["$key?"](Ta=((m=w["~"])===d?d:m["$[]"](2)).$downcase()))?k["$[]"](Ta):f(B=p(y,"INTRINSIC_ATTRIBUTES")["$[]"](Ta))?B:function(){r=R=f(m=R)?m:f(g=f(h=e["$[]"]("attribute_missing"))?h:k["$[]"]("attribute-missing"))?g:p(y,"Compliance").$attribute_missing();
if("drop"["$==="](r))return q=n=p(y,"DEL");if("drop-line"["$==="](r))return(t=f(m=t)?m:f(g=e["$[]"]("drop_line_severity"))?g:"info")["$=="]("info")&&u(b.$logger(),"info",[],(l=function(){return"dropping line containing reference to missing attribute: "+Ta},l.$$s=b,l.$$arity=0,l)),q=v=p(y,"CAN");"warn"["$==="](r)&&b.$logger().$warn("skipping reference to missing attribute: "+Ta);return(m=w["~"])===d?d:m["$[]"](0)}()},c.$$s=this,c.$$arity=0,c));return f(q)?f(n)?(r=b.$squeeze(p(y,"DEL")).$split(p(y,
"LF"),-1),f(v)?u(r,"reject",[],(g=function(a){var b,e,c;null==a&&(a=d);return f(b=f(e=f(c=a["$=="](p(y,"DEL")))?c:a["$=="](p(y,"CAN")))?e:a["$start_with?"](p(y,"CAN")))?b:a["$include?"](p(y,"CAN"))},g.$$s=this,g.$$arity=1,g)).$join(p(y,"LF")).$delete(p(y,"DEL")):u(r,"reject",[],(h=function(a){null==a&&(a=d);return a["$=="](p(y,"DEL"))},h.$$s=this,h.$$arity=1,h)).$join(p(y,"LF")).$delete(p(y,"DEL"))):f(b["$include?"](p(y,"LF")))?u(b.$split(p(y,"LF"),-1),"reject",[],(l=function(a){var b,e;null==a&&
(a=d);return f(b=f(e=a["$=="](p(y,"CAN")))?e:a["$start_with?"](p(y,"CAN")))?b:a["$include?"](p(y,"CAN"))},l.$$s=this,l.$$arity=1,l)).$join(p(y,"LF")):"":b},J.$$arity=-2);a.def(c,"$sub_replacements",S=function(a){var b;f(p(y,"ReplaceableTextRx")["$match?"](a))&&u(p(y,"REPLACEMENTS"),"each",[],(b=function(e,f,c){var m=b.$$s||this,g;null==e&&(e=d);null==f&&(f=d);null==c&&(c=d);return a=u(a,"gsub",[e],(g=function(){var a=g.$$s||this;null==w["~"]&&(w["~"]=d);return a.$do_replacement(w["~"],f,c)},g.$$s=
m,g.$$arity=0,g))},b.$$s=this,b.$$arity=3,b));return a},S.$$arity=1);a.def(c,"$sub_macros",U=function(e){var c,h,k,q,v,z,r,R,B,L,V,J,S,H,O,F=d,Q=d,La=d,wa=d,Ea=d,Fa=d,Ta=d;null==this.document&&(this.document=d);null==this.context&&(this.context=d);null==this.parent&&(this.parent=d);F=e["$include?"]("[");Q=e["$include?"](":");La=f(c=F)?Q:c;wa=f(c=La)?e["$include?"](":["):c;Ea=(Fa=this.document).$attributes();f(f(c=Ta=Fa.$extensions())?Ta["$inline_macros?"]():c)&&u(Ta.$inline_macros(),"each",[],(h=
function(b){var c=h.$$s||this,l;null==b&&(b=d);return e=u(e,"gsub",[b.$instance().$regexp()],(l=function(){var e=l.$$s||this,c,h,k,Ba=d,q,H=d;null==w["~"]&&(w["~"]=d);if(f((k=(c=w["~"])===d?d:c["$[]"](0))["$start_with?"](p(y,"RS"))))return((c=w["~"])===d?d:c["$[]"](0)).$slice(1,((c=w["~"])===d?d:c["$[]"](0)).$length());if(f(w["~"].$names()["$empty?"]()))c=[(h=w["~"])===d?d:h["$[]"](1),(h=w["~"])===d?d:h["$[]"](2)];else{a:{try{var O=w["~"]["$[]"]("target");break a}catch(cb){if(a.rescue(cb,[p(y,"StandardError")]))try{O=
d;break a}finally{a.pop_exception()}else throw cb;}O=void 0}c=O;a:{try{var v=w["~"]["$[]"]("content");break a}catch(cb){if(a.rescue(cb,[p(y,"StandardError")]))try{v=d;break a}finally{a.pop_exception()}else throw cb;}v=void 0}c=[c,v]}v=c[0];O=c[1];c;var t=f(Ba=(q=b.$config())["$[]"]("default_attrs"))?Ba.$merge():m([],{});f(O)&&(f(O["$empty?"]())?q["$[]"]("content_model")["$=="]("attributes")||(h=["text",O],u(t,"[]=",a.to_a(h)),h[g(h.length,1)]):(O=e.$normalize_text(O,!0,!0),q["$[]"]("content_model")["$=="]("attributes")?
e.$parse_attributes(O,f(c=f(h=q["$[]"]("positional_attrs"))?h:q["$[]"]("pos_attrs"))?c:[],m(["into"],{into:t})):(h=["text",O],u(t,"[]=",a.to_a(h)),h[g(h.length,1)])),v=f(c=v)?c:q["$[]"]("format")["$=="]("short")?O:v);return f(p(y,"Inline")["$==="](Ba=b.$process_method()["$[]"](e,v,t)))?(f(f(c=H=Ba.$attributes().$delete("subs"))?H=e.$expand_subs(H,"custom inline macro"):c)&&(h=[e.$apply_subs(Ba.$text(),H)],u(Ba,"text=",a.to_a(h)),h[g(h.length,1)]),Ba.$convert()):f(Ba)?(e.$logger().$info("expected substitution value for custom inline macro to be of type Inline; got "+
Ba.$class()+": "+k),Ba):""},l.$$s=c,l.$$arity=0,l))},h.$$s=this,h.$$arity=1,h));f(Ea["$key?"]("experimental"))&&(f(f(c=wa)?f(k=e["$include?"]("kbd:"))?k:e["$include?"]("btn:"):c)&&(e=u(e,"gsub",[p(y,"InlineKbdBtnMacroRx")],(q=function(){var e=q.$$s||this,c,h,k,H=d,O=d,v=d;v=d;return f((c=w["~"])===d?d:c["$[]"](1))?((c=w["~"])===d?d:c["$[]"](0)).$slice(1,((c=w["~"])===d?d:c["$[]"](0)).$length()):((c=w["~"])===d?d:c["$[]"](2))["$=="]("kbd")?(f((H=((c=w["~"])===d?d:c["$[]"](3)).$strip())["$include?"](p(y,
"R_SB")))&&(H=H.$gsub(p(y,"ESC_R_SB"),p(y,"R_SB"))),f(f(c=l(H.$length(),1))?O=f(O=H.$index(",",1))?[O,H.$index("+",1)].$compact().$min():H.$index("+",1):c)?(v=H.$slice(O,1),f(H["$end_with?"](v))?(H=u(H.$chop().$split(v,-1),"map",[],(h=function(a){null==a&&(a=d);return a.$strip()},h.$$s=e,h.$$arity=1,h)),v=[-1,b(H["$[]"](-1),v)],u(H,"[]=",a.to_a(v)),v[g(v.length,1)]):H=u(H.$split(v),"map",[],(k=function(a){null==a&&(a=d);return a.$strip()},k.$$s=e,k.$$arity=1,k))):H=[H],p(y,"Inline").$new(e,"kbd",
d,m(["attributes"],{attributes:m(["keys"],{keys:H})})).$convert()):p(y,"Inline").$new(e,"button",e.$normalize_text((c=w["~"])===d?d:c["$[]"](3),!0,!0)).$convert()},q.$$s=this,q.$$arity=0,q))),f(f(c=La)?e["$include?"]("menu:"):c)&&(e=u(e,"gsub",[p(y,"InlineMenuMacroRx")],(v=function(){var a=v.$$s||this,b,e,c=d,g=d,h=d;h=g=d;if(f(((b=w["~"])===d?d:b["$[]"](0))["$start_with?"](p(y,"RS"))))return((b=w["~"])===d?d:b["$[]"](0)).$slice(1,((b=w["~"])===d?d:b["$[]"](0)).$length());c=(b=w["~"])===d?d:b["$[]"](1);
f(g=(b=w["~"])===d?d:b["$[]"](2))?(f(g["$include?"](p(y,"R_SB")))&&(g=g.$gsub(p(y,"ESC_R_SB"),p(y,"R_SB"))),f(h=f(g["$include?"]("&gt;"))?"&gt;":f(g["$include?"](","))?",":d)?(g=u(g.$split(h),"map",[],(e=function(a){null==a&&(a=d);return a.$strip()},e.$$s=a,e.$$arity=1,e)),h=g.$pop()):(b=[[],g.$rstrip()],g=b[0],h=b[1],b)):(b=[[],d],g=b[0],h=b[1],b);return p(y,"Inline").$new(a,"menu",d,m(["attributes"],{attributes:m(["menu","submenus","menuitem"],{menu:c,submenus:g,menuitem:h})})).$convert()},v.$$s=
this,v.$$arity=0,v))),f(f(c=e["$include?"]('"'))?e["$include?"]("&gt;"):c)&&(e=u(e,"gsub",[p(y,"InlineMenuRx")],(z=function(){var b=z.$$s||this,e,c,g,h=d,l=d;var k=d;if(f(((e=w["~"])===d?d:e["$[]"](0))["$start_with?"](p(y,"RS"))))return((e=w["~"])===d?d:e["$[]"](0)).$slice(1,((e=w["~"])===d?d:e["$[]"](0)).$length());k=u(((c=w["~"])===d?d:c["$[]"](1)).$split("&gt;"),"map",[],(g=function(a){null==a&&(a=d);return a.$strip()},g.$$s=b,g.$$arity=1,g));e=a.to_ary(k);h=null==e[0]?d:e[0];l=n.call(e,1);k;k=
l.$pop();return p(y,"Inline").$new(b,"menu",d,m(["attributes"],{attributes:m(["menu","submenus","menuitem"],{menu:h,submenus:l,menuitem:k})})).$convert()},z.$$s=this,z.$$arity=0,z))));f(f(c=La)?f(k=e["$include?"]("image:"))?k:e["$include?"]("icon:"):c)&&(e=u(e,"gsub",[p(y,"InlineImageMacroRx")],(r=function(){var b=r.$$s||this,e,c,h,l=d;if(f(((e=w["~"])===d?d:e["$[]"](0))["$start_with?"](p(y,"RS"))))return((e=w["~"])===d?d:e["$[]"](0)).$slice(1,((e=w["~"])===d?d:e["$[]"](0)).$length());f(((e=w["~"])===
d?d:e["$[]"](0))["$start_with?"]("icon:"))?(e=["icon",["size"]],c=e[0],h=e[1]):(e=["image",["alt","width","height"]],c=e[0],h=e[1]);e;var k=(e=w["~"])===d?d:e["$[]"](1);h=b.$parse_attributes((e=w["~"])===d?d:e["$[]"](2),h,m(["unescape_input"],{unescape_input:!0}));c["$=="]("icon")||(Fa.$register("images",k),l=["imagesdir",Ea["$[]"]("imagesdir")],u(h,"[]=",a.to_a(l)),l[g(l.length,1)]);f(e=h["$[]"]("alt"))?e:(l=["alt",(l=["default-alt",p(y,"Helpers").$basename(k,!0).$tr("_-"," ")],u(h,"[]=",a.to_a(l)),
l[g(l.length,1)])],u(h,"[]=",a.to_a(l)),l[g(l.length,1)]);return p(y,"Inline").$new(b,"image",d,m(["type","target","attributes"],{type:c,target:k,attributes:h})).$convert()},r.$$s=this,r.$$arity=0,r)));f(f(c=f(k=e["$include?"]("(("))?e["$include?"]("))"):k)?c:f(k=wa)?e["$include?"]("dexterm"):k)&&(e=u(e,"gsub",[p(y,"InlineIndextermMacroRx")],(R=function(){var b=R.$$s||this,c,h,l,k,q=d,H=d,O=d,v=d,t=d,Q=d,z=d,r=d,F=d,Ea=d,Ta=d,B=d,L=d,wa=d,La=d;return function(){q=(c=w["~"])===d?d:c["$[]"](1);if("indexterm"["$==="](q)){if(f(((c=
w["~"])===d?d:c["$[]"](0))["$start_with?"](p(y,"RS"))))return((c=w["~"])===d?d:c["$[]"](0)).$slice(1,((c=w["~"])===d?d:c["$[]"](0)).$length());if(f((H=b.$normalize_text((c=w["~"])===d?d:c["$[]"](2),!0,!0))["$include?"]("=")))if(f(O=(v=p(y,"AttributeList").$new(H,b).$parse())["$[]"](1))){t=["terms",Q=[O]];u(v,"[]=",a.to_a(t));t[g(t.length,1)];if(f(z=v["$[]"](2))&&(Q["$<<"](z),f(r=v["$[]"](3))))Q["$<<"](r);f(F=v["$[]"]("see-also"))&&(t=["see-also",function(){return f(F["$include?"](","))?u(F.$split(","),
"map",[],(h=function(a){null==a&&(a=d);return a.$lstrip()},h.$$s=b,h.$$arity=1,h)):[F]}()],u(v,"[]=",a.to_a(t)),t[g(t.length,1)])}else v=m(["terms"],{terms:Q=H});else v=m(["terms"],{terms:Q=b.$split_simple_csv(H)});return p(y,"Inline").$new(b,"indexterm",d,m(["attributes"],{attributes:v})).$convert()}if("indexterm2"["$==="](q)){if(f(((c=w["~"])===d?d:c["$[]"](0))["$start_with?"](p(y,"RS"))))return((c=w["~"])===d?d:c["$[]"](0)).$slice(1,((c=w["~"])===d?d:c["$[]"](0)).$length());f((Ea=b.$normalize_text((c=
w["~"])===d?d:c["$[]"](2),!0,!0))["$include?"]("="))&&(Ea=f(c=f(l=(v=p(y,"AttributeList").$new(Ea,b).$parse())["$[]"](1))?l:v=d)?c:Ea,f(f(c=v)?F=v["$[]"]("see-also"):c)&&(t=["see-also",function(){return f(F["$include?"](","))?u(F.$split(","),"map",[],(k=function(a){null==a&&(a=d);return a.$lstrip()},k.$$s=b,k.$$arity=1,k)):[F]}()],u(v,"[]=",a.to_a(t)),t[g(t.length,1)]));return p(y,"Inline").$new(b,"indexterm",Ea,m(["attributes","type"],{attributes:v,type:"visible"})).$convert()}e=(c=w["~"])===d?d:
c["$[]"](3);if(f(((c=w["~"])===d?d:c["$[]"](0))["$start_with?"](p(y,"RS"))))if(f(f(c=e["$start_with?"]("("))?e["$end_with?"](")"):c))e=e.$slice(1,g(e.$length(),2)),c=[!0,"(",")"],Ta=c[0],B=c[1],L=c[2],c;else return((c=w["~"])===d?d:c["$[]"](0)).$slice(1,((c=w["~"])===d?d:c["$[]"](0)).$length());else Ta=!0,f(e["$start_with?"]("("))?(f(e["$end_with?"](")"))?(c=[e.$slice(1,g(e.$length(),2)),!1],e=c[0],Ta=c[1]):(c=[e.$slice(1,e.$length()),"(",""],e=c[0],B=c[1],L=c[2]),c):f(e["$end_with?"](")"))&&(c=[e.$chop(),
"",")"],e=c[0],B=c[1],L=c[2],c);f(Ta)?(f((Ea=b.$normalize_text(e,!0))["$include?"](";&"))&&(f(Ea["$include?"](" &gt;&gt; "))?(l=Ea.$partition(" &gt;&gt; "),c=a.to_ary(l),Ea=null==c[0]?d:c[0],wa=null==c[2]?d:c[2],l,v=m(["see"],{see:wa})):f(Ea["$include?"](" &amp;&gt; "))&&(l=Ea.$split(" &amp;&gt; "),c=a.to_ary(l),Ea=null==c[0]?d:c[0],F=n.call(c,1),l,v=m(["see-also"],{"see-also":F}))),La=p(y,"Inline").$new(b,"indexterm",Ea,m(["attributes","type"],{attributes:v,type:"visible"})).$convert()):(v=m([],
{}),f((Q=b.$normalize_text(e,!0))["$include?"](";&"))&&(f(Q["$include?"](" &gt;&gt; "))?(l=Q.$partition(" &gt;&gt; "),c=a.to_ary(l),Q=null==c[0]?d:c[0],wa=null==c[2]?d:c[2],l,t=["see",wa],u(v,"[]=",a.to_a(t)),t[g(t.length,1)]):f(Q["$include?"](" &amp;&gt; "))&&(l=Q.$split(" &amp;&gt; "),c=a.to_ary(l),Q=null==c[0]?d:c[0],F=n.call(c,1),l,t=["see-also",F],u(v,"[]=",a.to_a(t)),t[g(t.length,1)])),t=["terms",Q=b.$split_simple_csv(Q)],u(v,"[]=",a.to_a(t)),t[g(t.length,1)],La=p(y,"Inline").$new(b,"indexterm",
d,m(["attributes"],{attributes:v})).$convert());return f(B)?""+B+La+L:La}()},R.$$s=this,R.$$arity=0,R)));f(f(c=Q)?e["$include?"]("://"):c)&&(e=u(e,"gsub",[p(y,"InlineLinkRx")],(B=function(){var b=B.$$s||this,c,h,l,k=d;if(f((l=(c=w["~"])===d?d:c["$[]"](2))["$start_with?"](p(y,"RS"))))return""+((c=w["~"])===d?d:c["$[]"](1))+l.$slice(1,l.$length())+((c=w["~"])===d?d:c["$[]"](4));c=[(h=w["~"])===d?d:h["$[]"](1),""];var q=c[0];var H=c[1];c;if(f((c=w["~"])===d?d:c["$[]"](4)))q["$=="]("link:")&&(q=""),e=
(c=w["~"])===d?d:c["$[]"](4);else{h=q;if("link:"["$==="](h)||'"'["$==="](h)||"'"["$==="](h))return(c=w["~"])===d?d:c["$[]"](0);e="";h=(c=w["~"])===d?d:c["$[]"](3);if(")"["$==="](h)){if(l=l.$chop(),H=")",f(l["$end_with?"]("://")))return(c=w["~"])===d?d:c["$[]"](0)}else if(";"["$==="](h)){if(f(f(c=q["$start_with?"]("&lt;"))?l["$end_with?"]("&gt;"):c)?(q=q.$slice(4,q.$length()),l=l.$slice(0,g(l.$length(),4))):f((l=l.$chop())["$end_with?"](")"))?(l=l.$chop(),H=");"):H=";",f(l["$end_with?"]("://")))return(c=
w["~"])===d?d:c["$[]"](0)}else if(":"["$==="](h)&&(f((l=l.$chop())["$end_with?"](")"))?(l=l.$chop(),H="):"):H=":",f(l["$end_with?"]("://"))))return(c=w["~"])===d?d:c["$[]"](0)}c=[d,m(["type"],{type:"link"})];var v=c[0];var O=c[1];c;f(e["$empty?"]())||(f(e["$include?"](p(y,"R_SB")))&&(e=e.$gsub(p(y,"ESC_R_SB"),p(y,"R_SB"))),f(f(c=Fa.$compat_mode()["$!"]())?e["$include?"]("="):c)&&(h=b.$extract_attributes_from_text(e,""),c=a.to_ary(h),e=null==c[0]?d:c[0],v=null==c[1]?d:c[1],h,k=["id",v["$[]"]("id")],
u(O,"[]=",a.to_a(k)),k[g(k.length,1)]),f(e["$end_with?"]("^"))&&(e=e.$chop(),f(v)?f(c=v["$[]"]("window"))?c:(k=["window","_blank"],u(v,"[]=",a.to_a(k)),k[g(k.length,1)]):v=m(["window"],{window:"_blank"})));f(e["$empty?"]())&&(e=f(Ea["$key?"]("hide-uri-scheme"))?l.$sub(p(y,"UriSniffRx"),""):l,f(v)?(k=["role",f(v["$key?"]("role"))?"bare "+v["$[]"]("role"):"bare"],u(v,"[]=",a.to_a(k)),k[g(k.length,1)]):v=m(["role"],{role:"bare"}));Fa.$register("links",(k=["target",l],u(O,"[]=",a.to_a(k)),k[g(k.length,
1)]));f(v)&&(k=["attributes",v],u(O,"[]=",a.to_a(k)),k[g(k.length,1)]);return""+q+p(y,"Inline").$new(b,"anchor",e,O).$convert()+H},B.$$s=this,B.$$arity=0,B)));f(f(c=La)?f(k=e["$include?"]("link:"))?k:e["$include?"]("ilto:"):c)&&(e=u(e,"gsub",[p(y,"InlineLinkMacroRx")],(L=function(){var c=L.$$s||this,h,l,k=d;var q=d;if(f(((h=w["~"])===d?d:h["$[]"](0))["$start_with?"](p(y,"RS"))))return((h=w["~"])===d?d:h["$[]"](0)).$slice(1,((h=w["~"])===d?d:h["$[]"](0)).$length());var H=f(l=(h=w["~"])===d?d:h["$[]"](1))?
b("mailto:",k=(h=w["~"])===d?d:h["$[]"](2)):(h=w["~"])===d?d:h["$[]"](2);h=[d,m(["type"],{type:"link"})];var v=h[0];var O=h[1];h;f((e=(h=w["~"])===d?d:h["$[]"](3))["$empty?"]())||(f(e["$include?"](p(y,"R_SB")))&&(e=e.$gsub(p(y,"ESC_R_SB"),p(y,"R_SB"))),f(l)?f(f(h=Fa.$compat_mode()["$!"]())?e["$include?"](","):h)&&(q=c.$extract_attributes_from_text(e,""),h=a.to_ary(q),e=null==h[0]?d:h[0],v=null==h[1]?d:h[1],q,q=["id",v["$[]"]("id")],u(O,"[]=",a.to_a(q)),q[g(q.length,1)],f(v["$key?"](2))&&(H=f(v["$key?"](3))?
""+H+"?subject="+p(y,"Helpers").$encode_uri_component(v["$[]"](2))+"&amp;body="+p(y,"Helpers").$encode_uri_component(v["$[]"](3)):""+H+"?subject="+p(y,"Helpers").$encode_uri_component(v["$[]"](2)))):f(f(h=Fa.$compat_mode()["$!"]())?e["$include?"]("="):h)&&(q=c.$extract_attributes_from_text(e,""),h=a.to_ary(q),e=null==h[0]?d:h[0],v=null==h[1]?d:h[1],q,q=["id",v["$[]"]("id")],u(O,"[]=",a.to_a(q)),q[g(q.length,1)]),f(e["$end_with?"]("^"))&&(e=e.$chop(),f(v)?f(h=v["$[]"]("window"))?h:(q=["window","_blank"],
u(v,"[]=",a.to_a(q)),q[g(q.length,1)]):v=m(["window"],{window:"_blank"})));f(e["$empty?"]())&&(f(l)?e=k:(f(Ea["$key?"]("hide-uri-scheme"))?f((e=H.$sub(p(y,"UriSniffRx"),""))["$empty?"]())&&(e=H):e=H,f(v)?(q=["role",f(v["$key?"]("role"))?"bare "+v["$[]"]("role"):"bare"],u(v,"[]=",a.to_a(q)),q[g(q.length,1)]):v=m(["role"],{role:"bare"})));Fa.$register("links",(q=["target",H],u(O,"[]=",a.to_a(q)),q[g(q.length,1)]));f(v)&&(q=["attributes",v],u(O,"[]=",a.to_a(q)),q[g(q.length,1)]);return p(y,"Inline").$new(c,
"anchor",e,O).$convert()},L.$$s=this,L.$$arity=0,L)));f(e["$include?"]("@"))&&(e=u(e,"gsub",[p(y,"InlineEmailRx")],(V=function(){var a=V.$$s||this,e,c;if(f((e=w["~"])===d?d:e["$[]"](1)))return((e=w["~"])===d?d:e["$[]"](1))["$=="](p(y,"RS"))?((e=w["~"])===d?d:e["$[]"](0)).$slice(1,((e=w["~"])===d?d:e["$[]"](0)).$length()):(e=w["~"])===d?d:e["$[]"](0);var g=b("mailto:",c=(e=w["~"])===d?d:e["$[]"](0));Fa.$register("links",g);return p(y,"Inline").$new(a,"anchor",c,m(["type","target"],{type:"link",target:g})).$convert()},
V.$$s=this,V.$$arity=0,V)));f(f(c=f(k=F)?this.context["$=="]("list_item"):k)?this.parent.$style()["$=="]("bibliography"):c)&&(e=u(e,"sub",[p(y,"InlineBiblioAnchorRx")],(J=function(){var a=J.$$s||this,b;return p(y,"Inline").$new(a,"anchor",(b=w["~"])===d?d:b["$[]"](2),m(["type","id"],{type:"bibref",id:(b=w["~"])===d?d:b["$[]"](1)})).$convert()},J.$$s=this,J.$$arity=0,J)));f(f(c=f(k=F)?e["$include?"]("[["):k)?c:f(k=La)?e["$include?"]("or:"):k)&&(e=u(e,"gsub",[p(y,"InlineAnchorRx")],(S=function(){var a=
S.$$s||this,b,e,c,g=d;if(f((b=w["~"])===d?d:b["$[]"](1)))return((b=w["~"])===d?d:b["$[]"](0)).$slice(1,((b=w["~"])===d?d:b["$[]"](0)).$length());f(c=(b=w["~"])===d?d:b["$[]"](2))?g=(b=w["~"])===d?d:b["$[]"](3):(c=(b=w["~"])===d?d:b["$[]"](4),f(f(b=g=(e=w["~"])===d?d:e["$[]"](5))?g["$include?"](p(y,"R_SB")):b)&&(g=g.$gsub(p(y,"ESC_R_SB"),p(y,"R_SB"))));return p(y,"Inline").$new(a,"anchor",g,m(["type","id"],{type:"ref",id:c})).$convert()},S.$$s=this,S.$$arity=0,S)));f(f(c=f(k=e["$include?"]("&"))?e["$include?"](";&l"):
k)?c:f(k=La)?e["$include?"]("xref:"):k)&&(e=u(e,"gsub",[p(y,"InlineXrefMacroRx")],(H=function(){var c=H.$$s||this,h,k,q=d,v=d,O,t,Q=t=d,z=d;if(f(((h=w["~"])===d?d:h["$[]"](0))["$start_with?"](p(y,"RS"))))return((h=w["~"])===d?d:h["$[]"](0)).$slice(1,((h=w["~"])===d?d:h["$[]"](0)).$length());var n=m([],{});if(f(k=(h=w["~"])===d?d:h["$[]"](1))){var r=k.$split(",",2);h=a.to_ary(r);k=null==h[0]?d:h[0];e=null==h[1]?d:h[1];r;f(e)&&(e=e.$lstrip())}else q=!0,k=(h=w["~"])===d?d:h["$[]"](2),f(e=(h=w["~"])===
d?d:h["$[]"](3))&&(f(e["$include?"](p(y,"R_SB")))&&(e=e.$gsub(p(y,"ESC_R_SB"),p(y,"R_SB"))),f(f(h=Fa.$compat_mode()["$!"]())?e["$include?"]("="):h)&&(r=c.$extract_attributes_from_text(e),h=a.to_ary(r),e=null==h[0]?d:h[0],n=null==h[1]?d:h[1],r));f(Fa.$compat_mode())?v=k:f(O=k.$index("#"))?f(l(O,0))?(f(l(t=g(g(k.$length(),1),O),0))?(h=[k.$slice(0,O),k.$slice(b(O,1),t)],t=h[0],v=h[1],h):t=k.$chop(),f(q)?f(t["$end_with?"](".adoc"))?Q=t=t.$slice(0,g(t.$length(),5)):f(p(y,"Helpers")["$extname?"](t)["$!"]())&&
(Q=t):Q=f(u(t,"end_with?",a.to_a(p(y,"ASCIIDOC_EXTENSIONS").$keys())))?t=t.$slice(0,t.$rindex(".")):t):(h=[k,k.$slice(1,k.$length())],z=h[0],v=h[1],h):f(q)?f(k["$end_with?"](".adoc"))?Q=t=k.$slice(0,g(k.$length(),5)):f(p(y,"Helpers")["$extname?"](k))?t=k:v=k:v=k;f(z)?(k=v,f(f(h=c.$logger()["$info?"]())?Fa.$catalog()["$[]"]("refs")["$[]"](k)["$!"]():h)&&c.$logger().$info("possible invalid reference: "+k)):f(t)?f(f(h=Q)?f(r=Fa.$attributes()["$[]"]("docname")["$=="](t))?r:Fa.$catalog()["$[]"]("includes")["$[]"](t):
h)?f(v)?(h=[v,d,"#"+v],k=h[0],t=h[1],z=h[2],h,f(f(h=c.$logger()["$info?"]())?Fa.$catalog()["$[]"]("refs")["$[]"](k)["$!"]():h)&&c.$logger().$info("possible invalid reference: "+k)):(h=[d,d,"#"],k=h[0],t=h[1],z=h[2],h):(h=[t,""+Fa.$attributes()["$[]"]("relfileprefix")+t+(f(Q)?Fa.$attributes().$fetch("relfilesuffix",Fa.$outfilesuffix()):"")],k=h[0],t=h[1],h,f(v)?(h=[""+k+"#"+v,""+t+"#"+v],k=h[0],z=h[1],h):z=t):f(f(h=Fa.$compat_mode())?h:p(y,"Compliance").$natural_xrefs()["$!"]())?(h=[v,"#"+v],k=h[0],
z=h[1],h,f(f(h=c.$logger()["$info?"]())?Fa.$catalog()["$[]"]("refs")["$[]"](k)["$!"]():h)&&c.$logger().$info("possible invalid reference: "+k)):f(Fa.$catalog()["$[]"]("refs")["$[]"](v))?(h=[v,"#"+v],k=h[0],z=h[1],h):f(f(h=f(r=v["$include?"](" "))?r:v.$downcase()["$!="](v))?k=Fa.$resolve_id(v):h)?(h=[k,"#"+k],v=h[0],z=h[1],h):(h=[v,"#"+v],k=h[0],z=h[1],h,f(c.$logger()["$info?"]())&&c.$logger().$info("possible invalid reference: "+k));h=["path",t];u(n,"[]=",a.to_a(h));h[g(h.length,1)];h=["fragment",
v];u(n,"[]=",a.to_a(h));h[g(h.length,1)];h=["refid",k];u(n,"[]=",a.to_a(h));h[g(h.length,1)];return p(y,"Inline").$new(c,"anchor",e,m(["type","target","attributes"],{type:"xref",target:z,attributes:n})).$convert()},H.$$s=this,H.$$arity=0,H)));f(f(c=La)?e["$include?"]("tnote"):c)&&(e=u(e,"gsub",[p(y,"InlineFootnoteMacroRx")],(O=function(){var b=O.$$s||this,c,g,h,l,k=d,q=g=d,H=g=d;if(f(((c=w["~"])===d?d:c["$[]"](0))["$start_with?"](p(y,"RS"))))return((c=w["~"])===d?d:c["$[]"](0)).$slice(1,((c=w["~"])===
d?d:c["$[]"](0)).$length());if(f((c=w["~"])===d?d:c["$[]"](1)))if(f((c=w["~"])===d?d:c["$[]"](3)))g=((h=w["~"])===d?d:h["$[]"](3)).$split(",",2),c=a.to_ary(g),k=null==c[0]?d:c[0],e=null==c[1]?d:c[1],g,f(Fa.$compat_mode())||b.$logger().$warn("found deprecated footnoteref macro: "+((c=w["~"])===d?d:c["$[]"](0))+"; use footnote macro with target instead");else return(c=w["~"])===d?d:c["$[]"](0);else k=(c=w["~"])===d?d:c["$[]"](2),e=(c=w["~"])===d?d:c["$[]"](3);if(f(k))f(g=u(Fa.$footnotes(),"find",[],
(l=function(a){null==a&&(a=d);return a.$id()["$=="](k)},l.$$s=b,l.$$arity=1,l)))?(c=[g.$index(),g.$text()],q=c[0],e=c[1],c,c=["xref",k,d],g=c[0],H=c[1],k=c[2]):f(e)?(e=b.$restore_passthroughs(b.$normalize_text(e,!0,!0)),q=Fa.$counter("footnote-number"),Fa.$register("footnotes",t(p(y,"Document"),"Footnote").$new(q,k,e)),c=["ref",d],g=c[0],H=c[1]):(b.$logger().$warn("invalid footnote reference: "+k),c=["xref",k,k,d],g=c[0],H=c[1],e=c[2],k=c[3]),c;else if(f(e))e=b.$restore_passthroughs(b.$normalize_text(e,
!0,!0)),q=Fa.$counter("footnote-number"),Fa.$register("footnotes",t(p(y,"Document"),"Footnote").$new(q,k,e)),g=H=d;else return(c=w["~"])===d?d:c["$[]"](0);return p(y,"Inline").$new(b,"footnote",e,m(["attributes","id","target","type"],{attributes:m(["index"],{index:q}),id:k,target:H,type:g})).$convert()},O.$$s=this,O.$$arity=0,O)));return e},U.$$arity=1);a.def(c,"$sub_post_replacements",A=function(a){var b,e,c,h=d,l=d;null==this.attributes&&(this.attributes=d);null==this.document&&(this.document=d);
if(f(f(b=this.attributes["$[]"]("hardbreaks-option"))?b:this.document.$attributes()["$[]"]("hardbreaks-option"))){h=a.$split(p(y,"LF"),-1);if(f(k(h.$size(),2)))return a;l=h.$pop();return u(h,"map",[],(e=function(a){var b=e.$$s||this;null==a&&(a=d);return p(y,"Inline").$new(b,"break",f(a["$end_with?"](p(y,"HARD_LINE_BREAK")))?a.$slice(0,g(a.$length(),2)):a,m(["type"],{type:"line"})).$convert()},e.$$s=this,e.$$arity=1,e))["$<<"](l).$join(p(y,"LF"))}return f(f(b=a["$include?"](p(y,"PLUS")))?a["$include?"](p(y,
"HARD_LINE_BREAK")):b)?u(a,"gsub",[p(y,"HardLineBreakRx")],(c=function(){var a=c.$$s||this,b;return p(y,"Inline").$new(a,"break",(b=w["~"])===d?d:b["$[]"](1),m(["type"],{type:"line"})).$convert()},c.$$s=this,c.$$arity=0,c)):a},A.$$arity=1);a.def(c,"$sub_source",D=function(a,b){return f(b)?this.$sub_callouts(this.$sub_specialchars(a)):this.$sub_specialchars(a)},D.$$arity=2);a.def(c,"$sub_callouts",C=function(a){var e,c=d,g=d;c=f(this["$attr?"]("line-comment"))?p(y,"CalloutSourceRxMap")["$[]"](this.$attr("line-comment")):
p(y,"CalloutSourceRx");g=0;return u(a,"gsub",[c],(e=function(){var a=e.$$s||this,c,h;null==a.document&&(a.document=d);return f((c=w["~"])===d?d:c["$[]"](2))?((c=w["~"])===d?d:c["$[]"](0)).$sub(p(y,"RS"),""):p(y,"Inline").$new(a,"callout",((c=w["~"])===d?d:c["$[]"](4))["$=="](".")?(g=b(g,1)).$to_s():(c=w["~"])===d?d:c["$[]"](4),m(["id","attributes"],{id:a.document.$callouts().$read_next_id(),attributes:m(["guard"],{guard:f(c=(h=w["~"])===d?d:h["$[]"](1))?c:((h=w["~"])===d?d:h["$[]"](3))["$=="]("--")?
["\x3c!--","--\x3e"]:d})})).$convert()},e.$$s=this,e.$$arity=0,e))},C.$$arity=1);a.def(c,"$highlight_source",ia=function(b,e){var c,g,h=d,l=d,q,v=d,t=d;null==this.document&&(this.document=d);null==this.passthroughs&&(this.passthroughs=d);if(!f(f(c=h=this.document.$syntax_highlighter())?h["$highlight?"]():c))return this.$sub_source(b,e);f(e)&&(e=this.$extract_callouts(b),c=a.to_ary(e),b=null==c[0]?d:c[0],l=null==c[1]?d:c[1],e);e=this.document.$attributes();var z=h.$name();f(q=f(this["$attr?"]("linenums"))?
(f(c=e["$[]"](""+z+"-linenums-mode"))?c:"table").$to_sym():d)&&f(k(v=this.$attr("start",1).$to_i(),1))&&(v=1);f(this["$attr?"]("highlight"))&&(t=this.$resolve_lines_to_highlight(b,this.$attr("highlight"),v));e=h.$highlight(this,b,this.$attr("language"),m("callouts css_mode highlight_lines number_lines start_line_number style".split(" "),{callouts:l,css_mode:(f(g=e["$[]"](""+z+"-css"))?g:"class").$to_sym(),highlight_lines:t,number_lines:q,start_line_number:v,style:e["$[]"](""+z+"-style")}));c=a.to_ary(e);
b=null==c[0]?d:c[0];c=null==c[1]?d:c[1];e;f(this.passthroughs["$empty?"]())||(b=b.$gsub(p(y,"HighlightedPassSlotRx"),""+p(y,"PASS_START")+"\\1"+p(y,"PASS_END")));return f(l["$nil_or_empty?"]())?b:this.$restore_callouts(b,l,c)},ia.$$arity=2);a.def(c,"$resolve_lines_to_highlight",E=function(e,c,m){var h,l,q=d,v=d;null==m&&(m=d);q=[];f(c["$include?"](" "))&&(c=c.$delete(" "));u(f(c["$include?"](","))?c.$split(","):c.$split(";"),"map",[],(h=function(c){var m,h=d;var l=d;null==c&&(c=d);f(c["$start_with?"]("!"))&&
(c=c.$slice(1,c.$length()),h=!0);if(f(m=f(c["$include?"](".."))?"..":f(c["$include?"]("-"))?"-":d)){m=c.$partition(m);c=a.to_ary(m);l=null==c[0]?d:c[0];var v=null==c[2]?d:c[2];m;f(f(c=v["$empty?"]())?c:k(v=v.$to_i(),0))&&(v=b(e.$count(p(y,"LF")),1));return f(h)?q=g(q,a.Range.$new(l.$to_i(),v,!1).$to_a()):q=q["$|"](a.Range.$new(l.$to_i(),v,!1).$to_a())}return f(h)?q.$delete(c.$to_i()):f(q["$include?"](l=c.$to_i())["$!"]())?q["$<<"](l):d},h.$$s=this,h.$$arity=1,h));(v=f(m)?g(m,1):0)["$=="](0)||(q=u(q,
"map",[],(l=function(a){null==a&&(a=d);return g(a,v)},l.$$s=this,l.$$arity=1,l)));return q.$sort()},E.$$arity=-3);a.def(c,"$extract_passthroughs",W=function(b){var e,c,h,k,v,t=d,z=d,n=d,r=d,R=d;null==this.document&&(this.document=d);null==this.passthroughs&&(this.passthroughs=d);t=this.document.$compat_mode();z=this.passthroughs;f(f(e=f(c=b["$include?"]("++"))?c:b["$include?"]("$$"))?e:b["$include?"]("ss:"))&&(b=u(b,"gsub",[p(y,"InlinePassMacroRx")],(h=function(){var b=h.$$s||this,e,c,k,v,n=d,Q=d,
r=d,R=k=d;if(f(c=(e=w["~"])===d?d:e["$[]"](4))){if(f(f(e=t)?c["$=="]("++"):e))return(f((e=w["~"])===d?d:e["$[]"](2))?""+((e=w["~"])===d?d:e["$[]"](1))+"["+((e=w["~"])===d?d:e["$[]"](2))+"]"+((e=w["~"])===d?d:e["$[]"](3)):""+((e=w["~"])===d?d:e["$[]"](1))+((e=w["~"])===d?d:e["$[]"](3)))+"++"+b.$extract_passthroughs((e=w["~"])===d?d:e["$[]"](5))+"++";if(f(k=(e=w["~"])===d?d:e["$[]"](2))){if(f(l(v=((e=w["~"])===d?d:e["$[]"](3)).$length(),0)))return""+((e=w["~"])===d?d:e["$[]"](1))+"["+k+"]"+q(p(y,"RS"),
g(v,1))+c+((e=w["~"])===d?d:e["$[]"](5))+c;((e=w["~"])===d?d:e["$[]"](1))["$=="](p(y,"RS"))?n="["+k+"]":(f((e=c["$=="]("++"))?k["$end_with?"]("x-"):c["$=="]("++"))&&(Q=!0,k=k.$slice(0,g(k.$length(),2))),r=b.$parse_quoted_text_attributes(k))}else if(f(l(v=((e=w["~"])===d?d:e["$[]"](3)).$length(),0)))return""+q(p(y,"RS"),g(v,1))+c+((e=w["~"])===d?d:e["$[]"](5))+c;k=c["$=="]("+++")?[]:p(y,"BASIC_SUBS");b=f(r)?f(Q)?[R=z.$size(),m(["text","subs","type","attributes"],{text:(e=w["~"])===d?d:e["$[]"](5),
subs:p(y,"NORMAL_SUBS"),type:"monospaced",attributes:r})]:[R=z.$size(),m(["text","subs","type","attributes"],{text:(e=w["~"])===d?d:e["$[]"](5),subs:k,type:"unquoted",attributes:r})]:[R=z.$size(),m(["text","subs"],{text:(e=w["~"])===d?d:e["$[]"](5),subs:k})]}else{if(((e=w["~"])===d?d:e["$[]"](6))["$=="](p(y,"RS")))return((e=w["~"])===d?d:e["$[]"](0)).$slice(1,((e=w["~"])===d?d:e["$[]"](0)).$length());b=f(k=(e=w["~"])===d?d:e["$[]"](7))?[R=z.$size(),m(["text","subs"],{text:b.$normalize_text((e=w["~"])===
d?d:e["$[]"](8),d,!0),subs:b.$resolve_pass_subs(k)})]:[R=z.$size(),m(["text"],{text:b.$normalize_text((e=w["~"])===d?d:e["$[]"](8),d,!0)})]}u(z,"[]=",a.to_a(b));b[g(b.length,1)];return""+(f(e=n)?e:"")+p(y,"PASS_START")+R+p(y,"PASS_END")},h.$$s=this,h.$$arity=0,h)));c=p(y,"InlinePassRx")["$[]"](t);e=a.to_ary(c);n=null==e[0]?d:e[0];r=null==e[1]?d:e[1];R=null==e[2]?d:e[2];c;f(f(e=b["$include?"](n))?e:f(c=r)?b["$include?"](r):c)&&(b=u(b,"gsub",[R],(k=function(){var b=k.$$s||this,e,c,h=d,l=d,q=d;var v=
(e=w["~"])===d?d:e["$[]"](1);var n=(e=w["~"])===d?d:e["$[]"](2);f((c=(e=w["~"])===d?d:e["$[]"](3))["$start_with?"](p(y,"RS")))&&(h=p(y,"RS"));var r=(e=w["~"])===d?d:e["$[]"](4);var R=(e=w["~"])===d?d:e["$[]"](5);f(t)?l=!0:f(l=f(e=n)?n["$end_with?"]("x-"):e)&&(n=n.$slice(0,g(n.$length(),2)));if(f(n)){if(f(r["$=="]("`")?l["$!"]():r["$=="]("`")))return b.$extract_inner_passthrough(R,""+v+"["+n+"]"+h);if(f(h))return""+v+"["+n+"]"+c.$slice(1,c.$length());v["$=="](p(y,"RS"))?v="["+n+"]":q=b.$parse_quoted_text_attributes(n)}else{if(f(r["$=="]("`")?
l["$!"]():r["$=="]("`")))return b.$extract_inner_passthrough(R,""+v+h);if(f(h))return""+v+c.$slice(1,c.$length())}f(t)?R=[b=z.$size(),m(["text","subs","attributes","type"],{text:R,subs:p(y,"BASIC_SUBS"),attributes:q,type:"monospaced"})]:f(q)?f(l)?(e=r["$=="]("`")?p(y,"BASIC_SUBS"):p(y,"NORMAL_SUBS"),R=[b=z.$size(),m(["text","subs","attributes","type"],{text:R,subs:e,attributes:q,type:"monospaced"})]):R=[b=z.$size(),m(["text","subs","attributes","type"],{text:R,subs:p(y,"BASIC_SUBS"),attributes:q,
type:"unquoted"})]:R=[b=z.$size(),m(["text","subs"],{text:R,subs:p(y,"BASIC_SUBS")})];u(z,"[]=",a.to_a(R));R[g(R.length,1)];return""+v+p(y,"PASS_START")+b+p(y,"PASS_END")},k.$$s=this,k.$$arity=0,k)));f(f(e=b["$include?"](":"))?f(c=b["$include?"]("stem:"))?c:b["$include?"]("math:"):e)&&(b=u(b,"gsub",[p(y,"InlineStemMacroRx")],(v=function(){var b=v.$$s||this,e,c;null==b.document&&(b.document=d);if(f(((e=w["~"])===d?d:e["$[]"](0))["$start_with?"](p(y,"RS"))))return((e=w["~"])===d?d:e["$[]"](0)).$slice(1,
((e=w["~"])===d?d:e["$[]"](0)).$length());(c=((e=w["~"])===d?d:e["$[]"](1)).$to_sym())["$=="]("stem")&&(c=p(y,"STEM_TYPE_ALIASES")["$[]"](b.document.$attributes()["$[]"]("stem")).$to_sym());var h=(e=w["~"])===d?d:e["$[]"](2);var l=b.$normalize_text((e=w["~"])===d?d:e["$[]"](3),d,!0);f(f(e=c["$=="]("latexmath")?l["$start_with?"]("$"):c["$=="]("latexmath"))?l["$end_with?"]("$"):e)&&(l=l.$slice(1,g(l.$length(),2)));h=f(h)?b.$resolve_pass_subs(h):f(b.document["$basebackend?"]("html"))?p(y,"BASIC_SUBS"):
d;c=[b=z.$size(),m(["text","subs","type"],{text:l,subs:h,type:c})];u(z,"[]=",a.to_a(c));c[g(c.length,1)];return""+p(y,"PASS_START")+b+p(y,"PASS_END")},v.$$s=this,v.$$arity=0,v)));return b},W.$$arity=1);a.def(c,"$restore_passthroughs",G=function(a){var b,e=d;null==this.passthroughs&&(this.passthroughs=d);e=this.passthroughs;return u(a,"gsub",[p(y,"PassSlotRx")],(b=function(){var c=b.$$s||this,g,h,l,k,q=d;if(f(h=e["$[]"](((g=w["~"])===d?d:g["$[]"](1)).$to_i())))return g=c.$apply_subs(h["$[]"]("text"),
h["$[]"]("subs")),f(l=h["$[]"]("type"))&&(f(k=h["$[]"]("attributes"))&&(q=k["$[]"]("id")),g=p(y,"Inline").$new(c,"quoted",g,m(["type","id","attributes"],{type:l,id:q,attributes:k})).$convert()),f(g["$include?"](p(y,"PASS_START")))?c.$restore_passthroughs(g):g;c.$logger().$error("unresolved passthrough detected: "+a);return"??pass??"},b.$$s=this,b.$$arity=0,b))},G.$$arity=1);a.def(c,"$resolve_subs",x=function(a,e,c,m){var h,k=d,q=d,v=d,t=d;null==e&&(e="block");null==c&&(c=d);null==m&&(m=d);if(f(a["$nil_or_empty?"]()))return d;
k=d;f(a["$include?"](" "))&&(a=a.$delete(" "));q=p(y,"SubModifierSniffRx")["$match?"](a);u(a.$split(","),"each",[],(h=function(a){var m,h,l=d;null==a&&(a=d);var v=d;f(q)&&((m=a.$chr())["$=="]("+")?(v="append",a=a.$slice(1,a.$length())):m["$=="]("-")?(v="remove",a=a.$slice(1,a.$length())):f(a["$end_with?"]("+"))&&(v="prepend",a=a.$chop()));a=a.$to_sym();f((m=e["$=="]("inline"))?f(h=a["$=="]("verbatim"))?h:a["$=="]("v"):e["$=="]("inline"))?a=p(y,"BASIC_SUBS"):f(p(y,"SUB_GROUPS")["$key?"](a))?a=p(y,
"SUB_GROUPS")["$[]"](a):f(f(m=e["$=="]("inline")?a.$length()["$=="](1):e["$=="]("inline"))?p(y,"SUB_HINTS")["$key?"](a):m)?(a=p(y,"SUB_HINTS")["$[]"](a),a=f(l=p(y,"SUB_GROUPS")["$[]"](a))?l:[a]):a=[a];if(f(v))return k=f(m=k)?m:f(c)?c.$drop(0):[],"append"["$==="](v)?k=b(k,a):"prepend"["$==="](v)?k=b(a,k):"remove"["$==="](v)?k=g(k,a):d;k=f(m=k)?m:[];return k=b(k,a)},h.$$s=this,h.$$arity=1,h));if(!f(k))return d;v=k["$&"](p(y,"SUB_OPTIONS")["$[]"](e));f(g(k,v)["$empty?"]())||(t=g(k,v),this.$logger().$warn("invalid substitution type"+
(f(l(t.$size(),1))?"s":"")+(f(m)?" for ":"")+m+": "+t.$join(", ")));return v},x.$$arity=-2);a.def(c,"$resolve_block_subs",I=function(a,b,d){return this.$resolve_subs(a,"block",b,d)},I.$$arity=3);a.def(c,"$resolve_pass_subs",ta=function(a){return this.$resolve_subs(a,"inline",d,"passthrough macro")},ta.$$arity=1);a.def(c,"$expand_subs",T=function(a,e){var c,m,g=d;null==e&&(e=d);return f(t("::","Symbol")["$==="](a))?a["$=="]("none")?d:f(c=p(y,"SUB_GROUPS")["$[]"](a))?c:[a]:f(t("::","Array")["$==="](a))?
(g=[],u(a,"each",[],(m=function(a){var e;null==a&&(a=d);return a["$=="]("none")?d:f(e=p(y,"SUB_GROUPS")["$[]"](a))?g=b(g,e):g["$<<"](a)},m.$$s=this,m.$$arity=1,m)),f(g["$empty?"]())?d:g):this.$resolve_subs(a,"inline",d,e)},T.$$arity=-2);a.def(c,"$commit_subs",na=function(){var b,e,c,m,h=d,l=d,k=d;null==this.default_subs&&(this.default_subs=d);null==this.content_model&&(this.content_model=d);null==this.context&&(this.context=d);null==this.subs&&(this.subs=d);null==this.attributes&&(this.attributes=
d);null==this.style&&(this.style=d);null==this.document&&(this.document=d);if(!f(m=this.default_subs))if(m=this.content_model,"simple"["$==="](m))m=p(y,"NORMAL_SUBS");else if("verbatim"["$==="](m))m=this.context["$=="]("verse")?p(y,"NORMAL_SUBS"):p(y,"VERBATIM_SUBS");else if("raw"["$==="](m))m=this.context["$=="]("stem")?p(y,"BASIC_SUBS"):p(y,"NO_SUBS");else return this.subs;f(h=this.attributes["$[]"]("subs"))?this.subs=f(b=this.$resolve_block_subs(h,m,this.context))?b:[]:this.subs=m.$drop(0);f(f(b=
f(e=f(c=this.context["$=="]("listing")?this.style["$=="]("source"):this.context["$=="]("listing"))?l=this.document.$syntax_highlighter():c)?l["$highlight?"]():e)?k=this.subs.$index("specialcharacters"):b)&&(b=[k,"highlight"],u(this.subs,"[]=",a.to_a(b)),b[g(b.length,1)]);return d},na.$$arity=0);a.def(c,"$parse_attributes",ja=function(a,b,e){var c,g=d,h=d;null==this.document&&(this.document=d);null==b&&(b=[]);null==e&&(e=m([],{}));if(f(f(a)?a["$empty?"]():!0))return m([],{});f(e["$[]"]("unescape_input"))&&
(a=this.$normalize_text(a,!0,!0));f(f(c=e["$[]"]("sub_input"))?a["$include?"](p(y,"ATTR_REF_HEAD")):c)&&(a=this.document.$sub_attributes(a));f(e["$[]"]("sub_result"))&&(g=this);return f(h=e["$[]"]("into"))?p(y,"AttributeList").$new(a,g).$parse_into(h,b):p(y,"AttributeList").$new(a,g).$parse(b)},ja.$$arity=-2);c.$private();a.def(c,"$extract_attributes_from_text",ca=function(a,b){var e=d,c=d;null==b&&(b=d);var m=f(a["$include?"](p(y,"LF")))?a.$tr(p(y,"LF")," "):a;return f(e=(c=p(y,"AttributeList").$new(m,
this).$parse())["$[]"](1))?e["$=="](m)?[a,c.$clear()]:[e,c]:[b,c]},ca.$$arity=-2);a.def(c,"$extract_callouts",K=function(e){var c,h=d,l=d,k=d,q=d,v=d;h=m([],{});l=k=0;q=d;v=f(this["$attr?"]("line-comment"))?p(y,"CalloutExtractRxMap")["$[]"](this.$attr("line-comment")):p(y,"CalloutExtractRx");e=u(e.$split(p(y,"LF"),-1),"map",[],(c=function(e){var m=c.$$s||this,t;null==e&&(e=d);k=b(k,1);return u(e,"gsub",[v],(t=function(){var e,c,m=d;if(f((e=w["~"])===d?d:e["$[]"](2)))return((e=w["~"])===d?d:e["$[]"](0)).$sub(p(y,
"RS"),"");(f(e=h["$[]"](k))?e:(m=[k,[]],u(h,"[]=",a.to_a(m)),m[g(m.length,1)]))["$<<"]([f(e=(c=w["~"])===d?d:c["$[]"](1))?e:((c=w["~"])===d?d:c["$[]"](3))["$=="]("--")?["\x3c!--","--\x3e"]:d,((e=w["~"])===d?d:e["$[]"](4))["$=="](".")?(l=b(l,1)).$to_s():(e=w["~"])===d?d:e["$[]"](4)]);q=k;return""},t.$$s=m,t.$$arity=0,t))},c.$$s=this,c.$$arity=1,c)).$join(p(y,"LF"));f(q)?q["$=="](k)&&(e=""+e+p(y,"LF")):h=d;return[e,h]},K.$$arity=1);a.def(c,"$restore_callouts",M=function(e,c,g){var h,l=d,k=d;null==g&&
(g=d);f(g)?(l=e.$slice(0,g),e=e.$slice(g,e.$length())):l="";k=0;return b(l,u(e.$split(p(y,"LF"),-1),"map",[],(h=function(e){var g=h.$$s||this,l,q,v=l=d;var t=d;null==g.document&&(g.document=d);null==e&&(e=d);return f(l=c.$delete(k=b(k,1)))?l.$size()["$=="](1)?(l=l["$[]"](0),t=a.to_ary(l),v=null==t[0]?d:t[0],t=null==t[1]?d:t[1],l,""+e+p(y,"Inline").$new(g,"callout",t,m(["id","attributes"],{id:g.document.$callouts().$read_next_id(),attributes:m(["guard"],{guard:v})})).$convert()):""+e+u(l,"map",[],
(q=function(a,b){var e=q.$$s||this;null==e.document&&(e.document=d);null==a&&(a=d);null==b&&(b=d);return p(y,"Inline").$new(e,"callout",b,m(["id","attributes"],{id:e.document.$callouts().$read_next_id(),attributes:m(["guard"],{guard:a})})).$convert()},q.$$s=g,q.$$arity=2,q)).$join(" "):e},h.$$s=this,h.$$arity=1,h)).$join(p(y,"LF")))},M.$$arity=-3);a.def(c,"$extract_inner_passthrough",N=function(b,e){var c,h;null==this.passthroughs&&(this.passthroughs=d);if(f(f(c=f(h=b["$end_with?"]("+"))?b["$start_with?"]("+",
"\\+"):h)?p(y,"SinglePlusInlinePassRx")["$=~"](b):c)){if(f((c=w["~"])===d?d:c["$[]"](1)))return""+e+"`+"+((c=w["~"])===d?d:c["$[]"](2))+"+`";b=[h=this.passthroughs.$size(),m(["text","subs"],{text:(c=w["~"])===d?d:c["$[]"](2),subs:p(y,"BASIC_SUBS")})];u(this.passthroughs,"[]=",a.to_a(b));b[g(b.length,1)];return""+e+"`"+p(y,"PASS_START")+h+p(y,"PASS_END")+"`"}return""+e+"`"+b+"`"},N.$$arity=2);a.def(c,"$convert_quoted_text",ha=function(a,b,e){var c=d,g=d,h=d,l=d;if(f(a["$[]"](0)["$start_with?"](p(y,
"RS"))))if(f(e["$=="]("constrained")?c=a["$[]"](2):e["$=="]("constrained")))g="["+c+"]";else return a["$[]"](0).$slice(1,a["$[]"](0).$length());if(e["$=="]("constrained")){if(f(g))return""+g+p(y,"Inline").$new(this,"quoted",a["$[]"](3),m(["type"],{type:b})).$convert();f(e=a["$[]"](2))&&(h=(l=this.$parse_quoted_text_attributes(e))["$[]"]("id"),b["$=="]("mark")&&(b="unquoted"));return""+a["$[]"](1)+p(y,"Inline").$new(this,"quoted",a["$[]"](3),m(["type","id","attributes"],{type:b,id:h,attributes:l})).$convert()}f(e=
a["$[]"](1))&&(h=(l=this.$parse_quoted_text_attributes(e))["$[]"]("id"),b["$=="]("mark")&&(b="unquoted"));return p(y,"Inline").$new(this,"quoted",a["$[]"](2),m(["type","id","attributes"],{type:b,id:h,attributes:l})).$convert()},ha.$$arity=3);a.def(c,"$do_replacement",ua=function(a,d,e){var c;return f((c=a["$[]"](0))["$include?"](p(y,"RS")))?c.$sub(p(y,"RS"),""):"none"["$==="](e)?d:"bounding"["$==="](e)?b(b(a["$[]"](1),d),a["$[]"](2)):b(a["$[]"](1),d)},ua.$$arity=3);p(y,"RUBY_ENGINE")["$=="]("opal")||
d;a.def(c,"$parse_quoted_text_attributes",da=function(b){var e,c=d;if(f((b=b.$rstrip())["$empty?"]()))return m([],{});f(b["$include?"](p(y,"ATTR_REF_HEAD")))&&(b=this.$sub_attributes(b));f(b["$include?"](","))&&(b=b.$slice(0,b.$index(",")));if(f(f(e=b["$start_with?"](".","#"))?p(y,"Compliance").$shorthand_property_syntax():e)){var h=b.$split("#",2);f(l(h.$size(),1))?(b=h["$[]"](1).$split("."),e=a.to_ary(b),c=null==e[0]?d:e[0],e=n.call(e,1),b):e=[];b=f(h["$[]"](0)["$empty?"]())?[]:h["$[]"](0).$split(".");
f(l(b.$size(),1))&&b.$shift();f(l(e.$size(),0))&&b.$concat(e);e=m([],{});f(c)&&(c=["id",c],u(e,"[]=",a.to_a(c)),c[g(c.length,1)]);f(b["$empty?"]())||(c=["role",b.$join(" ")],u(e,"[]=",a.to_a(c)),c[g(c.length,1)]);return e}return m(["role"],{role:b})},da.$$arity=1);a.def(c,"$normalize_text",va=function(a,b,e){var c;null==b&&(b=d);null==e&&(e=d);f(a["$empty?"]())||(f(b)&&(a=a.$strip().$tr(p(y,"LF")," ")),f(f(c=e)?a["$include?"](p(y,"R_SB")):c)&&(a=a.$gsub(p(y,"ESC_R_SB"),p(y,"R_SB"))));return a},va.$$arity=
-2);a.def(c,"$split_simple_csv",Aa=function(a){var e,c,m=d,g=d,p=d;return f(a["$empty?"]())?[]:f(a["$include?"]('"'))?(m=[],g="",p=d,u(a,"each_char",[],(e=function(a){var e=d;null==a&&(a=d);return function(){e=a;if(","["$==="](e)){if(f(p))return g=b(g,a);m["$<<"](g.$strip());return g=""}return'"'["$==="](e)?p=p["$!"]():g=b(g,a)}()},e.$$s=this,e.$$arity=1,e)),m["$<<"](g.$strip())):u(a.$split(","),"map",[],(c=function(a){null==a&&(a=d);return a.$strip()},c.$$s=this,c.$$arity=1,c))},Aa.$$arity=1)})(c[0],
c)}(h[0],h)};Opal.modules["asciidoctor/version"]=function(a){var b=[],g=a.module;b=[g(b[0],"Asciidoctor")].concat(b);a.const_set(b[0],"VERSION","2.0.14")};Opal.modules["asciidoctor/abstract_node"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var l=[],k=a.nil,q=a.const_get_qualified,h=a.const_get_relative,d=a.module,t=a.klass,p=a.hash2,n=a.truthy,r=a.send;a.add_stubs("$include $attr_reader $attr_accessor $== $document $to_s $[] $merge $raise $converter $attributes $key? $[]= $- $delete $tap $new $each_key $end_with? $<< $slice $length $update $split $include? $=== $join $empty? $apply_reftext_subs $attr? $attr $extname? $image_uri $< $safe $uriish? $encode_spaces_in_uri $normalize_web_path $generate_data_uri_from_uri $generate_data_uri $extname $normalize_system_path $readable? $strict_encode64 $binread $warn $logger $require_library $! $open_uri $content_type $read $base_dir $root? $path_resolver $system_path $web_path $!= $prepare_source_string $fetch $read_asset".split(" "));
return function(c,e){c=[d(c,"Asciidoctor")].concat(e);(function(d,$super,e){d=t(d,$super,"AbstractNode");var c=[d].concat(e),f,m,l,v,z,w,u,B,L,J,A,D,C,S,E,G,x,ka,W,ma,aa,I,ta,T,na,ja,K,M,N,P,ha,ua,da;d.$$prototype.document=d.$$prototype.attributes=d.$$prototype.parent=k;d.$include(h(c,"Substitutors"),h(c,"Logging"));d.$attr_reader("attributes");d.$attr_reader("context");d.$attr_reader("document");d.$attr_accessor("id");d.$attr_reader("node_name");d.$attr_reader("parent");a.def(d,"$initialize",f=function(a,
b,d){var e=k;null==d&&(d=p([],{}));b["$=="]("document")?this.document=this:n(a)&&(this.document=(this.parent=a).$document());this.node_name=(this.context=b).$to_s();this.attributes=n(e=d["$[]"]("attributes"))?e.$merge():p([],{});return this.passthroughs=[]},f.$$arity=-3);a.def(d,"$block?",m=function(){return this.$raise(q("::","NotImplementedError"))},m.$$arity=0);a.def(d,"$inline?",l=function(){return this.$raise(q("::","NotImplementedError"))},l.$$arity=0);a.def(d,"$converter",v=function(){return this.document.$converter()},
v.$$arity=0);a.def(d,"$parent=",z=function(a){var b;return b=[a,a.$document()],this.parent=b[0],this.document=b[1],b},z.$$arity=1);a.def(d,"$attr",w=function(a,b,d){var e,c,f,g;null==b&&(b=k);null==d&&(d=k);return n(e=this.attributes["$[]"](a.$to_s()))?e:n(c=n(f=n(g=d)?this.parent:g)?this.document.$attributes()["$[]"]((d["$=="](!0)?a:d).$to_s()):f)?c:b},w.$$arity=-2);a.def(d,"$attr?",u=function(a,b,d){var e,c;null==b&&(b=k);null==d&&(d=k);return n(b)?b["$=="](n(e=this.attributes["$[]"](a.$to_s()))?
e:n(n(c=d)?this.parent:c)?this.document.$attributes()["$[]"]((d["$=="](!0)?a:d).$to_s()):k):n(e=this.attributes["$key?"](a.$to_s()))?e:n(n(c=d)?this.parent:c)?this.document.$attributes()["$key?"]((d["$=="](!0)?a:d).$to_s()):!1},u.$$arity=-2);a.def(d,"$set_attr",B=function(d,e,c){null==e&&(e="");null==c&&(c=!0);if(n(c["$=="](!1)?this.attributes["$key?"](d):c["$=="](!1)))return!1;d=[d,e];r(this.attributes,"[]=",a.to_a(d));d[b(d.length,1)];return!0},B.$$arity=-2);a.def(d,"$remove_attr",L=function(a){return this.attributes.$delete(a)},
L.$$arity=1);a.def(d,"$option?",J=function(a){return n(this.attributes["$[]"](""+a+"-option"))?!0:!1},J.$$arity=1);a.def(d,"$set_option",A=function(d){d=[""+d+"-option",""];r(this.attributes,"[]=",a.to_a(d));d[b(d.length,1)];return k},A.$$arity=1);a.def(d,"$enabled_options",D=function(){var a;return r(q("::","Set").$new(),"tap",[],(a=function(d){var e=a.$$s||this,c;null==e.attributes&&(e.attributes=k);null==d&&(d=k);return r(e.attributes,"each_key",[],(c=function(a){null==a&&(a=k);return n(a.$to_s()["$end_with?"]("-option"))?
d["$<<"](a.$slice(0,b(a.$length(),7))):k},c.$$s=e,c.$$arity=1,c))},a.$$s=this,a.$$arity=1,a))},D.$$arity=0);a.def(d,"$update_attributes",C=function(a){return this.attributes.$update(a)},C.$$arity=1);a.def(d,"$role",S=function(){return this.attributes["$[]"]("role")},S.$$arity=0);a.def(d,"$roles",E=function(){var a;return n(a=this.attributes["$[]"]("role"))?a.$split():[]},E.$$arity=0);a.def(d,"$role?",G=function(a){null==a&&(a=k);return n(a)?a["$=="](this.attributes["$[]"]("role")):this.attributes["$key?"]("role")},
G.$$arity=-1);a.def(d,"$has_role?",x=function(a){var b;return n(b=this.attributes["$[]"]("role"))?(" "+b+" ")["$include?"](" "+a+" "):!1},x.$$arity=1);a.def(d,"$role=",ka=function(d){d=["role",n(q("::","Array")["$==="](d))?d.$join(" "):d];r(this.attributes,"[]=",a.to_a(d));return d[b(d.length,1)]},ka.$$arity=1);a.def(d,"$add_role",W=function(d){var e;if(n(e=this.attributes["$[]"]("role"))){if(n((" "+e+" ")["$include?"](" "+d+" ")))return!1;d=["role",""+e+" "+d];r(this.attributes,"[]=",a.to_a(d));
d[b(d.length,1)];return!0}d=["role",d];r(this.attributes,"[]=",a.to_a(d));d[b(d.length,1)];return!0},W.$$arity=1);a.def(d,"$remove_role",ma=function(d){var e,c=k;return n(n(e=c=this.attributes["$[]"]("role"))?(c=c.$split()).$delete(d):e)?(n(c["$empty?"]())?this.attributes.$delete("role"):(d=["role",c.$join(" ")],r(this.attributes,"[]=",a.to_a(d)),d[b(d.length,1)]),!0):!1},ma.$$arity=1);a.def(d,"$reftext",aa=function(){var a;return n(a=this.attributes["$[]"]("reftext"))?this.$apply_reftext_subs(a):
k},aa.$$arity=0);a.def(d,"$reftext?",I=function(){return this.attributes["$key?"]("reftext")},I.$$arity=0);a.def(d,"$icon_uri",ta=function(a){n(this["$attr?"]("icon"))?(a=this.$attr("icon"),n(h(c,"Helpers")["$extname?"](a))||(a=""+a+"."+this.document.$attr("icontype","png"))):a=""+a+"."+this.document.$attr("icontype","png");return this.$image_uri(a,"iconsdir")},ta.$$arity=1);a.def(d,"$image_uri",T=function(a,b){var d,e,f,m,p=k,l=k;null==b&&(b="imagesdir");return n(n(d=g((p=this.document).$safe(),
q(h(c,"SafeMode"),"SECURE")))?p["$attr?"]("data-uri"):d)?n(n(d=n(e=h(c,"Helpers")["$uriish?"](a))?a=h(c,"Helpers").$encode_spaces_in_uri(a):e)?d:n(e=n(f=n(m=b)?l=p.$attr(b):m)?h(c,"Helpers")["$uriish?"](l):f)?a=this.$normalize_web_path(a,l,!1):e)?n(p["$attr?"]("allow-uri-read"))?this.$generate_data_uri_from_uri(a,p["$attr?"]("cache-uri")):a:this.$generate_data_uri(a,b):this.$normalize_web_path(a,n(b)?p.$attr(b):k)},T.$$arity=-2);a.def(d,"$media_uri",na=function(a,b){null==b&&(b="imagesdir");return this.$normalize_web_path(a,
n(b)?this.document.$attr(b):k)},na.$$arity=-2);a.def(d,"$generate_data_uri",ja=function(a,b){var d=k;null==b&&(b=k);var e=n(d=h(c,"Helpers").$extname(a,k))?d["$=="](".svg")?"image/svg+xml":"image/"+d.$slice(1,d.$length()):"application/octet-stream";a=n(b)?this.$normalize_system_path(a,this.document.$attr(b),k,p(["target_name"],{target_name:"image"})):this.$normalize_system_path(a);if(n(q("::","File")["$readable?"](a)))return"data:"+e+";base64,"+q("::","Base64").$strict_encode64(q("::","File").$binread(a));
this.$logger().$warn("image to embed not found or not readable: "+a);return"data:"+e+";base64,"},ja.$$arity=-2);a.def(d,"$generate_data_uri_from_uri",K=function(b,d){var e,f=k,g=k;null==d&&(d=!1);n(d)?h(c,"Helpers").$require_library("open-uri/cached","open-uri-cached"):n(h(c,"RUBY_ENGINE_OPAL")["$!"]())&&q("::","OpenURI");try{var m=r(q("::","OpenURI"),"open_uri",[b,h(c,"URI_READ_MODE")],(e=function(a){null==a&&(a=k);return[a.$content_type(),a.$read()]},e.$$s=this,e.$$arity=1,e));var p=a.to_ary(m);
f=null==p[0]?k:p[0];g=null==p[1]?k:p[1];m;return"data:"+f+";base64,"+q("::","Base64").$strict_encode64(g)}catch(Qa){if(a.rescue(Qa,[h(c,"StandardError")]))try{return this.$logger().$warn("could not retrieve image data from URI: "+b),b}finally{a.pop_exception()}else throw Qa;}},K.$$arity=-2);a.def(d,"$normalize_asset_path",M=function(a,b,d){null==b&&(b="path");null==d&&(d=!0);return this.$normalize_system_path(a,this.document.$base_dir(),k,p(["target_name","recover"],{target_name:b,recover:d}))},M.$$arity=
-2);a.def(d,"$normalize_system_path",N=function(a,b,d,e){var f;null==b&&(b=k);null==d&&(d=k);null==e&&(e=p([],{}));n(g((f=this.document).$safe(),q(h(c,"SafeMode"),"SAFE")))?n(b)?n(f.$path_resolver()["$root?"](b))||(b=q("::","File").$join(f.$base_dir(),b)):b=f.$base_dir():(n(b)||(b=f.$base_dir()),n(d)||(d=f.$base_dir()));return f.$path_resolver().$system_path(a,b,d,e)},N.$$arity=-2);a.def(d,"$normalize_web_path",P=function(a,b,d){var e;null==b&&(b=k);null==d&&(d=!0);return n(n(e=d)?h(c,"Helpers")["$uriish?"](a):
e)?h(c,"Helpers").$encode_spaces_in_uri(a):this.document.$path_resolver().$web_path(a,b)},P.$$arity=-2);a.def(d,"$read_asset",ha=function(a,b){var d;null==b&&(b=p([],{}));n(q("::","Hash")["$==="](b))||(b=p(["warn_on_failure"],{warn_on_failure:b["$!="](!1)}));if(n(q("::","File")["$readable?"](a)))return n(b["$[]"]("normalize"))?h(c,"Helpers").$prepare_source_string(q("::","File").$read(a,p(["mode"],{mode:h(c,"FILE_READ_MODE")}))).$join(h(c,"LF")):q("::","File").$read(a,p(["mode"],{mode:h(c,"FILE_READ_MODE")}));
n(b["$[]"]("warn_on_failure"))&&this.$logger().$warn(""+(n(d=this.$attr("docfile"))?d:"<stdin>")+": "+(n(d=b["$[]"]("label"))?d:"file")+" does not exist or cannot be read: "+a);return k},ha.$$arity=-2);a.def(d,"$read_contents",ua=function(b,d){var e,f,g,m,l,v=k,y=k,t=k;null==d&&(d=p([],{}));v=this.document;if(n(n(e=h(c,"Helpers")["$uriish?"](b))?e:n(f=n(g=y=d["$[]"]("start"))?h(c,"Helpers")["$uriish?"](y):g)?b=v.$path_resolver().$web_path(b,y):f))if(n(v["$attr?"]("allow-uri-read"))){n(v["$attr?"]("cache-uri"))&&
h(c,"Helpers").$require_library("open-uri/cached","open-uri-cached");try{t=n(d["$[]"]("normalize"))?h(c,"Helpers").$prepare_source_string(r(q("::","OpenURI"),"open_uri",[b,h(c,"URI_READ_MODE")],(m=function(a){null==a&&(a=k);return a.$read()},m.$$s=this,m.$$arity=1,m))).$join(h(c,"LF")):r(q("::","OpenURI"),"open_uri",[b,h(c,"URI_READ_MODE")],(l=function(a){null==a&&(a=k);return a.$read()},l.$$s=this,l.$$arity=1,l))}catch(Ka){if(a.rescue(Ka,[h(c,"StandardError")]))try{n(d.$fetch("warn_on_failure",!0))&&
this.$logger().$warn("could not retrieve contents of "+(n(e=d["$[]"]("label"))?e:"asset")+" at URI: "+b)}finally{a.pop_exception()}else throw Ka;}}else n(d.$fetch("warn_on_failure",!0))&&this.$logger().$warn("cannot retrieve contents of "+(n(e=d["$[]"]("label"))?e:"asset")+" at URI: "+b+" (allow-uri-read attribute not enabled)");else b=this.$normalize_system_path(b,d["$[]"]("start"),k,p(["target_name"],{target_name:n(e=d["$[]"]("label"))?e:"asset"})),t=this.$read_asset(b,p(["normalize","warn_on_failure",
"label"],{normalize:d["$[]"]("normalize"),warn_on_failure:d.$fetch("warn_on_failure",!0),label:d["$[]"]("label")}));n(n(e=n(f=t)?d["$[]"]("warn_if_empty"):f)?t["$empty?"]():e)&&this.$logger().$warn("contents of "+(n(e=d["$[]"]("label"))?e:"asset")+" is empty: "+b);return t},ua.$$arity=-2);return(a.def(d,"$is_uri?",da=function(a){return h(c,"Helpers")["$uriish?"](a)},da.$$arity=1),k)&&"is_uri?"})(c[0],null,c)}(l[0],l)};Opal.modules["asciidoctor/abstract_block"]=function(a){function b(a,b){return"number"===
typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var k=[],l=a.nil,q=a.const_get_qualified,h=a.const_get_relative,d=a.module,t=a.klass,p=a.hash2,n=a.send,r=a.truthy;a.add_stubs("$attr_reader $attr_writer $attr_accessor $== $=== $level $file $lineno $playback_attributes $convert $converter $join $map $to_s $parent $parent= $- $<< $empty? $> $Integer $find_by_internal $to_proc $context $[] $items $+ $find_index $include? $next_adjacent_block $blocks $select $sub_specialchars $match? $sub_replacements $title $apply_title_subs $delete $reftext $! $nil_or_empty? $sub_placeholder $sub_quotes $compat_mode $attributes $chomp $increment_and_store_counter $index= $numbered $sectname $counter $numeral= $numeral $caption= $int_to_roman $each $assign_numeral $reindex_sections $protected $has_role? $raise $header? $!= $flatten $head $rows $merge $body $foot $style $inner_document".split(" "));
return function(c,e){c=[d(c,"Asciidoctor")].concat(e);(function(d,$super,e){d=t(d,$super,"AbstractBlock");var c=[d].concat(e),f,m,k,v,z,w,u,B,L,J,A,D,C,E,S,G,x,ka,W,ma,aa,I,ta,T,na,ja,K,M,N,P;d.$$prototype.source_location=d.$$prototype.document=d.$$prototype.attributes=d.$$prototype.blocks=d.$$prototype.next_section_index=d.$$prototype.numeral=d.$$prototype.context=d.$$prototype.parent=d.$$prototype.caption=d.$$prototype.style=d.$$prototype.converted_title=d.$$prototype.title=d.$$prototype.subs=d.$$prototype.next_section_ordinal=
d.$$prototype.id=d.$$prototype.header=l;d.$attr_reader("blocks");d.$attr_writer("caption");d.$attr_accessor("content_model");d.$attr_accessor("level");d.$attr_accessor("numeral");d.$attr_accessor("source_location");d.$attr_accessor("style");d.$attr_reader("subs");a.def(d,"$initialize",f=function(b,d,e){var g,m=f.$$p,k;m&&(f.$$p=null);var q=0;var v=arguments.length;for(k=Array(v);q<v;q++)k[q]=arguments[q];null==e&&(e=p([],{}));n(this,a.find_super_dispatcher(this,"initialize",f,!1),k,m);this.content_model=
"compound";this.blocks=[];this.subs=[];this.id=this.title=this.caption=this.numeral=this.style=this.default_subs=this.source_location=l;return r(r(g=d["$=="]("document"))?g:d["$=="]("section"))?(this.level=this.next_section_index=0,this.next_section_ordinal=1):r(h(c,"AbstractBlock")["$==="](b))?this.level=b.$level():this.level=l},f.$$arity=-3);a.def(d,"$block?",m=function(){return!0},m.$$arity=0);a.def(d,"$inline?",k=function(){return!1},k.$$arity=0);a.def(d,"$file",v=function(){var a;return r(a=
this.source_location)?this.source_location.$file():a},v.$$arity=0);a.def(d,"$lineno",z=function(){var a;return r(a=this.source_location)?this.source_location.$lineno():a},z.$$arity=0);a.def(d,"$convert",w=function(){this.document.$playback_attributes(this.attributes);return this.$converter().$convert(this)},w.$$arity=0);a.alias(d,"render","convert");a.def(d,"$content",u=function(){var a;return n(this.blocks,"map",[],(a=function(a){null==a&&(a=l);return a.$convert()},a.$$s=this,a.$$arity=1,a)).$join(h(c,
"LF"))},u.$$arity=0);a.def(d,"$context=",B=function(a){return this.node_name=(this.context=a).$to_s()},B.$$arity=1);a.def(d,"$<<",L=function(d){if(!d.$parent()["$=="](this)){var e=[this];n(d,"parent=",a.to_a(e));e[b(e.length,1)]}this.blocks["$<<"](d);return this},L.$$arity=1);a.alias(d,"append","<<");a.def(d,"$blocks?",J=function(){return r(this.blocks["$empty?"]())?!1:!0},J.$$arity=0);a.def(d,"$sections?",A=function(){var a=this.next_section_index;return"number"===typeof a?0<a:a["$>"](0)},A.$$arity=
0);a.def(d,"$number",D=function(){try{return this.$Integer(this.numeral)}catch(ha){if(a.rescue(ha,[h(c,"StandardError")]))try{return this.numeral}finally{a.pop_exception()}else throw ha;}},D.$$arity=0);a.def(d,"$number=",C=function(a){return this.numeral=a.$to_s()},C.$$arity=1);a.def(d,"$find_by",E=function(b){var d=E.$$p,e=d||l,c=l;d&&(E.$$p=null);d&&(E.$$p=null);null==b&&(b=p([],{}));try{return n(this,"find_by_internal",[b,c=[]],e.$to_proc())}catch(Aa){if(a.rescue(Aa,[q("::","StopIteration")]))try{return c}finally{a.pop_exception()}else throw Aa;
}},E.$$arity=-1);a.alias(d,"query","find_by");a.def(d,"$next_adjacent_block",S=function(){var a,b=l,d=l;return this.context["$=="]("document")?l:r((b=this.parent).$context()["$=="]("dlist")?this.context["$=="]("list_item"):(b=this.parent).$context()["$=="]("dlist"))?r(d=b.$items()["$[]"](g(n(b.$items(),"find_index",[],(a=function(b,d){var e=a.$$s||this,c;null==b&&(b=l);null==d&&(d=l);return r(c=b["$include?"](e))?c:d["$=="](e)},a.$$s=this,a.$$arity=2,a)),1)))?d:b.$next_adjacent_block():r(d=b.$blocks()["$[]"](g(b.$blocks().$find_index(this),
1)))?d:b.$next_adjacent_block()},S.$$arity=0);a.def(d,"$sections",G=function(){var a;return n(this.blocks,"select",[],(a=function(a){null==a&&(a=l);return a.$context()["$=="]("section")},a.$$s=this,a.$$arity=1,a))},G.$$arity=0);a.def(d,"$alt",x=function(){var a;if(r(a=this.attributes["$[]"]("alt"))){if(a["$=="](this.attributes["$[]"]("default-alt")))return this.$sub_specialchars(a);a=this.$sub_specialchars(a);return r(h(c,"ReplaceableTextRx")["$match?"](a))?this.$sub_replacements(a):a}return""},x.$$arity=
0);a.def(d,"$caption",ka=function(){return this.context["$=="]("admonition")?this.attributes["$[]"]("textlabel"):this.caption},ka.$$arity=0);a.def(d,"$captioned_title",W=function(){return""+this.caption+this.$title()},W.$$arity=0);a.def(d,"$list_marker_keyword",ma=function(a){var b;null==a&&(a=l);return h(c,"ORDERED_LIST_KEYWORDS")["$[]"](r(b=a)?b:this.style)},ma.$$arity=-1);a.def(d,"$title",aa=function(){var a,b;return this.converted_title=r(a=this.converted_title)?a:r(b=this.title)?this.$apply_title_subs(this.title):
b},aa.$$arity=0);a.def(d,"$title?",I=function(){return r(this.title)?!0:!1},I.$$arity=0);a.def(d,"$title=",ta=function(a){this.converted_title=l;return this.title=a},ta.$$arity=1);a.def(d,"$sub?",T=function(a){return this.subs["$include?"](a)},T.$$arity=1);a.def(d,"$remove_sub",na=function(a){this.subs.$delete(a);return l},na.$$arity=1);a.def(d,"$xreftext",ja=function(a){var b,d,e=l,f=l,g=l;null==a&&(a=l);r(r(b=e=this.$reftext())?e["$empty?"]()["$!"]():b)?b=e:(r(r(b=r(d=a)?this.title:d)?this.caption["$nil_or_empty?"]()["$!"]():
b)?"full"["$==="](a)?(a=this.$sub_placeholder(this.$sub_quotes(r(this.document.$compat_mode())?"``%s''":'"`%s`"'),this.$title()),a=r(r(b=r(d=this.numeral)?f=h(c,"CAPTION_ATTRIBUTE_NAMES")["$[]"](this.context):d)?g=this.document.$attributes()["$[]"](f):b)?""+g+" "+this.numeral+", "+a:""+this.caption.$chomp(". ")+", "+a):a="short"["$==="](a)?r(r(b=r(d=this.numeral)?f=h(c,"CAPTION_ATTRIBUTE_NAMES")["$[]"](this.context):d)?g=this.document.$attributes()["$[]"](f):b)?""+g+" "+this.numeral:this.caption.$chomp(". "):
this.$title():a=this.$title(),b=a);return b},ja.$$arity=-1);a.def(d,"$assign_caption",K=function(a,b){var d,e,f=l,g=l;null==b&&(b=this.context);!r(r(d=r(e=this.caption)?e:this.title["$!"]())?d:this.caption=r(e=a)?e:this.document.$attributes()["$[]"]("caption"))&&r(r(d=f=h(c,"CAPTION_ATTRIBUTE_NAMES")["$[]"](b))?g=this.document.$attributes()["$[]"](f):d)&&(this.caption=""+g+" "+(this.numeral=this.document.$increment_and_store_counter(""+b+"-number",this))+". ");return l},K.$$arity=-2);a.def(d,"$assign_numeral",
M=function(d){var e,f=l,m,p=l;this.next_section_index=g((f=[this.next_section_index],n(d,"index=",a.to_a(f)),f[b(f.length,1)]),1);r(f=d.$numbered())&&((m=d.$sectname())["$=="]("appendix")?(f=[this.document.$counter("appendix-number","A")],n(d,"numeral=",a.to_a(f)),f[b(f.length,1)],f=[r(p=this.document.$attributes()["$[]"]("appendix-caption"))?""+p+" "+d.$numeral()+": ":""+d.$numeral()+". "],n(d,"caption=",a.to_a(f)),f[b(f.length,1)]):r(r(e=m["$=="]("chapter"))?e:f["$=="]("chapter"))?(f=[this.document.$counter("chapter-number",
1).$to_s()],n(d,"numeral=",a.to_a(f)),f[b(f.length,1)]):(f=[m["$=="]("part")?h(c,"Helpers").$int_to_roman(this.next_section_ordinal):this.next_section_ordinal.$to_s()],n(d,"numeral=",a.to_a(f)),f[b(f.length,1)],this.next_section_ordinal=g(this.next_section_ordinal,1)));return l},M.$$arity=1);a.def(d,"$reindex_sections",N=function(){var a;this.next_section_index=0;this.next_section_ordinal=1;return n(this.blocks,"each",[],(a=function(b){var d=a.$$s||this;null==b&&(b=l);return b.$context()["$=="]("section")?
(d.$assign_numeral(b),b.$reindex_sections()):l},a.$$s=this,a.$$arity=1,a))},N.$$arity=0);d.$protected();return(a.def(d,"$find_by_internal",P=function(b,d){var e=P.$$p,c=e||l,f,m,h,k,v,y,t,z,R,w,u=l,B=l,V=l,L=l,J=l,H=l;H=l;e&&(P.$$p=null);e&&(P.$$p=null);null==b&&(b=p([],{}));null==d&&(d=[]);if(r(r(f=r(m=r(h=r(k=u=r(B=b["$[]"]("context"))?l:!0)?k:B["$=="](this.context))?r(k=(V=b["$[]"]("style"))["$!"]())?k:V["$=="](this.style):h)?r(h=(L=b["$[]"]("role"))["$!"]())?h:this["$has_role?"](L):m)?r(m=(J=
b["$[]"]("id"))["$!"]())?m:J["$=="](this.id):f))if(c!==l)if(r(H=a.yield1(c,this))){if("prune"["$==="](H))return d["$<<"](this),r(J)&&this.$raise(q("::","StopIteration")),d;if("reject"["$==="](H))return r(J)&&this.$raise(q("::","StopIteration")),d;"stop"["$==="](H)?this.$raise(q("::","StopIteration")):(d["$<<"](this),r(J)&&this.$raise(q("::","StopIteration")))}else r(J)&&this.$raise(q("::","StopIteration"));else d["$<<"](this),r(J)&&this.$raise(q("::","StopIteration"));H=this.context;"document"["$==="](H)?
B["$=="]("document")||(r(r(f=this["$header?"]())?r(m=u)?m:B["$=="]("section"):f)&&n(this.header,"find_by_internal",[b,d],c.$to_proc()),n(this.blocks,"each",[],(v=function(a){null==a&&(a=l);return r(B["$=="]("section")?a.$context()["$!="]("section"):B["$=="]("section"))?l:n(a,"find_by_internal",[b,d],c.$to_proc())},v.$$s=this,v.$$arity=1,v))):"dlist"["$==="](H)?r(r(f=u)?f:B["$!="]("section"))&&n(this.blocks.$flatten(),"each",[],(y=function(a){null==a&&(a=l);return r(a)?n(a,"find_by_internal",[b,d],
c.$to_proc()):l},y.$$s=this,y.$$arity=1,y)):"table"["$==="](H)?r(b["$[]"]("traverse_documents"))?(n(this.$rows().$head(),"each",[],(t=function(a){var e=t.$$s||this,f;null==a&&(a=l);return n(a,"each",[],(f=function(a){null==a&&(a=l);return n(a,"find_by_internal",[b,d],c.$to_proc())},f.$$s=e,f.$$arity=1,f))},t.$$s=this,t.$$arity=1,t)),B["$=="]("inner_document")&&(b=b.$merge(p(["context"],{context:"document"}))),n(g(this.$rows().$body(),this.$rows().$foot()),"each",[],(z=function(a){var e=z.$$s||this,
f;null==a&&(a=l);return n(a,"each",[],(f=function(a){null==a&&(a=l);n(a,"find_by_internal",[b,d],c.$to_proc());return a.$style()["$=="]("asciidoc")?n(a.$inner_document(),"find_by_internal",[b,d],c.$to_proc()):l},f.$$s=e,f.$$arity=1,f))},z.$$s=this,z.$$arity=1,z))):n(g(g(this.$rows().$head(),this.$rows().$body()),this.$rows().$foot()),"each",[],(R=function(a){var e=R.$$s||this,f;null==a&&(a=l);return n(a,"each",[],(f=function(a){null==a&&(a=l);return n(a,"find_by_internal",[b,d],c.$to_proc())},f.$$s=
e,f.$$arity=1,f))},R.$$s=this,R.$$arity=1,R)):n(this.blocks,"each",[],(w=function(a){null==a&&(a=l);return r(B["$=="]("section")?a.$context()["$!="]("section"):B["$=="]("section"))?l:n(a,"find_by_internal",[b,d],c.$to_proc())},w.$$s=this,w.$$arity=1,w));return d},P.$$arity=-1),l)&&"find_by_internal"})(c[0],h(c,"AbstractNode"),c)}(k[0],k)};Opal.modules["asciidoctor/attribute_list"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function g(a,b){return"number"===
typeof a&&"number"===typeof b?a-b:a["$-"](b)}var l=[],k=a.nil,q=a.const_get_qualified,h=a.const_get_relative,d=a.module,t=a.klass,p=a.hash,n=a.hash2,r=a.truthy,m=a.send;a.add_stubs("$new $[] $update $parse $parse_attribute $eos? $skip_delimiter $+ $rekey $each_with_index $[]= $- $private $skip_blank $peek $=== $parse_attribute_value $get_byte $start_with? $scan_name $end_with? $rstrip $string $== $unscan $scan_to_delimiter $* $include? $delete $each $split $empty? $apply_subs $scan_to_quote $gsub $skip $scan".split(" "));
return function(e,c){e=[d(e,"Asciidoctor")].concat(c);(function(d,$super,e){d=t(d,$super,"AttributeList");var c=[d].concat(e),f,l,v,z,w,u,B,L,J,A,U,D;d.$$prototype.attributes=d.$$prototype.scanner=d.$$prototype.delimiter=d.$$prototype.block=d.$$prototype.delimiter_skip_pattern=d.$$prototype.delimiter_boundary_pattern=k;a.const_set(c[0],"APOS","'");a.const_set(c[0],"BACKSLASH","\\");a.const_set(c[0],"QUOT",'"');a.const_set(c[0],"BoundaryRx",p(h(c,"QUOT"),/.*?[^\\](?=")/,h(c,"APOS"),/.*?[^\\](?=')/,
",",/.*?(?=[ \t]*(,|$))/));a.const_set(c[0],"EscapedQuotes",p(h(c,"QUOT"),'\\"',h(c,"APOS"),"\\'"));a.const_set(c[0],"NameRx",new RegExp(""+h(c,"CG_WORD")+"["+h(c,"CC_WORD")+"\\-.]*"));a.const_set(c[0],"BlankRx",/[ \t]+/);a.const_set(c[0],"SkipRx",n([","],{",":/[ \t]*(,|$)/}));a.def(d,"$initialize",f=function(a,b,d){null==b&&(b=k);null==d&&(d=",");this.scanner=q("::","StringScanner").$new(a);this.block=b;this.delimiter=d;this.delimiter_skip_pattern=h(c,"SkipRx")["$[]"](d);this.delimiter_boundary_pattern=
h(c,"BoundaryRx")["$[]"](d);return this.attributes=k},f.$$arity=-2);a.def(d,"$parse_into",l=function(a,b){null==b&&(b=[]);return a.$update(this.$parse(b))},l.$$arity=-2);a.def(d,"$parse",v=function(a){var d;null==a&&(a=[]);if(r(this.attributes))return this.attributes;this.attributes=n([],{});for(d=0;r(this.$parse_attribute(d,a))&&!r(this.scanner["$eos?"]());)this.$skip_delimiter(),d=b(d,1);return this.attributes},v.$$arity=-1);a.def(d,"$rekey",z=function(a){return h(c,"AttributeList").$rekey(this.attributes,
a)},z.$$arity=1);a.defs(d,"$rekey",w=function(d,e){var c;m(e,"each_with_index",[],(c=function(e,c){var f,p=k;null==e&&(e=k);null==c&&(c=k);return r(r(f=e)?p=d["$[]"](b(c,1)):f)?(e=[e,p],m(d,"[]=",a.to_a(e)),e[g(e.length,1)]):k},c.$$s=this,c.$$arity=2,c));return d},w.$$arity=2);d.$private();a.def(d,"$parse_attribute",u=function(d,e){var f,p,l,q=k,v=k,y=k,t=k,n=v=k,z=k;n=n=k;q=!0;this.$skip_blank();v=this.scanner.$peek(1);if(h(c,"QUOT")["$==="](v))y=this.$parse_attribute_value(this.scanner.$get_byte());
else if(h(c,"APOS")["$==="](v))y=this.$parse_attribute_value(this.scanner.$get_byte()),r(y["$start_with?"](h(c,"APOS")))||(t=!0);else if(v=r(f=r(p=y=this.$scan_name())?this.$skip_blank():p)?f:0,r(this.scanner["$eos?"]())){if(!r(r(f=y)?f:this.scanner.$string().$rstrip()["$end_with?"](this.delimiter)))return k;q=k}else if((n=this.scanner.$get_byte())["$=="](this.delimiter))this.scanner.$unscan();else if(r(y))if(n["$=="]("="))if(this.$skip_blank(),v=n=this.scanner.$get_byte(),h(c,"QUOT")["$==="](v))z=
this.$parse_attribute_value(n);else if(h(c,"APOS")["$==="](v))z=this.$parse_attribute_value(n),r(z["$start_with?"](h(c,"APOS")))||(t=!0);else if(this.delimiter["$==="](v))z="",this.scanner.$unscan();else if(k["$==="](v))z="";else{if(z=""+n+this.$scan_to_delimiter(),z["$=="]("None"))return!0}else y=""+y+" "["$*"](v)+n+this.$scan_to_delimiter();else y=""+n+this.$scan_to_delimiter();r(z)?(v=y,"options"["$==="](v)||"opts"["$==="](v)?r(z["$include?"](","))?(r(z["$include?"](" "))&&(z=z.$delete(" ")),m(z.$split(","),
"each",[],(l=function(b){var d=l.$$s||this;null==d.attributes&&(d.attributes=k);null==b&&(b=k);if(r(b["$empty?"]()))return k;b=[""+b+"-option",""];m(d.attributes,"[]=",a.to_a(b));return b[g(b.length,1)]},l.$$s=this,l.$$arity=1,l))):r(z["$empty?"]())||(n=[""+z+"-option",""],m(this.attributes,"[]=",a.to_a(n)),n[g(n.length,1)]):(r(r(f=t)?this.block:f)?(v=y,n="title"["$==="](v)||"reftext"["$==="](v)?[y,z]:[y,this.block.$apply_subs(z)]):n=[y,z],m(this.attributes,"[]=",a.to_a(n)),n[g(n.length,1)])):(r(r(f=
t)?this.block:f)&&(y=this.block.$apply_subs(y)),r(n=e["$[]"](d))&&(n=[n,y],m(this.attributes,"[]=",a.to_a(n)),n[g(n.length,1)]),n=[b(d,1),y],m(this.attributes,"[]=",a.to_a(n)),n[g(n.length,1)]);return q},u.$$arity=2);a.def(d,"$parse_attribute_value",B=function(a){var b;return this.scanner.$peek(1)["$=="](a)?(this.scanner.$get_byte(),""):r(b=this.$scan_to_quote(a))?(this.scanner.$get_byte(),r(b["$include?"](h(c,"BACKSLASH")))?b.$gsub(h(c,"EscapedQuotes")["$[]"](a),a):b):""+a+this.$scan_to_delimiter()},
B.$$arity=1);a.def(d,"$skip_blank",L=function(){return this.scanner.$skip(h(c,"BlankRx"))},L.$$arity=0);a.def(d,"$skip_delimiter",J=function(){return this.scanner.$skip(this.delimiter_skip_pattern)},J.$$arity=0);a.def(d,"$scan_name",A=function(){return this.scanner.$scan(h(c,"NameRx"))},A.$$arity=0);a.def(d,"$scan_to_delimiter",U=function(){return this.scanner.$scan(this.delimiter_boundary_pattern)},U.$$arity=0);return(a.def(d,"$scan_to_quote",D=function(a){return this.scanner.$scan(h(c,"BoundaryRx")["$[]"](a))},
D.$$arity=1),k)&&"scan_to_quote"})(e[0],null,e)}(l[0],l)};Opal.modules["asciidoctor/block"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var g=[],l=a.nil,k=a.const_get_qualified,q=a.const_get_relative,h=a.module,d=a.klass,n=a.send,p=a.hash2,t=a.truthy;a.add_stubs("$default= $- $attr_accessor $[] $key? $== $=== $drop $delete $[]= $commit_subs $nil_or_empty? $prepare_source_string $apply_subs $join $< $size $empty? $rstrip $shift $pop $warn $logger $to_s $class $object_id $inspect".split(" "));
return function(c,g){c=[h(c,"Asciidoctor")].concat(g);(function(e,$super,c){e=d(e,$super,"Block");var g=[e].concat(c),m,h,v,r;c=l;e.$$prototype.attributes=e.$$prototype.content_model=e.$$prototype.lines=e.$$prototype.subs=e.$$prototype.blocks=e.$$prototype.context=e.$$prototype.style=l;c=["simple"];n(a.const_set(g[0],"DEFAULT_CONTENT_MODEL",p("audio image listing literal stem open page_break pass thematic_break video".split(" "),{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",
open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"})),"default=",a.to_a(c));c[b(c.length,1)];a.alias(e,"blockname","context");e.$attr_accessor("lines");a.def(e,"$initialize",m=function(d,e,c){var h,v=m.$$p,y,r;v&&(m.$$p=null);var z=0;var R=arguments.length;for(r=Array(R);z<R;z++)r[z]=arguments[z];null==c&&(c=p([],{}));n(this,a.find_super_dispatcher(this,"initialize",m,!1),r,v);this.content_model=t(h=c["$[]"]("content_model"))?h:q(g,"DEFAULT_CONTENT_MODEL")["$[]"](e);
t(c["$key?"]("subs"))?t(h=c["$[]"]("subs"))?(h["$=="]("default")?this.default_subs=c["$[]"]("default_subs"):t(k("::","Array")["$==="](h))?(this.default_subs=h.$drop(0),this.attributes.$delete("subs")):(this.default_subs=l,h=["subs",""+h],n(this.attributes,"[]=",a.to_a(h)),h[b(h.length,1)]),this.$commit_subs()):(this.default_subs=[],this.attributes.$delete("subs")):this.default_subs=l;return t((y=c["$[]"]("source"))["$nil_or_empty?"]())?this.lines=[]:t(k("::","String")["$==="](y))?this.lines=q(g,"Helpers").$prepare_source_string(y):
this.lines=y.$drop(0)},m.$$arity=-3);a.def(e,"$content",h=function(){var b,d=h.$$p,e=this,c=l,m=l,p=l,k=l,v=l,r=l,z=l;d&&(h.$$p=null);r=0;z=arguments.length;for(v=Array(z);r<z;r++)v[r]=arguments[r];return function(){c=e.content_model;if("compound"["$==="](c))return n(e,a.find_super_dispatcher(e,"content",h,!1),v,d);if("simple"["$==="](c))return e.$apply_subs(e.lines.$join(q(g,"LF")),e.subs);if("verbatim"["$==="](c)||"raw"["$==="](c)){m=e.$apply_subs(e.lines,e.subs);var y=m.$size();y="number"===typeof y?
2>y:y["$<"](2);if(t(y))return m["$[]"](0);for(;t(t(b=p=m["$[]"](0))?p.$rstrip()["$empty?"]():b);)m.$shift();for(;t(t(b=k=m["$[]"](-1))?k.$rstrip()["$empty?"]():b);)m.$pop();return m.$join(q(g,"LF"))}e.content_model["$=="]("empty")||e.$logger().$warn("Unknown content model '"+e.content_model+"' for block: "+e.$to_s());return l}()},h.$$arity=0);a.def(e,"$source",v=function(){return this.lines.$join(q(g,"LF"))},v.$$arity=0);return(a.def(e,"$to_s",r=function(){var a=this.content_model["$=="]("compound")?
"blocks: "+this.blocks.$size():"lines: "+this.lines.$size();return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", content_model: "+this.content_model.$inspect()+", style: "+this.style.$inspect()+", "+a+"}>"},r.$$arity=0),l)&&"to_s"})(c[0],q(c,"AbstractBlock"),c)}(g[0],g)};Opal.modules["asciidoctor/callouts"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a-b:
a["$-"](b)}var l=[],k=a.nil,q=a.module,h=a.klass,d=a.hash2,t=a.truthy,p=a.send;a.add_stubs("$next_list $<< $current_list $to_i $generate_next_callout_id $+ $<= $size $[] $- $chop $join $map $== $< $private $generate_callout_id".split(" "));return function(c,l){c=[q(c,"Asciidoctor")].concat(l);(function(c,$super,f){c=h(c,$super,"Callouts");[c].concat(f);var m,l,q,v,n,r,y,z,w;c.$$prototype.co_index=c.$$prototype.lists=c.$$prototype.list_index=k;a.def(c,"$initialize",m=function(){this.lists=[];this.list_index=
0;return this.$next_list()},m.$$arity=0);a.def(c,"$register",l=function(a){this.$current_list()["$<<"](d(["ordinal","id"],{ordinal:a.$to_i(),id:a=this.$generate_next_callout_id()}));this.co_index=b(this.co_index,1);return a},l.$$arity=1);a.def(c,"$read_next_id",q=function(){var a=k;var d=this.$current_list();var c=this.co_index;var f=d.$size();c="number"===typeof c&&"number"===typeof f?c<=f:c["$<="](f);t(c)&&(a=d["$[]"](g(this.co_index,1))["$[]"]("id"));this.co_index=b(this.co_index,1);return a},
q.$$arity=0);a.def(c,"$callout_ids",v=function(a){var b;return p(this.$current_list(),"map",[],(b=function(b){null==b&&(b=k);return b["$[]"]("ordinal")["$=="](a)?""+b["$[]"]("id")+" ":""},b.$$s=this,b.$$arity=1,b)).$join().$chop()},v.$$arity=1);a.def(c,"$current_list",n=function(){return this.lists["$[]"](g(this.list_index,1))},n.$$arity=0);a.def(c,"$next_list",r=function(){this.list_index=b(this.list_index,1);var a=this.lists.$size();var d=this.list_index;a="number"===typeof a&&"number"===typeof d?
a<d:a["$<"](d);if(t(a))this.lists["$<<"]([]);this.co_index=1;return k},r.$$arity=0);a.def(c,"$rewind",y=function(){this.co_index=this.list_index=1;return k},y.$$arity=0);c.$private();a.def(c,"$generate_next_callout_id",z=function(){return this.$generate_callout_id(this.list_index,this.co_index)},z.$$arity=0);return(a.def(c,"$generate_callout_id",w=function(a,b){return"CO"+a+"-"+b},w.$$arity=2),k)&&"generate_callout_id"})(c[0],null,c)}(l[0],l)};Opal.modules["asciidoctor/converter"]=function(a){function b(a,
b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var l=[],k=a.nil,q=a.const_get_qualified,h=a.const_get_relative,d=a.module,t=a.hash2,p=a.truthy,n=a.send,r=a.klass,m=a.gvars;a.add_stubs("$autoload $__dir__ $attr_reader $raise $class $[] $sub $slice $length $== $[]= $backend_traits $- $derive_backend_traits $register $map $to_s $new $create $default $each $default= $registry $for $=== $supports_templates? $merge $private $include $delete $clear $private_class_method $send $extend $node_name $+ $receiver $name $warn $logger $respond_to? $content".split(" "));
return function(e,c){e=[d(e,"Asciidoctor")].concat(c);(function(e,c){e=d(e,"Converter");var f=[e].concat(c),l,v,z,y,w,u;e.$autoload("CompositeConverter",""+e.$__dir__()+"/converter/composite");e.$autoload("TemplateConverter",""+e.$__dir__()+"/converter/template");e.$attr_reader("backend");a.def(e,"$initialize",l=function(a,b){null==b&&t([],{});return this.backend=a},l.$$arity=-2);a.def(e,"$convert",v=function(a,b,d){null==this.backend&&(this.backend=k);return this.$raise(q("::","NotImplementedError"),
""+this.$class()+" (backend: "+this.backend+") must implement the #convert method")},v.$$arity=-2);a.def(e,"$handles?",z=function(a){return!0},z.$$arity=1);a.defs(e,"$derive_backend_traits",y=function(a,b){var d,e,c;null==b&&(b=k);if(!p(a))return t([],{});p(e=h(f,"DEFAULT_EXTENSIONS")["$[]"](b=p(d=b)?d:a.$sub(h(f,"TrailingDigitsRx"),"")))?c=e.$slice(1,e.$length()):e="."+(c=b);return c["$=="]("html")?t(["basebackend","filetype","htmlsyntax","outfilesuffix"],{basebackend:b,filetype:c,htmlsyntax:"html",
outfilesuffix:e}):t(["basebackend","filetype","outfilesuffix"],{basebackend:b,filetype:c,outfilesuffix:e})},y.$$arity=-2);(function(e,c){e=d(e,"BackendTraits");var f=[e].concat(c),g,m,l,q,v,y,r,z,R;a.def(e,"$basebackend",g=function(d){null==d&&(d=k);if(p(d)){var e=["basebackend",d];n(this.$backend_traits(d),"[]=",a.to_a(e));return e[b(e.length,1)]}return this.$backend_traits()["$[]"]("basebackend")},g.$$arity=-1);a.def(e,"$filetype",m=function(d){null==d&&(d=k);return p(d)?(d=["filetype",d],n(this.$backend_traits(),
"[]=",a.to_a(d)),d[b(d.length,1)]):this.$backend_traits()["$[]"]("filetype")},m.$$arity=-1);a.def(e,"$htmlsyntax",l=function(d){null==d&&(d=k);return p(d)?(d=["htmlsyntax",d],n(this.$backend_traits(),"[]=",a.to_a(d)),d[b(d.length,1)]):this.$backend_traits()["$[]"]("htmlsyntax")},l.$$arity=-1);a.def(e,"$outfilesuffix",q=function(d){null==d&&(d=k);return p(d)?(d=["outfilesuffix",d],n(this.$backend_traits(),"[]=",a.to_a(d)),d[b(d.length,1)]):this.$backend_traits()["$[]"]("outfilesuffix")},q.$$arity=
-1);a.def(e,"$supports_templates",v=function(d){null==d&&(d=!0);d=["supports_templates",d];n(this.$backend_traits(),"[]=",a.to_a(d));return d[b(d.length,1)]},v.$$arity=-1);a.def(e,"$supports_templates?",y=function(){return this.$backend_traits()["$[]"]("supports_templates")},y.$$arity=0);a.def(e,"$init_backend_traits",r=function(a){var b;null==a&&(a=k);return this.backend_traits=p(b=a)?b:t([],{})},r.$$arity=-1);a.def(e,"$backend_traits",z=function(a){var b;null==this.backend_traits&&(this.backend_traits=
k);null==this.backend&&(this.backend=k);null==a&&(a=k);return this.backend_traits=p(b=this.backend_traits)?b:h(f,"Converter").$derive_backend_traits(this.backend,a)},z.$$arity=-1);a.alias(e,"backend_info","backend_traits");a.defs(e,"$derive_backend_traits",R=function(a,b){null==b&&(b=k);return h(f,"Converter").$derive_backend_traits(a,b)},R.$$arity=-2)})(f[0],f);(function(b,e){b=d(b,"Config");var c=[b].concat(e),f;a.def(b,"$register_for",f=function(b){var d;var e=a.slice.call(arguments,0,arguments.length);
return n(h(c,"Converter"),"register",[this].concat(a.to_a(n(e,"map",[],(d=function(a){null==a&&(a=k);return a.$to_s()},d.$$s=this,d.$$arity=1,d)))))},f.$$arity=-1)})(f[0],f);(function(e,c){e=d(e,"Factory");var f=[e].concat(c),g,m,l,v,y,r,z,R;a.defs(e,"$new",g=function(b,d){var e=a.slice.call(arguments,0,arguments.length);var c=a.extract_kwargs(e);if(null==c)c=t([],{});else if(!c.$$is_hash)throw a.ArgumentError.$new("expected kwargs");if(0<e.length){var g=e[0];e.splice(0,1)}null==g&&(g=k);e=c.$$smap.proxy_default;
null==e&&(e=!0);return p(e)?h(f,"DefaultFactoryProxy").$new(g):h(f,"CustomFactory").$new(g)},g.$$arity=-1);a.defs(e,"$default",m=function(b){a.slice.call(arguments,0,arguments.length);return h(f,"Converter")},m.$$arity=-1);a.defs(e,"$create",l=function(a,b){null==b&&(b=t([],{}));return this.$default().$create(a,b)},l.$$arity=-2);a.def(e,"$register",v=function(d,e){var c;var f=a.slice.call(arguments,1,arguments.length);return n(f,"each",[],(c=function(e){var f=c.$$s||this;null==e&&(e=k);e["$=="]("*")?
(e=[d],n(f.$registry(),"default=",a.to_a(e))):(e=[e,d],n(f.$registry(),"[]=",a.to_a(e)));return e[b(e.length,1)]},c.$$s=this,c.$$arity=1,c))},v.$$arity=-2);a.def(e,"$for",y=function(a){return this.$registry()["$[]"](a)},y.$$arity=1);a.def(e,"$create",r=function(a,b){var d,e,c,g,m=k;null==b&&(b=t([],{}));return p(c=this.$for(a))?(p(q("::","Class")["$==="](c))&&(c=c.$new(a,b)),p(p(d=p(e=g=b["$[]"]("template_dirs"))?h(f,"BackendTraits")["$==="](c):e)?c["$supports_templates?"]():d)?h(f,"CompositeConverter").$new(a,
h(f,"TemplateConverter").$new(a,g,b),c,t(["backend_traits_source"],{backend_traits_source:c})):c):p(g=b["$[]"]("template_dirs"))?p(p(d=m=b["$[]"]("delegate_backend"))?c=this.$for(m):d)?(p(q("::","Class")["$==="](c))&&(c=c.$new(m,b)),h(f,"CompositeConverter").$new(a,h(f,"TemplateConverter").$new(a,g,b),c,t(["backend_traits_source"],{backend_traits_source:c}))):h(f,"TemplateConverter").$new(a,g,b):k},r.$$arity=-2);a.def(e,"$converters",z=function(){return this.$registry().$merge()},z.$$arity=0);e.$private();
a.def(e,"$registry",R=function(){return this.$raise(q("::","NotImplementedError"),""+h(f,"Factory")+" subclass "+this.$class()+" must implement the #registry method")},R.$$arity=0)})(f[0],f);(function(d,$super,e){d=r(d,$super,"CustomFactory");e=[d].concat(e);var c,f;d.$include(h(e,"Factory"));a.def(d,"$initialize",c=function(d){null==d&&(d=k);if(p(d)){var e=[d.$delete("*")];n(d,"default=",a.to_a(e));e[b(e.length,1)];return this.registry=d}return this.registry=t([],{})},c.$$arity=-1);a.def(d,"$unregister_all",
f=function(){var d=[k];n(this.$registry().$clear(),"default=",a.to_a(d));return d[b(d.length,1)]},f.$$arity=0);d.$private();return d.$attr_reader("registry")})(f[0],null,f);(function(b,e){b=d(b,"DefaultFactory");var c=[b].concat(e),f;b.$include(h(c,"Factory"));b.$private();a.class_variable_set(c[0],"@@registry",t([],{}));a.def(b,"$registry",f=function(){var a;return null==(a=c[0].$$cvars["@@registry"])?k:a},f.$$arity=0);h(c,"RUBY_ENGINE")["$=="]("opal")||k})(f[0],f);(function(a,$super,b){a=r(a,$super,
"DefaultFactoryProxy");b=[a].concat(b);a.$include(h(b,"DefaultFactory"));h(b,"RUBY_ENGINE")["$=="]("opal");return k})(f[0],h(f,"CustomFactory"),f);e.$private_class_method(p(w=(a.defs(e,"$included",u=function(a){a.$send("include",h(f,"BackendTraits"));return a.$extend(h(f,"Config"))},u.$$arity=1),k)&&"included")?w:"included");(function(b,$super,d){b=r(b,$super,"Base");var e=[b].concat(d),c,f,l,v;b.$$prototype.backend=k;b.$include(h(e,"Converter"),h(e,"Logging"));a.def(b,"$convert",c=function(b,d,c){var f,
l,v=k;null==m["!"]&&(m["!"]=k);null==d&&(d=b.$node_name());null==c&&(c=k);try{return p(c)?this.$send(g("convert_",d),b,c):this.$send(g("convert_",d),b)}catch(aa){if(a.rescue(aa,[h(e,"StandardError")]))try{return p(p(f=p(l=q("::","NoMethodError")["$==="](v=m["!"]))?v.$receiver()["$=="](this):l)?v.$name().$to_s()["$=="](d):f)||this.$raise(),this.$logger().$warn("missing convert handler for "+v.$name()+" node in "+this.backend+" backend ("+this.$class()+")"),k}finally{a.pop_exception()}else throw aa;
}},c.$$arity=-2);a.def(b,"$handles?",f=function(a){return this["$respond_to?"]("convert_"+a)},f.$$arity=1);a.def(b,"$content_only",l=function(a){return a.$content()},l.$$arity=1);return(a.def(b,"$skip",v=function(a){return k},v.$$arity=1),k)&&"skip"})(f[0],null,f);e.$extend(h(f,"DefaultFactory"))})(e[0],e)}(l[0],l)};Opal.modules["asciidoctor/document"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?
a>=b:a["$>="](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var h=[],d=a.nil,t=a.const_get_qualified,p=a.const_get_relative,n=a.module,r=a.klass,m=a.send,e=a.truthy,f=a.hash2,w=a.hash,u=a.gvars;a.add_stubs("$new $attr_reader $nil? $<< $[] $[]= $- $include? $strip $squeeze $gsub $empty? $! $rpartition $attr_accessor $delete $base_dir $options $merge $catalog $instance_variable_get $attributes $safe $compat_mode $outfilesuffix $sourcemap $path_resolver $converter $extensions $syntax_highlighter $each $end_with? $start_with? $slice $length $chop $== $downcase $extname $=== $value_for_name $key? $freeze $attribute_undefined $attribute_missing $update $& $keys $name_for_value $expand_path $pwd $>= $+ $abs $to_i $delete_if $update_doctype_attributes $cursor $parse $restore_attributes $update_backend_attributes $fetch $fill_datetime_attributes $activate $groups $create $to_proc $preprocessors? $preprocessors $process_method $tree_processors? $tree_processors $!= $counter $attribute_locked? $nextval $nil_or_empty? $to_s $value $save_to $register $tap $xreftext $source $source_lines $doctitle $sectname= $title= $first_section $title $reftext $> $< $find $context $assign_numeral $clear_playback_attributes $save_attributes $name $negate $rewind $replace $apply_attribute_value_subs $delete? $start $doctype $content_model $warn $logger $content $convert $postprocessors? $postprocessors $record $write $respond_to? $chomp $class $write_alternate_pages $map $split $resolve_docinfo_subs $normalize_system_path $read_asset $apply_subs $docinfo_processors? $join $concat $compact $docinfo_processors $object_id $inspect $size $private $=~ $resolve_pass_subs $apply_header_subs $limit_bytesize $bytesize $valid_encoding? $byteslice $resolve_subs $utc $at $Integer $now $index $strftime $year $utc_offset $partition $create_converter $basebackend $filetype $htmlsyntax $derive_backend_traits $raise".split(" "));
return function(c,h){c=[n(c,"Asciidoctor")].concat(h);(function(c,$super,h){c=r(c,$super,"Document");var v=[c].concat(h),y,n,z,R,B,V,L,A,D,J,C,U,E,W,G,x,I,S,ia,na,ja,T,K,M,N,P,ua,da,va,Aa,qa,Ia,Ha,Ja,Y,Qa,Ma,Da,Ka,Xa,Sa,Ya,Za,$a,H,O,F,Q,La,wa,Ea,Fa;c.$$prototype.attributes=c.$$prototype.safe=c.$$prototype.sourcemap=c.$$prototype.reader=c.$$prototype.base_dir=c.$$prototype.parsed=c.$$prototype.parent_document=c.$$prototype.extensions=c.$$prototype.options=c.$$prototype.counters=c.$$prototype.catalog=
c.$$prototype.reftexts=c.$$prototype.header=c.$$prototype.blocks=c.$$prototype.header_attributes=c.$$prototype.attributes_modified=c.$$prototype.backend=c.$$prototype.attribute_overrides=c.$$prototype.timings=c.$$prototype.converter=c.$$prototype.outfilesuffix=c.$$prototype.docinfo_processor_extensions=c.$$prototype.document=c.$$prototype.max_attribute_value_size=c.$$prototype.id=c.$$prototype.doctype=d;a.const_set(v[0],"ImageReference",m(t("::","Struct"),"new",["target","imagesdir"],(y=function(){return a.alias(y.$$s||
this,"to_s","target")},y.$$s=c,y.$$arity=0,y)));a.const_set(v[0],"Footnote",t("::","Struct").$new("index","id","text"));(function(c,$super,f){c=r(c,$super,"AttributeEntry");[c].concat(f);var g,p;c.$attr_reader("name","value","negate");a.def(c,"$initialize",g=function(a,b,c){null==c&&(c=d);this.name=a;this.value=b;return this.negate=e(c["$nil?"]())?b["$nil?"]():c},g.$$arity=-3);return(a.def(c,"$save_to",p=function(c){var f,g=d;(e(f=c["$[]"]("attribute_entries"))?f:(g=["attribute_entries",[]],m(c,"[]=",
a.to_a(g)),g[b(g.length,1)]))["$<<"](this);return this},p.$$arity=1),d)&&"save_to"})(v[0],null,v);(function(b,$super,c){b=r(b,$super,"Title");var g=[b].concat(c),m,h,l,k;b.$$prototype.sanitized=b.$$prototype.subtitle=b.$$prototype.combined=d;b.$attr_reader("main");a.alias(b,"title","main");b.$attr_reader("subtitle");b.$attr_reader("combined");a.def(b,"$initialize",m=function(b,c){var m,h,l=d;null==c&&(c=f([],{}));e(e(m=this.sanitized=c["$[]"]("sanitize"))?b["$include?"]("<"):m)&&(b=b.$gsub(p(g,"XmlSanitizeRx"),
"").$squeeze(" ").$strip());e(e(m=(l=e(h=c["$[]"]("separator"))?h:":")["$empty?"]())?m:b["$include?"](l=""+l+" ")["$!"]())?(this.main=b,this.subtitle=d):(h=b.$rpartition(l),m=a.to_ary(h),this.main=null==m[0]?d:m[0],this.subtitle=null==m[2]?d:m[2],h);return this.combined=b},m.$$arity=-2);a.def(b,"$sanitized?",h=function(){return this.sanitized},h.$$arity=0);a.def(b,"$subtitle?",l=function(){return e(this.subtitle)?!0:!1},l.$$arity=0);return(a.def(b,"$to_s",k=function(){return this.combined},k.$$arity=
0),d)&&"to_s"})(v[0],null,v);a.const_set(v[0],"Author",t("::","Struct").$new("name","firstname","middlename","lastname","initials","email"));c.$attr_reader("safe");c.$attr_reader("compat_mode");c.$attr_reader("backend");c.$attr_reader("doctype");c.$attr_accessor("sourcemap");c.$attr_reader("catalog");a.alias(c,"references","catalog");c.$attr_reader("counters");c.$attr_reader("header");c.$attr_reader("base_dir");c.$attr_reader("options");c.$attr_reader("outfilesuffix");c.$attr_reader("parent_document");
c.$attr_reader("reader");c.$attr_reader("path_resolver");c.$attr_reader("converter");c.$attr_reader("syntax_highlighter");c.$attr_reader("extensions");a.def(c,"$initialize",n=function(c,h){var k,q,y,H,r,O,Q,z=d,F=d,u=d,Ea=d,R=d,B=d,bb=B=B=d,wa=d,Ta=bb=d,La=bb=bb=d;z=z=z=d;n.$$p&&(n.$$p=null);null==c&&(c=d);null==h&&(h=f([],{}));m(this,a.find_super_dispatcher(this,"initialize",n,!1),[this,"document"],null);if(e(z=h.$delete("parent")))this.parent_document=z,e(k=h["$[]"]("base_dir"))?k:(F=["base_dir",
z.$base_dir()],m(h,"[]=",a.to_a(F)),F[b(F.length,1)]),e(z.$options()["$[]"]("catalog_assets"))&&(F=["catalog_assets",!0],m(h,"[]=",a.to_a(F)),F[b(F.length,1)]),this.catalog=z.$catalog().$merge(f(["footnotes"],{footnotes:[]})),this.attribute_overrides=u=z.$instance_variable_get("@attribute_overrides").$merge(z.$attributes()),u.$delete("compat-mode"),Ea=u.$delete("doctype"),u.$delete("notitle"),u.$delete("showtitle"),u.$delete("toc"),F=["toc-placement",e(k=u.$delete("toc-placement"))?k:"auto"],m(this.attributes,
"[]=",a.to_a(F)),F[b(F.length,1)],u.$delete("toc-position"),this.safe=z.$safe(),e(this.compat_mode=z.$compat_mode())&&(F=["compat-mode",""],m(this.attributes,"[]=",a.to_a(F)),F[b(F.length,1)]),this.outfilesuffix=z.$outfilesuffix(),this.sourcemap=z.$sourcemap(),this.timings=d,this.path_resolver=z.$path_resolver(),this.converter=z.$converter(),R=d,this.extensions=z.$extensions(),this.syntax_highlighter=z.$syntax_highlighter();else{this.parent_document=d;this.catalog=f("ids refs footnotes links images callouts includes".split(" "),
{ids:f([],{}),refs:f([],{}),footnotes:[],links:[],images:[],callouts:p(v,"Callouts").$new(),includes:f([],{})});this.attribute_overrides=u=f([],{});m(e(k=h["$[]"]("attributes"))?k:f([],{}),"each",[],(q=function(c,f){var g;null==c&&(c=d);null==f&&(f=d);e(c["$end_with?"]("@"))?(e(c["$start_with?"]("!"))?(g=[c.$slice(1,b(c.$length(),2)),!1],c=g[0],f=g[1]):e(c["$end_with?"]("!@"))?(g=[c.$slice(0,b(c.$length(),2)),!1],c=g[0],f=g[1]):(g=[c.$chop(),""+f+"@"],c=g[0],f=g[1]),g):e(c["$start_with?"]("!"))?(g=
[c.$slice(1,c.$length()),f["$=="]("@")?!1:d],c=g[0],f=g[1],g):e(c["$end_with?"]("!"))&&(g=[c.$chop(),f["$=="]("@")?!1:d],c=g[0],f=g[1],g);F=[c.$downcase(),f];m(u,"[]=",a.to_a(F));return F[b(F.length,1)]},q.$$s=this,q.$$arity=2,q));e(B=h["$[]"]("to_file"))&&(F=["outfilesuffix",p(v,"Helpers").$extname(B)],m(u,"[]=",a.to_a(F)),F[b(F.length,1)]);if(e((B=h["$[]"]("safe"))["$!"]()))this.safe=t(p(v,"SafeMode"),"SECURE");else if(e(t("::","Integer")["$==="](B)))this.safe=B;else{a:{try{var V=p(v,"SafeMode").$value_for_name(B);
break a}catch(nb){if(a.rescue(nb,[p(v,"StandardError")]))try{V=t(p(v,"SafeMode"),"SECURE");break a}finally{a.pop_exception()}else throw nb;}V=void 0}this.safe=V}B=h.$delete("input_mtime");this.compat_mode=u["$key?"]("compat-mode");this.sourcemap=h["$[]"]("sourcemap");this.timings=h.$delete("timings");this.path_resolver=p(v,"PathResolver").$new();R=e(e(k=(y=t("::","Asciidoctor","skip_raise"))&&t(y,"Extensions","skip_raise")?"constant":d)?k:h["$key?"]("extensions"))?t(t("::","Asciidoctor"),"Extensions"):
d;this.extensions=d;e(e(k=h["$key?"]("header_footer"))?h["$key?"]("standalone")["$!"]():k)&&(F=["standalone",h["$[]"]("header_footer")],m(h,"[]=",a.to_a(F)),F[b(F.length,1)])}this.parsed=this.reftexts=this.header=this.header_attributes=d;this.counters=f([],{});this.attributes_modified=t("::","Set").$new();this.docinfo_processor_extensions=f([],{});bb=h["$[]"]("standalone");(this.options=h).$freeze();wa=this.attributes;e(z)||(F=["attribute-undefined",p(v,"Compliance").$attribute_undefined()],m(wa,
"[]=",a.to_a(F)),F[b(F.length,1)],F=["attribute-missing",p(v,"Compliance").$attribute_missing()],m(wa,"[]=",a.to_a(F)),F[b(F.length,1)],wa.$update(p(v,"DEFAULT_ATTRIBUTES")));e(bb)?(F=["embedded",d],m(u,"[]=",a.to_a(F)),F[b(F.length,1)],F=["copycss",""],m(wa,"[]=",a.to_a(F)),F[b(F.length,1)],F=["iconfont-remote",""],m(wa,"[]=",a.to_a(F)),F[b(F.length,1)],F=["stylesheet",""],m(wa,"[]=",a.to_a(F)),F[b(F.length,1)],F=["webfonts",""],m(wa,"[]=",a.to_a(F))):(F=["embedded",""],m(u,"[]=",a.to_a(F)),F[b(F.length,
1)],e(e(k=u["$key?"]("showtitle"))?u.$keys()["$&"](["notitle","showtitle"])["$[]"](-1)["$=="]("showtitle"):k)?(F=["notitle",w(d,"",!1,"@","@",!1)["$[]"](u["$[]"]("showtitle"))],m(u,"[]=",a.to_a(F))):e(u["$key?"]("notitle"))?(F=["showtitle",w(d,"",!1,"@","@",!1)["$[]"](u["$[]"]("notitle"))],m(u,"[]=",a.to_a(F))):(F=["notitle",""],m(wa,"[]=",a.to_a(F))));F[b(F.length,1)];F=["asciidoctor",""];m(u,"[]=",a.to_a(F));F[b(F.length,1)];F=["asciidoctor-version",t(t("::","Asciidoctor"),"VERSION")];m(u,"[]=",
a.to_a(F));F[b(F.length,1)];F=["safe-mode-name",bb=p(v,"SafeMode").$name_for_value(this.safe)];m(u,"[]=",a.to_a(F));F[b(F.length,1)];F=["safe-mode-"+bb,""];m(u,"[]=",a.to_a(F));F[b(F.length,1)];F=["safe-mode-level",this.safe];m(u,"[]=",a.to_a(F));F[b(F.length,1)];e(k=u["$[]"]("max-include-depth"))?k:(F=["max-include-depth",64],m(u,"[]=",a.to_a(F)),F[b(F.length,1)]);e(k=u["$[]"]("allow-uri-read"))?k:(F=["allow-uri-read",d],m(u,"[]=",a.to_a(F)),F[b(F.length,1)]);e(u["$key?"]("numbered"))&&(F=["sectnums",
u.$delete("numbered")],m(u,"[]=",a.to_a(F)),F[b(F.length,1)]);e(u["$key?"]("hardbreaks"))&&(F=["hardbreaks-option",u.$delete("hardbreaks")],m(u,"[]=",a.to_a(F)),F[b(F.length,1)]);e(Ta=h["$[]"]("base_dir"))?this.base_dir=(F=["docdir",t("::","File").$expand_path(Ta)],m(u,"[]=",a.to_a(F)),F[b(F.length,1)]):e(u["$[]"]("docdir"))?this.base_dir=u["$[]"]("docdir"):this.base_dir=(F=["docdir",t("::","Dir").$pwd()],m(u,"[]=",a.to_a(F)),F[b(F.length,1)]);e(bb=h["$[]"]("backend"))&&(F=["backend",""+bb],m(u,"[]=",
a.to_a(F)),F[b(F.length,1)]);e(bb=h["$[]"]("doctype"))&&(F=["doctype",""+bb],m(u,"[]=",a.to_a(F)),F[b(F.length,1)]);e(g(this.safe,t(p(v,"SafeMode"),"SERVER")))?(e(k=u["$[]"]("copycss"))?k:(F=["copycss",d],m(u,"[]=",a.to_a(F)),F[b(F.length,1)]),e(k=u["$[]"]("source-highlighter"))?k:(F=["source-highlighter",d],m(u,"[]=",a.to_a(F)),F[b(F.length,1)]),e(k=u["$[]"]("backend"))?k:(F=["backend",p(v,"DEFAULT_BACKEND")],m(u,"[]=",a.to_a(F)),F[b(F.length,1)]),e(e(k=z["$!"]())?u["$key?"]("docfile"):k)&&(F=["docfile",
u["$[]"]("docfile")["$[]"](a.Range.$new(l(u["$[]"]("docdir").$length(),1),-1,!1))],m(u,"[]=",a.to_a(F)),F[b(F.length,1)]),F=["docdir",""],m(u,"[]=",a.to_a(F)),F[b(F.length,1)],e(k=u["$[]"]("user-home"))?k:(F=["user-home","."],m(u,"[]=",a.to_a(F)),F[b(F.length,1)]),e(g(this.safe,t(p(v,"SafeMode"),"SECURE")))&&(e(u["$key?"]("max-attribute-value-size"))||(F=["max-attribute-value-size",4096],m(u,"[]=",a.to_a(F)),F[b(F.length,1)]),e(u["$key?"]("linkcss"))||(F=["linkcss",""],m(u,"[]=",a.to_a(F)),F[b(F.length,
1)]),e(k=u["$[]"]("icons"))?k:(F=["icons",d],m(u,"[]=",a.to_a(F)),F[b(F.length,1)]))):e(k=u["$[]"]("user-home"))?k:(F=["user-home",p(v,"USER_HOME")],m(u,"[]=",a.to_a(F)),F[b(F.length,1)]);this.max_attribute_value_size=e(La=e(k=u["$[]"]("max-attribute-value-size"))?k:(F=["max-attribute-value-size",d],m(u,"[]=",a.to_a(F)),F[b(F.length,1)]))?La.$to_i().$abs():d;m(u,"delete_if",[],(H=function(c,f){var g,p=d;null==c&&(c=d);null==f&&(f=d);e(f)?(e(e(g=t("::","String")["$==="](f))?f["$end_with?"]("@"):g)&&
(g=[f.$chop(),!0],f=g[0],p=g[1],g),F=[c,f],m(wa,"[]=",a.to_a(F)),F[b(F.length,1)]):(wa.$delete(c),p=f["$=="](!1));return p},H.$$s=this,H.$$arity=2,H));if(e(z))return this.backend=wa["$[]"]("backend"),(this.doctype=(F=["doctype",Ea],m(wa,"[]=",a.to_a(F)),F[b(F.length,1)]))["$=="](p(v,"DEFAULT_DOCTYPE"))||this.$update_doctype_attributes(p(v,"DEFAULT_DOCTYPE")),this.reader=p(v,"Reader").$new(c,h["$[]"]("cursor")),e(this.sourcemap)&&(this.source_location=this.reader.$cursor()),p(v,"Parser").$parse(this.reader,
this),this.$restore_attributes(),this.parsed=!0;this.backend=d;(z=e(k=wa["$[]"]("backend"))?k:p(v,"DEFAULT_BACKEND"))["$=="]("manpage")?this.doctype=(F=["doctype",(F=["doctype","manpage"],m(u,"[]=",a.to_a(F)),F[b(F.length,1)])],m(wa,"[]=",a.to_a(F)),F[b(F.length,1)]):this.doctype=e(k=wa["$[]"]("doctype"))?k:(F=["doctype",p(v,"DEFAULT_DOCTYPE")],m(wa,"[]=",a.to_a(F)),F[b(F.length,1)]);this.$update_backend_attributes(z,!0);e(k=wa["$[]"]("stylesdir"))?k:(F=["stylesdir","."],m(wa,"[]=",a.to_a(F)),F[b(F.length,
1)]);e(k=wa["$[]"]("iconsdir"))?k:(F=["iconsdir",""+wa.$fetch("imagesdir","./images")+"/icons"],m(wa,"[]=",a.to_a(F)),F[b(F.length,1)]);this.$fill_datetime_attributes(wa,B);e(R)&&(e(z=h["$[]"]("extension_registry"))?e(e(k=t(p(v,"Extensions"),"Registry")["$==="](z))?k:e(r=(Q=t("::","AsciidoctorJ","skip_raise"))&&(O=t(Q,"Extensions","skip_raise"))&&t(O,"ExtensionRegistry","skip_raise")?"constant":d)?t(t(t("::","AsciidoctorJ"),"Extensions"),"ExtensionRegistry")["$==="](z):r)&&(this.extensions=z.$activate(this)):
e((z=h["$[]"]("extensions"))["$nil?"]())?e(p(v,"Extensions").$groups()["$empty?"]())||(this.extensions=t(p(v,"Extensions"),"Registry").$new().$activate(this)):e(t("::","Proc")["$==="](z))&&(this.extensions=m(p(v,"Extensions"),"create",[],z.$to_proc()).$activate(this)));this.reader=p(v,"PreprocessorReader").$new(this,c,t(p(v,"Reader"),"Cursor").$new(wa["$[]"]("docfile"),this.base_dir),f(["normalize"],{normalize:!0}));return e(this.sourcemap)?this.source_location=this.reader.$cursor():d},n.$$arity=
-1);a.def(c,"$parse",z=function(a){var b,c,g,h=d,k=d;null==a&&(a=d);if(e(this.parsed))return this;h=this;e(a)&&(this.reader=p(v,"PreprocessorReader").$new(h,a,t(p(v,"Reader"),"Cursor").$new(this.attributes["$[]"]("docfile"),this.base_dir),f(["normalize"],{normalize:!0})),e(this.sourcemap)&&(this.source_location=this.reader.$cursor()));e(e(b=k=e(this.parent_document)?d:this.extensions)?k["$preprocessors?"]():b)&&m(k.$preprocessors(),"each",[],(c=function(a){var b=c.$$s||this,f;null==b.reader&&(b.reader=
d);null==a&&(a=d);return b.reader=e(f=a.$process_method()["$[]"](h,b.reader))?f:b.reader},c.$$s=this,c.$$arity=1,c));p(v,"Parser").$parse(this.reader,h,f(["header_only"],{header_only:this.options["$[]"]("parse_header_only")}));this.$restore_attributes();e(e(b=k)?k["$tree_processors?"]():b)&&m(k.$tree_processors(),"each",[],(g=function(a){var b,c,f=d;null==a&&(a=d);return e(e(b=e(c=f=a.$process_method()["$[]"](h))?p(v,"Document")["$==="](f):c)?f["$!="](h):b)?h=f:d},g.$$s=this,g.$$arity=1,g));this.parsed=
!0;return h},z.$$arity=-1);a.def(c,"$parsed?",R=function(){return this.parsed},R.$$arity=0);a.def(c,"$counter",B=function(c,f){var g,h,k=d,l=d;null==f&&(f=d);if(e(this.parent_document))return this.parent_document.$counter(c,f);f=e(e(g=h=this["$attribute_locked?"](c))?k=this.counters["$[]"](c):g)?(l=[c,p(v,"Helpers").$nextval(k)],m(this.counters,"[]=",a.to_a(l)),l[b(l.length,1)]):e((k=this.attributes["$[]"](c))["$nil_or_empty?"]()["$!"]())?(l=[c,p(v,"Helpers").$nextval(k)],m(this.counters,"[]=",a.to_a(l)),
l[b(l.length,1)]):e(f)?(l=[c,f["$=="](f.$to_i().$to_s())?f.$to_i():f],m(this.counters,"[]=",a.to_a(l)),l[b(l.length,1)]):(l=[c,1],m(this.counters,"[]=",a.to_a(l)),l[b(l.length,1)]);e(h)||(l=[c,f],m(this.attributes,"[]=",a.to_a(l)),l[b(l.length,1)]);return f},B.$$arity=-2);a.def(c,"$increment_and_store_counter",V=function(a,b){return p(v,"AttributeEntry").$new(a,this.$counter(a)).$save_to(b.$attributes()).$value()},V.$$arity=2);a.alias(c,"counter_increment","increment_and_store_counter");a.def(c,"$register",
L=function(c,g){var h,k=this,l=d,q=d,y=d,t=d,n=d;return function(){l=c;return"ids"["$==="](l)?k.$register("refs",[q=g["$[]"](0),p(v,"Inline").$new(k,"anchor",g["$[]"](1),f(["type","id"],{type:"ref",id:q}))]):"refs"["$==="](l)?(y=k.catalog["$[]"]("refs"),e(h=y["$[]"](g["$[]"](0)))?h:(t=[g["$[]"](0),n=g["$[]"](1)],m(y,"[]=",a.to_a(t)),t[b(t.length,1)]),n):"footnotes"["$==="](l)?k.catalog["$[]"](c)["$<<"](g):e(k.options["$[]"]("catalog_assets"))?k.catalog["$[]"](c)["$<<"](c["$=="]("images")?p(v,"ImageReference").$new(g,
k.attributes["$[]"]("imagesdir")):g):d}()},L.$$arity=2);a.def(c,"$resolve_id",A=function(c){var g,p,h=this,k=d;if(e(h.reftexts))return h.reftexts["$[]"](c);if(e(h.parsed))return m(h.reftexts=f([],{}),"tap",[],(g=function(c){var f=g.$$s||this,h;null==f.catalog&&(f.catalog=d);null==c&&(c=d);return m(f.catalog["$[]"]("refs"),"each",[],(h=function(f,g){var h,p=d;null==f&&(f=d);null==g&&(g=d);return e(h=c["$[]"](g.$xreftext()))?h:(p=[g.$xreftext(),f],m(c,"[]=",a.to_a(p)),p[b(p.length,1)])},h.$$s=f,h.$$arity=
2,h))},g.$$s=h,g.$$arity=1,g))["$[]"](c);k=d;(function(){var g=a.new_brk();try{return m(h.reftexts=f([],{}),"tap",[],(p=function(f){var g=p.$$s||this,h;null==g.catalog&&(g.catalog=d);null==f&&(f=d);return function(){var p=a.new_brk();try{return m(g.catalog["$[]"]("refs"),"each",[],(h=function(g,h){var l,q=d;null==g&&(g=d);null==h&&(h=d);if((h=h.$xreftext())["$=="](c))a.brk(k=g,p);else return e(l=f["$[]"](h))?l:(q=[h,g],m(f,"[]=",a.to_a(q)),q[b(q.length,1)])},h.$$s=g,h.$$brk=p,h.$$arity=2,h))}catch(fb){if(fb===
p)return fb.$v;throw fb;}}()},p.$$s=h,p.$$brk=g,p.$$arity=1,p))}catch(eb){if(eb===g)return eb.$v;throw eb;}})();h.reftexts=d;return k},A.$$arity=1);a.def(c,"$footnotes?",D=function(){return e(this.catalog["$[]"]("footnotes")["$empty?"]())?!1:!0},D.$$arity=0);a.def(c,"$footnotes",J=function(){return this.catalog["$[]"]("footnotes")},J.$$arity=0);a.def(c,"$callouts",C=function(){return this.catalog["$[]"]("callouts")},C.$$arity=0);a.def(c,"$nested?",U=function(){return e(this.parent_document)?!0:!1},
U.$$arity=0);a.def(c,"$embedded?",E=function(){return this.attributes["$key?"]("embedded")},E.$$arity=0);a.def(c,"$extensions?",W=function(){return e(this.extensions)?!0:!1},W.$$arity=0);a.def(c,"$source",G=function(){return e(this.reader)?this.reader.$source():d},G.$$arity=0);a.def(c,"$source_lines",x=function(){return e(this.reader)?this.reader.$source_lines():d},x.$$arity=0);a.def(c,"$basebackend?",I=function(a){return this.attributes["$[]"]("basebackend")["$=="](a)},I.$$arity=1);a.def(c,"$title",
S=function(){return this.$doctitle()},S.$$arity=0);a.def(c,"$title=",ia=function(d){var c;if(!e(c=this.header)){var f=["header"];m(c=this.header=p(v,"Section").$new(this,0),"sectname=",a.to_a(f));f[b(f.length,1)]}f=[d];m(c,"title=",a.to_a(f));return f[b(f.length,1)]},ia.$$arity=1);a.def(c,"$doctitle",na=function(a){var b,c,g,m=d;null==a&&(a=f([],{}));if(!e(c=this.attributes["$[]"]("title")))if(e(g=this.$first_section()))c=g.$title();else if(e((e(b=a["$[]"]("use_fallback"))?c=this.attributes["$[]"]("untitled-label"):
b)["$!"]()))return d;return e(m=a["$[]"]("partition"))?p(v,"Title").$new(c,a.$merge(f(["separator"],{separator:m["$=="](!0)?this.attributes["$[]"]("title-separator"):m}))):e(e(b=a["$[]"]("sanitize"))?c["$include?"]("<"):b)?c.$gsub(p(v,"XmlSanitizeRx"),"").$squeeze(" ").$strip():c},na.$$arity=-1);a.alias(c,"name","doctitle");a.def(c,"$xreftext",ja=function(a){var b;a=d;return e(e(b=a=this.$reftext())?a["$empty?"]()["$!"]():b)?a:this.$title()},ja.$$arity=-1);a.def(c,"$author",T=function(){return this.attributes["$[]"]("author")},
T.$$arity=0);a.def(c,"$authors",K=function(){var a,b,d;if(e((b=this.attributes)["$key?"]("author"))){var c=[p(v,"Author").$new(b["$[]"]("author"),b["$[]"]("firstname"),b["$[]"]("middlename"),b["$[]"]("lastname"),b["$[]"]("authorinitials"),b["$[]"]("email"))];if(e(k(d=e(a=b["$[]"]("authorcount"))?a:0,1)))for(a=1;e(q(a,d));)a=l(a,1),c["$<<"](p(v,"Author").$new(b["$[]"]("author_"+a),b["$[]"]("firstname_"+a),b["$[]"]("middlename_"+a),b["$[]"]("lastname_"+a),b["$[]"]("authorinitials_"+a),b["$[]"]("email_"+
a)));return c}return[]},K.$$arity=0);a.def(c,"$revdate",M=function(){return this.attributes["$[]"]("revdate")},M.$$arity=0);a.def(c,"$notitle",N=function(){return this.attributes["$key?"]("notitle")},N.$$arity=0);a.def(c,"$noheader",P=function(){return this.attributes["$key?"]("noheader")},P.$$arity=0);a.def(c,"$nofooter",ua=function(){return this.attributes["$key?"]("nofooter")},ua.$$arity=0);a.def(c,"$first_section",da=function(){var a,b;return e(a=this.header)?a:m(this.blocks,"find",[],(b=function(a){null==
a&&(a=d);return a.$context()["$=="]("section")},b.$$s=this,b.$$arity=1,b))},da.$$arity=0);a.def(c,"$header?",va=function(){return e(this.header)?!0:!1},va.$$arity=0);a.alias(c,"has_header?","header?");a.def(c,"$<<",Aa=function(b){var d=Aa.$$p,e;d&&(Aa.$$p=null);var c=0;var f=arguments.length;for(e=Array(f);c<f;c++)e[c]=arguments[c];b.$context()["$=="]("section")&&this.$assign_numeral(b);return m(this,a.find_super_dispatcher(this,"<<",Aa,!1),e,d)},Aa.$$arity=1);a.def(c,"$finalize_header",qa=function(d,
c){null==c&&(c=!0);this.$clear_playback_attributes(d);this.$save_attributes();e(c)||(c=["invalid-header",!0],m(d,"[]=",a.to_a(c)),c[b(c.length,1)]);return d},qa.$$arity=-2);a.def(c,"$playback_attributes",Ia=function(c){var f;return e(c["$key?"]("attribute_entries"))?m(c["$[]"]("attribute_entries"),"each",[],(f=function(c){var g=f.$$s||this;null==g.attributes&&(g.attributes=d);null==c&&(c=d);var h=c.$name();if(e(c.$negate()))return g.attributes.$delete(h),h["$=="]("compat-mode")?g.compat_mode=!1:d;
c=[h,c.$value()];m(g.attributes,"[]=",a.to_a(c));c[b(c.length,1)];return h["$=="]("compat-mode")?g.compat_mode=!0:d},f.$$s=this,f.$$arity=1,f)):d},Ia.$$arity=1);a.def(c,"$restore_attributes",Ha=function(){e(this.parent_document)||this.catalog["$[]"]("callouts").$rewind();return this.attributes.$replace(this.header_attributes)},Ha.$$arity=0);a.def(c,"$set_attribute",Ja=function(c,f){null==f&&(f="");if(e(this["$attribute_locked?"](c)))return d;e(f["$empty?"]())||(f=this.$apply_attribute_value_subs(f));
if(e(this.header_attributes)){var g=[c,f];m(this.attributes,"[]=",a.to_a(g));g[b(g.length,1)]}else"backend"["$==="](c)?this.$update_backend_attributes(f,e(g=this.attributes_modified["$delete?"]("htmlsyntax"))?f["$=="](this.backend):g):"doctype"["$==="](c)?this.$update_doctype_attributes(f):(g=[c,f],m(this.attributes,"[]=",a.to_a(g)),g[b(g.length,1)]),this.attributes_modified["$<<"](c);return f},Ja.$$arity=-2);a.def(c,"$delete_attribute",Y=function(a){if(e(this["$attribute_locked?"](a)))return!1;this.attributes.$delete(a);
this.attributes_modified["$<<"](a);return!0},Y.$$arity=1);a.def(c,"$attribute_locked?",Qa=function(a){return this.attribute_overrides["$key?"](a)},Qa.$$arity=1);a.def(c,"$set_header_attribute",Ma=function(d,c,f){var g;null==c&&(c="");null==f&&(f=!0);var h=e(g=this.header_attributes)?g:this.attributes;if(e(f["$=="](!1)?h["$key?"](d):f["$=="](!1)))return!1;d=[d,c];m(h,"[]=",a.to_a(d));d[b(d.length,1)];return!0},Ma.$$arity=-2);a.def(c,"$convert",Da=function(c){var h,k,l=d,q=d,y=d,n=d,H=d;null==c&&(c=
f([],{}));e(this.timings)&&this.timings.$start("convert");e(this.parsed)||this.$parse();e(e(h=g(this.safe,t(p(v,"SafeMode"),"SERVER")))?h:c["$empty?"]())||(e((l=["outfile",c["$[]"]("outfile")],m(this.attributes,"[]=",a.to_a(l)),l[b(l.length,1)]))||this.attributes.$delete("outfile"),e((l=["outdir",c["$[]"]("outdir")],m(this.attributes,"[]=",a.to_a(l)),l[b(l.length,1)]))||this.attributes.$delete("outdir"));this.$doctype()["$=="]("inline")?e(q=e(h=this.blocks["$[]"](0))?h:this.header)&&(e(e(h=q.$content_model()["$=="]("compound"))?
h:q.$content_model()["$=="]("empty"))?this.$logger().$warn("no inline candidate; use the inline doctype to convert a single paragragh, verbatim, or raw block"):y=q.$content()):(n=e(c["$key?"]("standalone"))?e(c["$[]"]("standalone"))?"document":"embedded":e(c["$key?"]("header_footer"))?e(c["$[]"]("header_footer"))?"document":"embedded":e(this.options["$[]"]("standalone"))?"document":"embedded",y=this.converter.$convert(this,n));!e(this.parent_document)&&e(e(h=H=this.extensions)?H["$postprocessors?"]():
h)&&m(H.$postprocessors(),"each",[],(k=function(a){var b=k.$$s||this;null==a&&(a=d);return y=a.$process_method()["$[]"](b,y)},k.$$s=this,k.$$arity=1,k));e(this.timings)&&this.timings.$record("convert");return y},Da.$$arity=-1);a.alias(c,"render","convert");a.def(c,"$write",Ka=function(a,b){var c;e(this.timings)&&this.timings.$start("write");e(p(v,"Writer")["$==="](this.converter))?this.converter.$write(a,b):(e(b["$respond_to?"]("write"))?e(a["$nil_or_empty?"]())||(b.$write(a.$chomp()),b.$write(p(v,
"LF"))):t("::","File").$write(b,a,f(["mode"],{mode:p(v,"FILE_WRITE_MODE")})),e(e(c=this.backend["$=="]("manpage")?t("::","String")["$==="](b):this.backend["$=="]("manpage"))?this.converter.$class()["$respond_to?"]("write_alternate_pages"):c)&&this.converter.$class().$write_alternate_pages(this.attributes["$[]"]("mannames"),this.attributes["$[]"]("manvolnum"),b));e(this.timings)&&this.timings.$record("write");return d},Ka.$$arity=2);a.def(c,"$content",Xa=function(){var b=Xa.$$p,d;b&&(Xa.$$p=null);
var e=0;var c=arguments.length;for(d=Array(c);e<c;e++)d[e]=arguments[e];this.attributes.$delete("title");return m(this,a.find_super_dispatcher(this,"content",Xa,!1),d,b)},Xa.$$arity=0);a.def(c,"$docinfo",Sa=function(a,b){var c,g,h=d,k=d,l=d,y=d,n=d,H=d,F=d;y=F=d;null==a&&(a="head");null==b&&(b=d);if(e(q(this.$safe(),t(p(v,"SafeMode"),"SECURE")))&&(a["$=="]("head")||(h="-"+a),e(b)||(b=this.outfilesuffix),k=e((k=this.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?e(this.attributes["$key?"]("docinfo2"))?
["private","shared"]:e(this.attributes["$key?"]("docinfo1"))?["shared"]:e(k)?["private"]:d:m(k.$split(","),"map",[],(c=function(a){null==a&&(a=d);return a.$strip()},c.$$s=this,c.$$arity=1,c)),e(k))){l=[];var r=["docinfo"+h+b,this.attributes["$[]"]("docinfodir"),this.$resolve_docinfo_subs()];y=r[0];n=r[1];H=r[2];r;if(!e(k["$&"](["shared","shared-"+a])["$empty?"]())&&(F=this.$normalize_system_path(y,n),e(F=this.$read_asset(F,f(["normalize"],{normalize:!0})))))l["$<<"](this.$apply_subs(F,H));if(!e(e(r=
this.attributes["$[]"]("docname")["$nil_or_empty?"]())?r:k["$&"](["private","private-"+a])["$empty?"]())&&(F=this.$normalize_system_path(""+this.attributes["$[]"]("docname")+"-"+y,n),e(y=this.$read_asset(F,f(["normalize"],{normalize:!0})))))l["$<<"](this.$apply_subs(y,H))}return e(e(r=this.extensions)?this["$docinfo_processors?"](a):r)?(e(r=l)?r:[]).$concat(m(this.docinfo_processor_extensions["$[]"](a),"map",[],(g=function(a){var b=g.$$s||this;null==a&&(a=d);return a.$process_method()["$[]"](b)},
g.$$s=this,g.$$arity=1,g)).$compact()).$join(p(v,"LF")):e(l)?l.$join(p(v,"LF")):""},Sa.$$arity=-1);a.def(c,"$docinfo_processors?",Ya=function(c){var f,g=d;null==c&&(c="head");if(e(this.docinfo_processor_extensions["$key?"](c)))return this.docinfo_processor_extensions["$[]"](c)["$!="](!1);if(e(e(f=this.extensions)?this.document.$extensions()["$docinfo_processors?"](c):f))return(g=[c,this.document.$extensions().$docinfo_processors(c)],m(this.docinfo_processor_extensions,"[]=",a.to_a(g)),g[b(g.length,
1)])["$!"]()["$!"]();g=[c,!1];m(this.docinfo_processor_extensions,"[]=",a.to_a(g));return g[b(g.length,1)]},Ya.$$arity=-1);a.def(c,"$to_s",Za=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {doctype: "+this.$doctype().$inspect()+", doctitle: "+(e(this.header["$!="](d))?this.header.$title():d).$inspect()+", blocks: "+this.blocks.$size()+"}>"},Za.$$arity=0);c.$private();a.def(c,"$apply_attribute_value_subs",$a=function(a){var b;e(p(v,"AttributeEntryPassMacroRx")["$=~"](a))?(a=(b=u["~"])===
d?d:b["$[]"](2),e((b=u["~"])===d?d:b["$[]"](1))&&(a=this.$apply_subs(a,this.$resolve_pass_subs((b=u["~"])===d?d:b["$[]"](1))))):a=this.$apply_header_subs(a);return e(this.max_attribute_value_size)?this.$limit_bytesize(a,this.max_attribute_value_size):a},$a.$$arity=1);a.def(c,"$limit_bytesize",H=function(a,d){if(e(k(a.$bytesize(),d)))for(;!e((a=a.$byteslice(0,d))["$valid_encoding?"]());)d=b(d,1);return a},H.$$arity=2);a.def(c,"$resolve_docinfo_subs",O=function(){return e(this.attributes["$key?"]("docinfosubs"))?
this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),"block",d,"docinfo"):["attributes"]},O.$$arity=0);a.def(c,"$create_converter",F=function(c,g){var h,k,l=d,q;var y=f(["document","htmlsyntax"],{document:this,htmlsyntax:this.attributes["$[]"]("htmlsyntax")});e(k=e(h=(l=this.options)["$[]"]("template_dirs"))?h:l["$[]"]("template_dir"))&&(h=["template_dirs",[].concat(a.to_a(k))],m(y,"[]=",a.to_a(h)),h[b(h.length,1)],h=["template_cache",l.$fetch("template_cache",!0)],m(y,"[]=",a.to_a(h)),h[b(h.length,
1)],h=["template_engine",l["$[]"]("template_engine")],m(y,"[]=",a.to_a(h)),h[b(h.length,1)],h=["template_engine_options",l["$[]"]("template_engine_options")],m(y,"[]=",a.to_a(h)),h[b(h.length,1)],h=["eruby",l["$[]"]("eruby")],m(y,"[]=",a.to_a(h)),h[b(h.length,1)],h=["safe",this.safe],m(y,"[]=",a.to_a(h)),h[b(h.length,1)],e(g)&&(h=["delegate_backend",g],m(y,"[]=",a.to_a(h)),h[b(h.length,1)]));return e(q=l["$[]"]("converter"))?t(p(v,"Converter"),"CustomFactory").$new(w(c,q)).$create(c,y):l.$fetch("converter_factory",
p(v,"Converter")).$create(c,y)},F.$$arity=2);a.def(c,"$clear_playback_attributes",Q=function(a){return a.$delete("attribute_entries")},Q.$$arity=1);a.def(c,"$save_attributes",La=function(){var c,g,h=d,k=d,l=d,q=l=d,y=d,n=d,H=d,F=H=H=q=n=d,r=d,O=d;e(e(c=(h=this.attributes)["$key?"]("doctitle"))?c:(k=this.$doctitle())["$!"]())||(l=["doctitle",k],m(h,"[]=",a.to_a(l)),l[b(l.length,1)]);this.id=e(c=this.id)?c:h["$[]"]("css-signature");e(l=e(h.$delete("toc2"))?"left":h["$[]"]("toc"))&&(q=e(e(c=y=h.$fetch("toc-placement",
"macro"))?y["$!="]("auto"):c)?y:h["$[]"]("toc-position"),e(e(c=l["$empty?"]())?q["$nil_or_empty?"]():c)||(n="left",H="toc2",n=e(q["$nil_or_empty?"]())?e(l["$empty?"]())?n:l:q,l=["toc",""],m(h,"[]=",a.to_a(l)),l[b(l.length,1)],l=["toc-placement","auto"],m(h,"[]=",a.to_a(l)),l[b(l.length,1)],q=n,"left"["$==="](q)||"<"["$==="](q)||"&lt;"["$==="](q)?(l=["toc-position","left"],m(h,"[]=",a.to_a(l)),l[b(l.length,1)]):"right"["$==="](q)||">"["$==="](q)||"&gt;"["$==="](q)?(l=["toc-position","right"],m(h,"[]=",
a.to_a(l)),l[b(l.length,1)]):"top"["$==="](q)||"^"["$==="](q)?(l=["toc-position","top"],m(h,"[]=",a.to_a(l)),l[b(l.length,1)]):"bottom"["$==="](q)||"v"["$==="](q)?(l=["toc-position","bottom"],m(h,"[]=",a.to_a(l)),l[b(l.length,1)]):("preamble"["$==="](q)||"macro"["$==="](q)?(l=["toc-position","content"],m(h,"[]=",a.to_a(l)),l[b(l.length,1)],l=["toc-placement",n],m(h,"[]=",a.to_a(l)),l[b(l.length,1)]):h.$delete("toc-position"),H=d),e(H)&&(e(c=h["$[]"]("toc-class"))?c:(l=["toc-class",H],m(h,"[]=",a.to_a(l)),
l[b(l.length,1)]))));e(e(c=H=h["$[]"]("icons"))?h["$key?"]("icontype")["$!"]():c)&&(q=H,""["$==="](q)||"font"["$==="](q)?d:(l=["icons",""],m(h,"[]=",a.to_a(l)),l[b(l.length,1)],H["$=="]("image")||(l=["icontype",H],m(h,"[]=",a.to_a(l)),l[b(l.length,1)])));e(this.compat_mode=h["$key?"]("compat-mode"))&&e(h["$key?"]("language"))&&(l=["source-language",h["$[]"]("language")],m(h,"[]=",a.to_a(l)),l[b(l.length,1)]);e(this.parent_document)||((H=h["$[]"]("basebackend"))["$=="]("html")?e(e(c=F=h["$[]"]("source-highlighter"))?
h["$[]"](""+F+"-unavailable")["$!"]():c)&&(e(r=this.options["$[]"]("syntax_highlighter_factory"))?this.syntax_highlighter=r.$create(F,this.backend,f(["document"],{document:this})):e(O=this.options["$[]"]("syntax_highlighters"))?this.syntax_highlighter=t(p(v,"SyntaxHighlighter"),"DefaultFactoryProxy").$new(O).$create(F,this.backend,f(["document"],{document:this})):this.syntax_highlighter=p(v,"SyntaxHighlighter").$create(F,this.backend,f(["document"],{document:this}))):H["$=="]("docbook")&&(e(e(c=this["$attribute_locked?"]("toc"))?
c:this.attributes_modified["$include?"]("toc"))||(l=["toc",""],m(h,"[]=",a.to_a(l)),l[b(l.length,1)]),e(e(c=this["$attribute_locked?"]("sectnums"))?c:this.attributes_modified["$include?"]("sectnums"))||(l=["sectnums",""],m(h,"[]=",a.to_a(l)),l[b(l.length,1)])),this.outfilesuffix=h["$[]"]("outfilesuffix"),m(p(v,"FLEXIBLE_ATTRIBUTES"),"each",[],(g=function(a){var b=g.$$s||this,c;null==b.attribute_overrides&&(b.attribute_overrides=d);null==a&&(a=d);return e(e(c=b.attribute_overrides["$key?"](a))?b.attribute_overrides["$[]"](a):
c)?b.attribute_overrides.$delete(a):d},g.$$s=this,g.$$arity=1,g)));return this.header_attributes=h.$merge()},La.$$arity=0);a.def(c,"$fill_datetime_attributes",wa=function(c,f){var g,h,p=d,l,k=d;var q=e(t("::","ENV")["$key?"]("SOURCE_DATE_EPOCH"))?p=t("::","Time").$at(this.$Integer(t("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():t("::","Time").$now();e(l=c["$[]"]("localdate"))?e(g=c["$[]"]("localyear"))?g:(k=["localyear",l.$index("-")["$=="](4)?l.$slice(0,4):d],m(c,"[]=",a.to_a(k)),k[b(k.length,
1)]):(l=(k=["localdate",q.$strftime("%F")],m(c,"[]=",a.to_a(k)),k[b(k.length,1)]),e(g=c["$[]"]("localyear"))?g:(k=["localyear",q.$year().$to_s()],m(c,"[]=",a.to_a(k)),k[b(k.length,1)]));var v=e(g=c["$[]"]("localtime"))?g:(k=["localtime",q.$strftime("%T "+(q.$utc_offset()["$=="](0)?"UTC":"%z"))],m(c,"[]=",a.to_a(k)),k[b(k.length,1)]);e(g=c["$[]"]("localdatetime"))?g:(k=["localdatetime",""+l+" "+v],m(c,"[]=",a.to_a(k)),k[b(k.length,1)]);f=e(g=e(h=p)?h:f)?g:q;e(h=c["$[]"]("docdate"))?e(g=c["$[]"]("docyear"))?
g:(k=["docyear",h.$index("-")["$=="](4)?h.$slice(0,4):d],m(c,"[]=",a.to_a(k)),k[b(k.length,1)]):(h=(k=["docdate",f.$strftime("%F")],m(c,"[]=",a.to_a(k)),k[b(k.length,1)]),e(g=c["$[]"]("docyear"))?g:(k=["docyear",f.$year().$to_s()],m(c,"[]=",a.to_a(k)),k[b(k.length,1)]));f=e(g=c["$[]"]("doctime"))?g:(k=["doctime",f.$strftime("%T "+(f.$utc_offset()["$=="](0)?"UTC":"%z"))],m(c,"[]=",a.to_a(k)),k[b(k.length,1)]);e(g=c["$[]"]("docdatetime"))?g:(k=["docdatetime",""+h+" "+f],m(c,"[]=",a.to_a(k)),k[b(k.length,
1)]);return d},wa.$$arity=2);a.def(c,"$update_backend_attributes",Ea=function(c,f){var g,h,l=d,k=d,q=d,y=d,n=d,H;null==f&&(f=d);if(e(e(g=f)?g:c["$!="](this.backend))){var F=this.backend;var r=(h=this.attributes)["$[]"]("basebackend");var O=this.doctype;if(e(c["$include?"](":"))){var z=c.$partition(":");g=a.to_ary(z);l=null==g[0]?d:g[0];c=null==g[2]?d:g[2];z}e(c["$start_with?"]("xhtml"))?(k=["htmlsyntax","xml"],m(h,"[]=",a.to_a(k)),k[b(k.length,1)],c=c.$slice(1,c.$length())):e(c["$start_with?"]("html"))&&
(e(g=h["$[]"]("htmlsyntax"))?g:(k=["htmlsyntax","html"],m(h,"[]=",a.to_a(k)),k[b(k.length,1)]));c=e(g=p(v,"BACKEND_ALIASES")["$[]"](c))?g:c;e(l)&&(g=[l,c],c=g[0],q=g[1],g);e(O)?(e(F)&&(h.$delete("backend-"+F),h.$delete("backend-"+F+"-doctype-"+O)),k=["backend-"+c+"-doctype-"+O,""],m(h,"[]=",a.to_a(k)),k[b(k.length,1)],k=["doctype-"+O,""],m(h,"[]=",a.to_a(k)),k[b(k.length,1)]):e(F)&&h.$delete("backend-"+F);k=["backend-"+c,""];m(h,"[]=",a.to_a(k));k[b(k.length,1)];this.backend=(k=["backend",c],m(h,
"[]=",a.to_a(k)),k[b(k.length,1)]);e(t(p(v,"Converter"),"BackendTraits")["$==="](z=this.$create_converter(c,q)))?(y=z.$basebackend(),n=z.$filetype(),e(F=z.$htmlsyntax())&&(k=["htmlsyntax",F],m(h,"[]=",a.to_a(k)),k[b(k.length,1)]),e(f)?e(g=h["$[]"]("outfilesuffix"))?g:(k=["outfilesuffix",z.$outfilesuffix()],m(h,"[]=",a.to_a(k)),k[b(k.length,1)]):e(this["$attribute_locked?"]("outfilesuffix"))||(k=["outfilesuffix",z.$outfilesuffix()],m(h,"[]=",a.to_a(k)),k[b(k.length,1)])):e(z)?(F=p(v,"Converter").$derive_backend_traits(c),
y=F["$[]"]("basebackend"),n=F["$[]"]("filetype"),e(f)?e(g=h["$[]"]("outfilesuffix"))?g:(k=["outfilesuffix",F["$[]"]("outfilesuffix")],m(h,"[]=",a.to_a(k)),k[b(k.length,1)]):e(this["$attribute_locked?"]("outfilesuffix"))||(k=["outfilesuffix",F["$[]"]("outfilesuffix")],m(h,"[]=",a.to_a(k)),k[b(k.length,1)])):this.$raise(t("::","NotImplementedError"),"asciidoctor: FAILED: missing converter for backend '"+c+"'. Processing aborted.");this.converter=z;e(H=h["$[]"]("filetype"))&&h.$delete("filetype-"+H);
k=["filetype",n];m(h,"[]=",a.to_a(k));k[b(k.length,1)];k=["filetype-"+n,""];m(h,"[]=",a.to_a(k));k[b(k.length,1)];e(f=p(v,"DEFAULT_PAGE_WIDTHS")["$[]"](y))?(k=["pagewidth",f],m(h,"[]=",a.to_a(k)),k[b(k.length,1)]):h.$delete("pagewidth");e(y["$!="](r))&&(e(O)?(e(r)&&(h.$delete("basebackend-"+r),h.$delete("basebackend-"+r+"-doctype-"+O)),k=["basebackend-"+y+"-doctype-"+O,""],m(h,"[]=",a.to_a(k)),k[b(k.length,1)]):e(r)&&h.$delete("basebackend-"+r),k=["basebackend-"+y,""],m(h,"[]=",a.to_a(k)),k[b(k.length,
1)],k=["basebackend",y],m(h,"[]=",a.to_a(k)),k[b(k.length,1)]);return c}return d},Ea.$$arity=-2);return(a.def(c,"$update_doctype_attributes",Fa=function(c){var f,g;if(e(e(f=c)?c["$!="](this.doctype):f)){f=[this.backend,(g=this.attributes)["$[]"]("basebackend"),this.doctype];var h=f[0];var p=f[1];var k=f[2];f;e(k)?(g.$delete("doctype-"+k),e(h)&&(g.$delete("backend-"+h+"-doctype-"+k),f=["backend-"+h+"-doctype-"+c,""],m(g,"[]=",a.to_a(f)),f[b(f.length,1)]),e(p)&&(g.$delete("basebackend-"+p+"-doctype-"+
k),f=["basebackend-"+p+"-doctype-"+c,""],m(g,"[]=",a.to_a(f)),f[b(f.length,1)])):(e(h)&&(f=["backend-"+h+"-doctype-"+c,""],m(g,"[]=",a.to_a(f)),f[b(f.length,1)]),e(p)&&(f=["basebackend-"+p+"-doctype-"+c,""],m(g,"[]=",a.to_a(f)),f[b(f.length,1)]));f=["doctype-"+c,""];m(g,"[]=",a.to_a(f));f[b(f.length,1)];return this.doctype=(f=["doctype",c],m(g,"[]=",a.to_a(f)),f[b(f.length,1)])}return d},Fa.$$arity=1),d)&&"update_doctype_attributes"})(c[0],p(c,"AbstractBlock"),c)}(h[0],h)};Opal.modules["asciidoctor/inline"]=
function(a){var b=[],g=a.nil,k=a.const_get_relative,l=a.module,q=a.klass,h=a.hash2,d=a.send,t=a.truthy;a.add_stubs("$attr_accessor $attr_reader $[] $convert $converter $attr $== $apply_reftext_subs $reftext".split(" "));return function(b,c){b=[l(b,"Asciidoctor")].concat(c);(function(b,$super,e){b=q(b,$super,"Inline");[b].concat(e);var c,p,k,l,v,n,r,y;b.$$prototype.text=b.$$prototype.type=g;b.$attr_accessor("text");b.$attr_reader("type");b.$attr_accessor("target");a.def(b,"$initialize",c=function(b,
e,f,p){c.$$p&&(c.$$p=null);null==f&&(f=g);null==p&&(p=h([],{}));d(this,a.find_super_dispatcher(this,"initialize",c,!1),[b,e,p],null);this.node_name="inline_"+e;this.text=f;this.id=p["$[]"]("id");this.type=p["$[]"]("type");return this.target=p["$[]"]("target")},c.$$arity=-3);a.def(b,"$block?",p=function(){return!1},p.$$arity=0);a.def(b,"$inline?",k=function(){return!0},k.$$arity=0);a.def(b,"$convert",l=function(){return this.$converter().$convert(this)},l.$$arity=0);a.alias(b,"render","convert");a.def(b,
"$alt",v=function(){var a;return t(a=this.$attr("alt"))?a:""},v.$$arity=0);a.def(b,"$reftext?",n=function(){var a,b;return t(a=this.text)?t(b=this.type["$=="]("ref"))?b:this.type["$=="]("bibref"):a},n.$$arity=0);a.def(b,"$reftext",r=function(){var a;return t(a=this.text)?this.$apply_reftext_subs(a):g},r.$$arity=0);return(a.def(b,"$xreftext",y=function(a){return this.$reftext()},y.$$arity=-1),g)&&"xreftext"})(b[0],k(b,"AbstractNode"),b)}(b[0],b)};Opal.modules["asciidoctor/list"]=function(a){var b=
[],g=a.nil,k=a.const_get_relative,l=a.module,q=a.klass,h=a.hash2,d=a.send,t=a.truthy;a.add_stubs("$== $next_list $callouts $class $object_id $inspect $size $items $attr_accessor $level $drop $nil_or_empty? $apply_subs $empty? $=== $[] $outline? $! $simple? $source $shift $context $parent".split(" "));return function(b,c){b=[l(b,"Asciidoctor")].concat(c);(function(b,$super,e){b=q(b,$super,"List");[b].concat(e);var c,p,k,l;b.$$prototype.context=b.$$prototype.document=b.$$prototype.style=g;a.alias(b,
"items","blocks");a.alias(b,"content","blocks");a.alias(b,"items?","blocks?");a.def(b,"$initialize",c=function(b,e,f){var g=c.$$p,p;g&&(c.$$p=null);var k=0;var l=arguments.length;for(p=Array(l);k<l;k++)p[k]=arguments[k];null==f&&(f=h([],{}));return d(this,a.find_super_dispatcher(this,"initialize",c,!1),p,g)},c.$$arity=-3);a.def(b,"$outline?",p=function(){var a;return t(a=this.context["$=="]("ulist"))?a:this.context["$=="]("olist")},p.$$arity=0);a.def(b,"$convert",k=function(){var b=k.$$p,e;b&&(k.$$p=
null);var c=0;var f=arguments.length;for(e=Array(f);c<f;c++)e[c]=arguments[c];return this.context["$=="]("colist")?(b=d(this,a.find_super_dispatcher(this,"convert",k,!1),e,b),this.document.$callouts().$next_list(),b):d(this,a.find_super_dispatcher(this,"convert",k,!1),e,b)},k.$$arity=0);a.alias(b,"render","convert");return(a.def(b,"$to_s",l=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+this.$items().$size()+
"}>"},l.$$arity=0),g)&&"to_s"})(b[0],k(b,"AbstractBlock"),b);(function(b,$super,e){b=q(b,$super,"ListItem");var c=[b].concat(e),h,p,l,v,n,r,y,z;b.$$prototype.text=b.$$prototype.subs=b.$$prototype.blocks=g;a.alias(b,"list","parent");b.$attr_accessor("marker");a.def(b,"$initialize",h=function(b,e){h.$$p&&(h.$$p=null);null==e&&(e=g);d(this,a.find_super_dispatcher(this,"initialize",h,!1),[b,"list_item"],null);this.text=e;this.level=b.$level();return this.subs=k(c,"NORMAL_SUBS").$drop(0)},h.$$arity=-2);
a.def(b,"$text?",p=function(){return t(this.text["$nil_or_empty?"]())?!1:!0},p.$$arity=0);a.def(b,"$text",l=function(){var a;return t(a=this.text)?this.$apply_subs(this.text,this.subs):a},l.$$arity=0);a.def(b,"$text=",v=function(a){return this.text=a},v.$$arity=1);a.def(b,"$simple?",n=function(){var a,b,d=g;return t(a=this.blocks["$empty?"]())?a:t(b=this.blocks.$size()["$=="](1)?k(c,"List")["$==="](d=this.blocks["$[]"](0)):this.blocks.$size()["$=="](1))?d["$outline?"]():b},n.$$arity=0);a.def(b,"$compound?",
r=function(){return this["$simple?"]()["$!"]()},r.$$arity=0);a.def(b,"$fold_first",y=function(){this.text=t(this.text["$nil_or_empty?"]())?this.blocks.$shift().$source():""+this.text+k(c,"LF")+this.blocks.$shift().$source();return g},y.$$arity=0);return(a.def(b,"$to_s",z=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {list_context: "+this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+(t(a=this.blocks)?a:[]).$size()+"}>"},z.$$arity=0),g)&&"to_s"})(b[0],
k(b,"AbstractBlock"),b)}(b[0],b)};Opal.modules["asciidoctor/parser"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var h=[],d=a.nil,t=a.const_get_qualified,
p=a.const_get_relative,n=a.module,r=a.klass,m=a.send,e=a.truthy,f=a.hash2,u=a.gvars;a.add_stubs("$include $new $proc $start_with? $match? $is_delimited_block? $private_class_method $parse_document_header $[] $has_more_lines? $next_section $assign_numeral $<< $blocks $skip_blank_lines $parse_block_metadata_lines $attributes $is_next_line_doctitle? $finalize_header $nil_or_empty? $title= $- $sourcemap $cursor $parse_section_title $id= $include? $sub_specialchars $[]= $sub_attributes $source_location= $header $attribute_locked? $id $clear $delete $instance_variable_get $parse_header_metadata $== $! $register $doctype $parse_manpage_header $=~ $downcase $error $logger $message_with_context $cursor_at_line $backend $save $update $is_next_line_section? $initialize_section $join $map $read_lines_until $lstrip $split $title $restore_save $discard_save $context $empty? $header? $!= $attr? $attr $key? $document $+ $level $special $sectname $to_i $< $> $warn $next_block $blocks? $style $context= $style= $parent= $size $content_model $shift $unwrap_standalone_preamble $source_location $merge $fetch $parse_block_metadata_line $extensions $block_macros? $mark $read_line $terminator $to_s $masq $to_sym $registered_for_block? $debug? $debug $cursor_at_mark $strict_verbatim_paragraphs $unshift_line $markdown_syntax $keys $chr $uniform? $length $end_with? $=== $parse_attributes $attribute_missing $tr $basename $assign_caption $registered_for_block_macro? $config $process_method $replace $parse_callout_list $callouts $parse_list $parse_description_list $underline_style_section_titles $is_section_title? $peek_line $atx_section_title? $generate_id $level= $read_paragraph_lines $adjust_indentation! $map! $slice $pop $build_block $apply_subs $chop $catalog_inline_anchors $rekey $index $strip $parse_table $each $raise $title? $update_attributes $commit_subs $sub? $catalog_callouts $source $remove_sub $block_terminates_paragraph $to_proc $nil? $lines $parse_blocks $parse_list_item $items $scan $gsub $count $advance $dup $match $callout_ids $next_list $catalog_inline_anchor $marker= $catalog_inline_biblio_anchor $set_option $text= $resolve_ordered_list_marker $read_lines_for_list_item $skip_line_comments $unshift_lines $fold_first $text? $is_sibling_list_item? $concat $find $casecmp $sectname= $special= $numbered= $numbered $lineno $peek_lines $setext_section_title? $abs $cursor_at_prev_line $process_attribute_entries $next_line_empty? $process_authors $apply_header_subs $rstrip $each_with_index $compact $squeeze $to_a $parse_style_attribute $process_attribute_entry $skip_comment_lines $store_attribute $sanitize_attribute_name $set_attribute $save_to $delete_attribute $ord $int_to_roman $resolve_list_marker $parse_colspecs $create_columns $has_header_option= $format $starts_with_delimiter? $close_open_cell $parse_cellspec $delimiter $match_delimiter $pre_match $post_match $buffer_has_unclosed_quotes? $skip_past_delimiter $buffer $buffer= $skip_past_escaped_delimiter $keep_cell_open $push_cellspec $close_cell $cell_open? $columns $assign_column_widths $partition_header_footer $upto $partition $shorthand_property_syntax $each_char $yield_buffered_attribute $any? $* $each_byte $%".split(" "));
return function(c,h){c=[n(c,"Asciidoctor")].concat(h);(function(c,$super,h){c=r(c,$super,"Parser");var v=[c].concat(h),n,z,w,B,V,L,A,D,C,J,E,G,x,I,W,U,S,ia,ta,ca,na,ja,T,K,M,N,P,ua,da,va,Y,qa,Ia,Ha,Ja,Wa,Qa,Ma,Da,Ka,Xa,Sa,Ya,Za,$a,H;c.$include(p(v,"Logging"));a.const_set(v[0],"BlockMatchData",p(v,"Struct").$new("context","masq","tip","terminator"));a.const_set(v[0],"TAB","\t");a.const_set(v[0],"TabIndentRx",/^\t+/);a.const_set(v[0],"StartOfBlockProc",m(c,"proc",[],(n=function(a){var b=n.$$s||this,
c,f;null==a&&(a=d);return e(c=e(f=a["$start_with?"]("["))?p(v,"BlockAttributeLineRx")["$match?"](a):f)?c:b["$is_delimited_block?"](a)},n.$$s=c,n.$$arity=1,n)));a.const_set(v[0],"StartOfListProc",m(c,"proc",[],(z=function(a){null==a&&(a=d);return p(v,"AnyListRx")["$match?"](a)},z.$$s=c,z.$$arity=1,z)));a.const_set(v[0],"StartOfBlockOrListProc",m(c,"proc",[],(w=function(a){var b=w.$$s||this,c,f,g;null==a&&(a=d);return e(c=e(f=b["$is_delimited_block?"](a))?f:e(g=a["$start_with?"]("["))?p(v,"BlockAttributeLineRx")["$match?"](a):
g)?c:p(v,"AnyListRx")["$match?"](a)},w.$$s=c,w.$$arity=1,w)));a.const_set(v[0],"NoOp",d);a.const_set(v[0],"AuthorKeys","author authorinitials firstname middlename lastname email".split(" "));a.const_set(v[0],"TableCellHorzAlignments",f(["<",">","^"],{"<":"left",">":"right","^":"center"}));a.const_set(v[0],"TableCellVertAlignments",f(["<",">","^"],{"<":"top",">":"bottom","^":"middle"}));a.const_set(v[0],"TableCellStyles",f("dsemhla".split(""),{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",
l:"literal",a:"asciidoc"}));c.$private_class_method("new");a.defs(c,"$parse",B=function(b,c,g){null==g&&(g=f([],{}));var m=this.$parse_document_header(b,c);if(!e(g["$[]"]("header_only")))for(;e(b["$has_more_lines?"]());){g=this.$next_section(b,c,m);m=a.to_ary(g);var h=null==m[0]?d:m[0];m=null==m[1]?d:m[1];g;e(h)&&(c.$assign_numeral(h),c.$blocks()["$<<"](h))}return c},B.$$arity=-3);a.defs(c,"$parse_document_header",V=function(c,g){var h,k,l,q=d,t=d;var n=e(c.$skip_blank_lines())?this.$parse_block_metadata_lines(c,
g):f([],{});var H=g.$attributes();if(e(e(h=k=this["$is_next_line_doctitle?"](c,n,H["$[]"]("leveloffset")))?n["$[]"]("title"):h))return g.$finalize_header(n,!1);if(!e((l=H["$[]"]("doctitle"))["$nil_or_empty?"]())){var r=[q=l];m(g,"title=",a.to_a(r));r[b(r.length,1)]}if(e(k)){e(g.$sourcemap())&&(t=c.$cursor());r=this.$parse_section_title(c,g);h=a.to_ary(r);g["$id="](null==h[0]?d:h[0]);k=null==h[2]?d:h[2];var F=null==h[4]?d:h[4];r;e(q)?k=d:(r=[k],m(g,"title=",a.to_a(r)),r[b(r.length,1)],e((r=["doctitle",
q=g.$sub_specialchars(k)],m(H,"[]=",a.to_a(r)),r[b(r.length,1)])["$include?"](p(v,"ATTR_REF_HEAD")))&&(r=["doctitle",q=g.$sub_attributes(q,f(["attribute_missing"],{attribute_missing:"skip"}))],m(H,"[]=",a.to_a(r)),r[b(r.length,1)]));e(t)&&(r=[t],m(g.$header(),"source_location=",a.to_a(r)),r[b(r.length,1)]);e(e(h=F)?h:g["$attribute_locked?"]("compat-mode"))||(r=["compat-mode",""],m(H,"[]=",a.to_a(r)),r[b(r.length,1)]);e(r=n["$[]"]("separator"))&&!e(g["$attribute_locked?"]("title-separator"))&&(r=["title-separator",
r],m(H,"[]=",a.to_a(r)),r[b(r.length,1)]);e(t=n["$[]"]("id"))?(r=[t],m(g,"id=",a.to_a(r)),r[b(r.length,1)]):t=g.$id();e(r=n["$[]"]("role"))&&(r=["role",r],m(H,"[]=",a.to_a(r)),r[b(r.length,1)]);e(r=n["$[]"]("reftext"))&&(r=["reftext",r],m(H,"[]=",a.to_a(r)),r[b(r.length,1)]);n.$clear();(r=g.$instance_variable_get("@attributes_modified")).$delete("doctitle");this.$parse_header_metadata(c,g);if(e(r["$include?"]("doctitle")))e(e(h=(l=H["$[]"]("doctitle"))["$nil_or_empty?"]())?h:l["$=="](q))?(r=["doctitle",
q],m(H,"[]=",a.to_a(r))):(r=[l],m(g,"title=",a.to_a(r))),r[b(r.length,1)];else if(e(k["$!"]()))r["$<<"]("doctitle");e(t)&&g.$register("refs",[t,g])}g.$doctype()["$=="]("manpage")&&this.$parse_manpage_header(c,g,n);return g.$finalize_header(n)},V.$$arity=2);a.defs(c,"$parse_manpage_header",L=function(c,g,h){var k,l,q,t,n=d,r=d,H=d,F=d,y=d,O=d,z=O=d,Q=d,w=d,B=d;e(p(v,"ManpageTitleVolnumRx")["$=~"]((n=g.$attributes())["$[]"]("doctitle")))?(r=["manvolnum",H=(k=u["~"])===d?d:k["$[]"](2)],m(n,"[]=",a.to_a(r)),
r[b(r.length,1)],r=["mantitle",(e((F=(k=u["~"])===d?d:k["$[]"](1))["$include?"](p(v,"ATTR_REF_HEAD")))?g.$sub_attributes(F):F).$downcase()]):(this.$logger().$error(this.$message_with_context("non-conforming manpage title",f(["source_location"],{source_location:c.$cursor_at_line(1)}))),r=["mantitle",e(k=e(l=n["$[]"]("doctitle"))?l:n["$[]"]("docname"))?k:"command"],m(n,"[]=",a.to_a(r)),r[b(r.length,1)],r=["manvolnum",H="1"]);m(n,"[]=",a.to_a(r));r[b(r.length,1)];e(e(k=y=n["$[]"]("manname"))?n["$[]"]("manpurpose"):
k)?(e(k=n["$[]"]("manname-title"))?k:(r=["manname-title","Name"],m(n,"[]=",a.to_a(r)),r[b(r.length,1)]),r=["mannames",[y]],m(n,"[]=",a.to_a(r)),r[b(r.length,1)],g.$backend()["$=="]("manpage")&&(r=["docname",y],m(n,"[]=",a.to_a(r)),r[b(r.length,1)],r=["outfilesuffix","."+H],m(n,"[]=",a.to_a(r)),r[b(r.length,1)])):(c.$skip_blank_lines(),c.$save(),h.$update(this.$parse_block_metadata_lines(c,g)),e(O=this["$is_next_line_section?"](c,f([],{})))?O["$=="](1)?(O=this.$initialize_section(c,g,f([],{})),z=m(c.$read_lines_until(f(["break_on_blank_lines",
"skip_line_comments"],{break_on_blank_lines:!0,skip_line_comments:!0})),"map",[],(q=function(a){null==a&&(a=d);return a.$lstrip()},q.$$s=this,q.$$arity=1,q)).$join(" "),e(p(v,"ManpageNamePurposeRx")["$=~"](z))?(e((y=(k=u["~"])===d?d:k["$[]"](1))["$include?"](p(v,"ATTR_REF_HEAD")))&&(y=g.$sub_attributes(y)),e(y["$include?"](","))?y=(Q=m(y.$split(","),"map",[],(t=function(a){null==a&&(a=d);return a.$lstrip()},t.$$s=this,t.$$arity=1,t)))["$[]"](0):Q=[y],e((w=(k=u["~"])===d?d:k["$[]"](2))["$include?"](p(v,
"ATTR_REF_HEAD")))&&(w=g.$sub_attributes(w)),e(k=n["$[]"]("manname-title"))?k:(r=["manname-title",O.$title()],m(n,"[]=",a.to_a(r)),r[b(r.length,1)]),e(O.$id())&&(r=["manname-id",O.$id()],m(n,"[]=",a.to_a(r)),r[b(r.length,1)]),r=["manname",y],m(n,"[]=",a.to_a(r)),r[b(r.length,1)],r=["mannames",Q],m(n,"[]=",a.to_a(r)),r[b(r.length,1)],r=["manpurpose",w],m(n,"[]=",a.to_a(r)),r[b(r.length,1)],g.$backend()["$=="]("manpage")&&(r=["docname",y],m(n,"[]=",a.to_a(r)),r[b(r.length,1)],r=["outfilesuffix","."+
H],m(n,"[]=",a.to_a(r)),r[b(r.length,1)])):B="non-conforming name section body"):B="name section must be at level 1":B="name section expected",e(B)?(c.$restore_save(),this.$logger().$error(this.$message_with_context(B,f(["source_location"],{source_location:c.$cursor()}))),r=["manname",y=e(k=n["$[]"]("docname"))?k:"command"],m(n,"[]=",a.to_a(r)),r[b(r.length,1)],r=["mannames",[y]],m(n,"[]=",a.to_a(r)),r[b(r.length,1)],g.$backend()["$=="]("manpage")&&(r=["docname",y],m(n,"[]=",a.to_a(r)),r[b(r.length,
1)],r=["outfilesuffix","."+H],m(n,"[]=",a.to_a(r)),r[b(r.length,1)])):c.$discard_save());return d},L.$$arity=3);a.defs(c,"$next_section",A=function(c,h,q){var r,t,n,H,F,y,z=d,u,O,Q=d,w=O=d,B;null==q&&(q=f([],{}));var V=F=y=!1;if(e(e(r=(t=h.$context()["$=="]("document"))?h.$blocks()["$empty?"]():h.$context()["$=="]("document"))?e(t=e(n=z=h["$header?"]())?n:q.$delete("invalid-header"))?t:this["$is_next_line_section?"](c,q)["$!"]():r)){var L=(u=h).$doctype()["$=="]("book");if(e(e(r=z)?r:e(t=L)?q["$[]"](1)["$!="]("abstract"):
t)){V=F=p(v,"Block").$new(h,"preamble",f(["content_model"],{content_model:"compound"}));if(e(e(r=L)?h["$attr?"]("preface-title"):r)){var A=[h.$attr("preface-title")];m(V,"title=",a.to_a(A));A[b(A.length,1)]}h.$blocks()["$<<"](V)}z=h;O=0;if(e(h.$attributes()["$key?"]("fragment")))var D=-1;else e(L)?(r=[1,0],D=r[0],Q=r[1],r):D=1}else L=(u=h.$document()).$doctype()["$=="]("book"),z=this.$initialize_section(c,h,q),q=e(O=q["$[]"]("title"))?f(["title"],{title:O}):f([],{}),D=g(O=z.$level(),1),O["$=="](0)?
y=L:e((r=O["$=="](1))?z.$special():O["$=="](1))&&!e(e(r=e(t=(w=z.$sectname())["$=="]("appendix"))?t:w["$=="]("preface"))?r:w["$=="]("abstract"))&&(D=d);for(c.$skip_blank_lines();e(c["$has_more_lines?"]());){this.$parse_block_metadata_lines(c,u,q);if(e(B=this["$is_next_line_section?"](c,q)))if(e(u["$attr?"]("leveloffset"))&&(B=g(B,u.$attr("leveloffset").$to_i()),e(k(B,0))&&(B=0)),e(l(B,O)))e(D)?e(e(t=e(n=B["$=="](D))?n:e(H=Q)?B["$=="](Q):H)?t:k(D,0))||(t=e(Q)?"expected levels "+Q+" or "+D:"expected level "+
D,this.$logger().$warn(this.$message_with_context("section title out of sequence: "+t+", got level "+B,f(["source_location"],{source_location:c.$cursor()})))):this.$logger().$error(this.$message_with_context(""+w+" sections do not support nested sections",f(["source_location"],{source_location:c.$cursor()}))),n=this.$next_section(c,z,q),t=a.to_ary(n),B=null==t[0]?d:t[0],q=null==t[1]?d:t[1],n,z.$assign_numeral(B),z.$blocks()["$<<"](B);else if(e((t=B["$=="](0))?z["$=="](u):B["$=="](0)))e(L)||this.$logger().$error(this.$message_with_context("level 0 sections can only be used when doctype is book",
f(["source_location"],{source_location:c.$cursor()}))),n=this.$next_section(c,z,q),t=a.to_ary(n),B=null==t[0]?d:t[0],q=null==t[1]?d:t[1],n,z.$assign_numeral(B),z.$blocks()["$<<"](B);else break;else if(A=c.$cursor(),e(B=this.$next_block(c,e(t=F)?t:z,q,f(["parse_metadata"],{parse_metadata:!1})))){if(e(y))if(e(z["$blocks?"]()["$!"]()))e(B.$style()["$!="]("partintro"))&&(B.$context()["$=="]("paragraph")?(A=["open"],m(B,"context=",a.to_a(A)),A[b(A.length,1)],A=["partintro"],m(B,"style=",a.to_a(A)),A[b(A.length,
1)]):(A=[F=p(v,"Block").$new(z,"open",f(["content_model"],{content_model:"compound"}))],m(B,"parent=",a.to_a(A)),A[b(A.length,1)],A=["partintro"],m(F,"style=",a.to_a(A)),A[b(A.length,1)],z.$blocks()["$<<"](F)));else if(z.$blocks().$size()["$=="](1)){var C=z.$blocks()["$[]"](0);e(e(t=F["$!"]())?C.$content_model()["$=="]("compound"):t)?this.$logger().$error(this.$message_with_context("illegal block content outside of partintro block",f(["source_location"],{source_location:A}))):e(C.$content_model()["$!="]("compound"))&&
(A=[F=p(v,"Block").$new(z,"open",f(["content_model"],{content_model:"compound"}))],m(B,"parent=",a.to_a(A)),A[b(A.length,1)],A=["partintro"],m(F,"style=",a.to_a(A)),A[b(A.length,1)],z.$blocks().$shift(),C.$style()["$=="]("partintro")&&(A=["paragraph"],m(C,"context=",a.to_a(A)),A[b(A.length,1)],A=[d],m(C,"style=",a.to_a(A)),A[b(A.length,1)]),F["$<<"](C),z.$blocks()["$<<"](F))}(e(t=F)?t:z).$blocks()["$<<"](B);q.$clear()}if(e(t=c.$skip_blank_lines()))t;else break}if(e(y))e(e(r=z["$blocks?"]())?z.$blocks()["$[]"](-1).$context()["$=="]("section"):
r)||this.$logger().$error(this.$message_with_context("invalid part, must have at least one section (e.g., chapter, appendix, etc.)",f(["source_location"],{source_location:c.$cursor()})));else if(e(V))if(e(V["$blocks?"]()))if(e(e(r=e(t=L)?t:u.$blocks()["$[]"](1))?r:p(v,"Compliance").$unwrap_standalone_preamble()["$!"]()))e(u.$sourcemap())&&(A=[V.$blocks()["$[]"](0).$source_location()],m(V,"source_location=",a.to_a(A)),A[b(A.length,1)]);else for(u.$blocks().$shift();e(c=V.$blocks().$shift());)u["$<<"](c);
else u.$blocks().$shift();return[e(z["$!="](h))?z:d,q.$merge()]},A.$$arity=-3);a.defs(c,"$next_block",D=function(c,h,q,r){try{var t,n,H,y,z,F,O,w=d,B=d,Q=d,La=d,A=d,V=d,L=d,D=d,C=d,J=d,E=d,W=d,ba=d,G=d,x=d,Z=d,I=d,U=d,na=d,ja=d,S=d,fa=d,sa=d,X=d,xa=d,ka=d,ya=d,pa=d,aa=d,ia=d,oa=d,Ma=d,ta=d,ca=d,ra=d,ma=d,T=d,K=d,Ca=d,M=d,N=d,Da=d,Ga=d,Pa=d,Va=d,P=d,za=d,Na=d,Ka=d;null==u["~"]&&(u["~"]=d);null==q&&(q=f([],{}));null==r&&(r=f([],{}));if(!e(w=c.$skip_blank_lines()))return d;e(e(t=B=r["$[]"]("text_only"))?
l(w,0):t)&&(r.$delete("text_only"),B=d);Q=h.$document();if(e(r.$fetch("parse_metadata",!0)))for(;e(this.$parse_block_metadata_line(c,Q,q,r));)c.$shift(),e(n=c.$skip_blank_lines())?n:a.ret(d);e(La=Q.$extensions())&&(t=[La["$blocks?"](),La["$block_macros?"]()],A=t[0],V=t[1],t);c.$mark();t=[c.$read_line(),Q.$attributes(),q["$[]"](1)];L=t[0];D=t[1];C=t[2];t;J=E=W=ba=d;e(G=this["$is_delimited_block?"](L,!0))&&(E=W=G.$context(),ba=G.$terminator(),e(C)?C["$=="](E.$to_s())||(e(G.$masq()["$include?"](C))?
E=C.$to_sym():e(e(t=G.$masq()["$include?"]("admonition"))?p(v,"ADMONITION_STYLES")["$include?"](C):t)?E="admonition":e(e(t=A)?La["$registered_for_block?"](C,E):t)?E=C.$to_sym():(e(this.$logger()["$debug?"]())&&this.$logger().$debug(this.$message_with_context("unknown style for "+E+" block: "+C,f(["source_location"],{source_location:c.$cursor_at_mark()}))),C=E.$to_s())):C=(x=["style",E.$to_s()],m(q,"[]=",a.to_a(x)),x[b(x.length,1)]));if(!e(G))for(;e(!0);){if(e(e(n=e(H=C)?p(v,"Compliance").$strict_verbatim_paragraphs():
H)?p(v,"VERBATIM_STYLES")["$include?"](C):n)){E=C.$to_sym();c.$unshift_line(L);break}if(e(B))Z=L["$start_with?"](" ",p(v,"TAB"));else if(I=p(v,"Compliance").$markdown_syntax(),e(L["$start_with?"](" "))){if(n=[!0," "],Z=n[0],U=n[1],n,e(e(n=e(H=I)?m(L.$lstrip(),"start_with?",a.to_a(p(v,"MARKDOWN_THEMATIC_BREAK_CHARS").$keys())):H)?p(v,"MarkdownThematicBreakRx")["$match?"](L):n)){J=p(v,"Block").$new(h,"thematic_break",f(["content_model"],{content_model:"empty"}));break}}else if(e(L["$start_with?"](p(v,
"TAB"))))n=[!0,p(v,"TAB")],Z=n[0],U=n[1],n;else if(n=[!1,L.$chr()],Z=n[0],U=n[1],n,na=e(I)?p(v,"HYBRID_LAYOUT_BREAK_CHARS"):p(v,"LAYOUT_BREAK_CHARS"),e(e(n=na["$key?"](U))?e(I)?p(v,"ExtLayoutBreakRx")["$match?"](L):e(H=this["$uniform?"](L,U,ja=L.$length()))?l(ja,2):H:n)){J=p(v,"Block").$new(h,na["$[]"](U),f(["content_model"],{content_model:"empty"}));break}else if(e(e(n=L["$end_with?"]("]"))?L["$include?"]("::"):n))if(e(e(n=e(H=U["$=="]("i"))?H:L["$start_with?"]("video:","audio:"))?p(v,"BlockMediaMacroRx")["$=~"](L):
n)){n=[((H=u["~"])===d?d:H["$[]"](1)).$to_sym(),(H=u["~"])===d?d:H["$[]"](2),(H=u["~"])===d?d:H["$[]"](3)];S=n[0];fa=n[1];sa=n[2];n;J=p(v,"Block").$new(h,S,f(["content_model"],{content_model:"empty"}));e(sa)&&(X=S,xa="video"["$==="](X)?["poster","width","height"]:"audio"["$==="](X)?[]:["alt","width","height"],J.$parse_attributes(sa,xa,f(["sub_input","into"],{sub_input:!0,into:q})));e(q["$key?"]("style"))&&q.$delete("style");if(e(fa["$include?"](p(v,"ATTR_REF_HEAD")))){if(e(e(n=e(H=(ka=J.$sub_attributes(fa))["$empty?"]())?
(e(y=D["$[]"]("attribute-missing"))?y:p(v,"Compliance").$attribute_missing())["$=="]("drop-line"):H)?J.$sub_attributes(g(fa," "),f(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():n))return q.$clear(),d;fa=ka}S["$=="]("image")&&(Q.$register("images",fa),x=["imagesdir",D["$[]"]("imagesdir")],m(q,"[]=",a.to_a(x)),x[b(x.length,1)],e(n=q["$[]"]("alt"))?n:(x=["alt",e(H=C)?H:(x=["default-alt",p(v,"Helpers").$basename(fa,!0).$tr("_-"," ")],
m(q,"[]=",a.to_a(x)),x[b(x.length,1)])],m(q,"[]=",a.to_a(x)),x[b(x.length,1)]),e((ya=q.$delete("scaledwidth"))["$nil_or_empty?"]())||(x=["scaledwidth",e(p(v,"TrailingDigitsRx")["$match?"](ya))?""+ya+"%":ya],m(q,"[]=",a.to_a(x)),x[b(x.length,1)]),e(q["$[]"]("title"))&&(x=[pa=q.$delete("title")],m(J,"title=",a.to_a(x)),x[b(x.length,1)],J.$assign_caption(q.$delete("caption"),"figure")));x=["target",fa];m(q,"[]=",a.to_a(x));x[b(x.length,1)];break}else if(e(e(n=(H=U["$=="]("t"))?L["$start_with?"]("toc:"):
U["$=="]("t"))?p(v,"BlockTocMacroRx")["$=~"](L):n)){J=p(v,"Block").$new(h,"toc",f(["content_model"],{content_model:"empty"}));e((n=u["~"])===d?d:n["$[]"](1))&&J.$parse_attributes((n=u["~"])===d?d:n["$[]"](1),[],f(["into"],{into:q}));break}else if(e(e(V)?e(n=e(H=p(v,"CustomBlockMacroRx")["$=~"](L))?aa=La["$registered_for_block_macro?"]((y=u["~"])===d?d:y["$[]"](1)):H)?n:ia=this.$logger()["$debug?"]():e(n=this.$logger()["$debug?"]())?ia=p(v,"CustomBlockMacroRx")["$=~"](L):n))if(e(ia))this.$logger().$debug(this.$message_with_context("unknown name for block macro: "+
((n=u["~"])===d?d:n["$[]"](1)),f(["source_location"],{source_location:c.$cursor_at_mark()})));else{oa=(n=u["~"])===d?d:n["$[]"](3);if(e((fa=(n=u["~"])===d?d:n["$[]"](2))["$include?"](p(v,"ATTR_REF_HEAD")))){if(e(e(n=e(H=(ka=h.$sub_attributes(fa))["$empty?"]())?(e(y=D["$[]"]("attribute-missing"))?y:p(v,"Compliance").$attribute_missing())["$=="]("drop-line"):H)?h.$sub_attributes(g(fa," "),f(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():
n))return q.$clear(),d;fa=ka}(Ma=aa.$config())["$[]"]("content_model")["$=="]("attributes")?e(oa)&&Q.$parse_attributes(oa,e(n=e(H=Ma["$[]"]("positional_attrs"))?H:Ma["$[]"]("pos_attrs"))?n:[],f(["sub_input","into"],{sub_input:!0,into:q})):(x=["text",e(n=oa)?n:""],m(q,"[]=",a.to_a(x)),x[b(x.length,1)]);e(ta=Ma["$[]"]("default_attrs"))&&m(q,"update",[ta],(z=function(a,b){null==b&&(b=d);return b},z.$$s=this,z.$$arity=2,z));if(e(J=aa.$process_method()["$[]"](h,fa,q))){q.$replace(J.$attributes());break}else return q.$clear(),
d}if(e(e(n=e(H=Z["$!"]())?(U=e(y=U)?y:L.$chr())["$=="]("<"):H)?p(v,"CalloutListRx")["$=~"](L):n)){c.$unshift_line(L);J=this.$parse_callout_list(c,u["~"],h,Q.$callouts());x=["style","arabic"];m(q,"[]=",a.to_a(x));x[b(x.length,1)];break}else if(e(p(v,"UnorderedListRx")["$match?"](L))){c.$unshift_line(L);e(e(n=e(H=C["$!"]())?p(v,"Section")["$==="](h):H)?h.$sectname()["$=="]("bibliography"):n)&&(x=["style",C="bibliography"],m(q,"[]=",a.to_a(x)),x[b(x.length,1)]);J=this.$parse_list(c,"ulist",h,C);break}else if(e(p(v,
"OrderedListRx")["$match?"](L))){c.$unshift_line(L);J=this.$parse_list(c,"olist",h,C);e(J.$style())&&(x=["style",J.$style()],m(q,"[]=",a.to_a(x)),x[b(x.length,1)]);break}else if(e(e(n=e(H=L["$include?"]("::"))?H:L["$include?"](";;"))?p(v,"DescriptionListRx")["$=~"](L):n)){c.$unshift_line(L);J=this.$parse_description_list(c,u["~"],h);break}else if(e(e(n=e(H=C["$=="]("float"))?H:C["$=="]("discrete"))?e(p(v,"Compliance").$underline_style_section_titles())?this["$is_section_title?"](L,c.$peek_line()):
e(H=Z["$!"]())?this["$atx_section_title?"](L):H:n)){c.$unshift_line(L);H=this.$parse_section_title(c,Q,q["$[]"]("id"));n=a.to_ary(H);ca=null==n[0]?d:n[0];ra=null==n[1]?d:n[1];pa=null==n[2]?d:n[2];ma=null==n[3]?d:n[3];H;e(ra)&&(x=["reftext",ra],m(q,"[]=",a.to_a(x)),x[b(x.length,1)]);J=p(v,"Block").$new(h,"floating_title",f(["content_model"],{content_model:"empty"}));x=[pa];m(J,"title=",a.to_a(x));x[b(x.length,1)];q.$delete("title");x=[e(n=ca)?n:e(D["$key?"]("sectids"))?p(v,"Section").$generate_id(J.$title(),
Q):d];m(J,"id=",a.to_a(x));x[b(x.length,1)];x=[ma];m(J,"level=",a.to_a(x));x[b(x.length,1)];break}else if(e(e(n=C)?C["$!="]("normal"):n))if(e(p(v,"PARAGRAPH_STYLES")["$include?"](C))){E=C.$to_sym();W="paragraph";c.$unshift_line(L);break}else if(e(p(v,"ADMONITION_STYLES")["$include?"](C))){E="admonition";W="paragraph";c.$unshift_line(L);break}else if(e(e(n=A)?La["$registered_for_block?"](C,"paragraph"):n)){E=C.$to_sym();W="paragraph";c.$unshift_line(L);break}else e(this.$logger()["$debug?"]())&&this.$logger().$debug(this.$message_with_context("unknown style for paragraph: "+
C,f(["source_location"],{source_location:c.$cursor_at_mark()}))),C=d;c.$unshift_line(L);if(e(e(n=Z)?C["$!"]():n))T=this.$read_paragraph_lines(c,K=w["$=="](0)?r["$[]"]("list_type"):d,f(["skip_line_comments"],{skip_line_comments:B})),this["$adjust_indentation!"](T),J=e(e(n=B)?n:K["$=="]("dlist"))?p(v,"Block").$new(h,"paragraph",f(["content_model","source","attributes"],{content_model:"simple",source:T,attributes:q})):p(v,"Block").$new(h,"literal",f(["content_model","source","attributes"],{content_model:"verbatim",
source:T,attributes:q}));else{T=this.$read_paragraph_lines(c,(n=w["$=="](0))?r["$[]"]("list_type"):w["$=="](0),f(["skip_line_comments"],{skip_line_comments:!0}));if(e(B)){if(e(e(n=Z)?C["$=="]("normal"):n))this["$adjust_indentation!"](T);J=p(v,"Block").$new(h,"paragraph",f(["content_model","source","attributes"],{content_model:"simple",source:T,attributes:q}))}else if(e(e(n=e(H=p(v,"ADMONITION_STYLE_HEADS")["$include?"](U))?L["$include?"](":"):H)?p(v,"AdmonitionParagraphRx")["$=~"](L):n))x=[0,(n=u["~"])===
d?d:n.$post_match()],m(T,"[]=",a.to_a(x)),x[b(x.length,1)],x=["name",Ca=(x=["style",(n=u["~"])===d?d:n["$[]"](1)],m(q,"[]=",a.to_a(x)),x[b(x.length,1)]).$downcase()],m(q,"[]=",a.to_a(x)),x[b(x.length,1)],x=["textlabel",e(n=q.$delete("caption"))?n:D["$[]"](""+Ca+"-caption")],m(q,"[]=",a.to_a(x)),x[b(x.length,1)],J=p(v,"Block").$new(h,"admonition",f(["content_model","source","attributes"],{content_model:"simple",source:T,attributes:q}));else if(e(e(n=e(H=I)?U["$=="](">"):H)?L["$start_with?"]("> "):
n)){m(T,"map!",[],(F=function(a){null==a&&(a=d);return a["$=="](">")?a.$slice(1,a.$length()):e(a["$start_with?"]("> "))?a.$slice(2,a.$length()):a},F.$$s=this,F.$$arity=1,F));if(e(T["$[]"](-1)["$start_with?"]("-- "))&&(M=(M=T.$pop()).$slice(3,M.$length()),!e(T["$empty?"]())))for(;e(T["$[]"](-1)["$empty?"]());)T.$pop();x=["style","quote"];m(q,"[]=",a.to_a(x));x[b(x.length,1)];J=this.$build_block("quote","compound",!1,h,p(v,"Reader").$new(T),q);e(M)&&(H=J.$apply_subs(M).$split(", ",2),n=a.to_ary(H),
N=null==n[0]?d:n[0],Da=null==n[1]?d:n[1],H,e(N)&&(x=["attribution",N],m(q,"[]=",a.to_a(x)),x[b(x.length,1)]),e(Da)&&(x=["citetitle",Da],m(q,"[]=",a.to_a(x)),x[b(x.length,1)]))}else if(e(e(n=e(H=(y=U["$=="]('"'))?l(T.$size(),1):U["$=="]('"'))?T["$[]"](-1)["$start_with?"]("-- "):H)?T["$[]"](-2)["$end_with?"]('"'):n)){x=[0,L.$slice(1,L.$length())];m(T,"[]=",a.to_a(x));x[b(x.length,1)];for(M=(M=T.$pop()).$slice(3,M.$length());e(T["$[]"](-1)["$empty?"]());)T.$pop();T["$<<"](T.$pop().$chop());x=["style",
"quote"];m(q,"[]=",a.to_a(x));x[b(x.length,1)];J=p(v,"Block").$new(h,"quote",f(["content_model","source","attributes"],{content_model:"simple",source:T,attributes:q}));H=J.$apply_subs(M).$split(", ",2);n=a.to_ary(H);N=null==n[0]?d:n[0];Da=null==n[1]?d:n[1];H;e(N)&&(x=["attribution",N],m(q,"[]=",a.to_a(x)),x[b(x.length,1)]);e(Da)&&(x=["citetitle",Da],m(q,"[]=",a.to_a(x)),x[b(x.length,1)])}else{if(e(e(n=Z)?C["$=="]("normal"):n))this["$adjust_indentation!"](T);J=p(v,"Block").$new(h,"paragraph",f(["content_model",
"source","attributes"],{content_model:"simple",source:T,attributes:q}))}this.$catalog_inline_anchors(T.$join(p(v,"LF")),J,Q,c)}break}if(!e(J))if(X=E,"listing"["$==="](X)||"source"["$==="](X))e(e(t=E["$=="]("source"))?t:e(n=q["$[]"](1)["$!"]())?Ga=e(H=q["$[]"](2))?H:D["$[]"]("source-language"):n)&&(e(Ga)?(x=["style","source"],m(q,"[]=",a.to_a(x)),x[b(x.length,1)],x=["language",Ga],m(q,"[]=",a.to_a(x)),x[b(x.length,1)],p(v,"AttributeList").$rekey(q,[d,d,"linenums"])):(p(v,"AttributeList").$rekey(q,
[d,"language","linenums"]),!e(q["$key?"]("language"))&&e(D["$key?"]("source-language"))&&(x=["language",D["$[]"]("source-language")],m(q,"[]=",a.to_a(x)),x[b(x.length,1)])),!e(q["$key?"]("linenums"))&&e(e(t=q["$[]"]("linenums-option"))?t:D["$[]"]("source-linenums-option"))&&(x=["linenums",""],m(q,"[]=",a.to_a(x)),x[b(x.length,1)]),!e(q["$key?"]("indent"))&&e(D["$key?"]("source-indent"))&&(x=["indent",D["$[]"]("source-indent")],m(q,"[]=",a.to_a(x)),x[b(x.length,1)])),J=this.$build_block("listing",
"verbatim",ba,h,c,q);else if("fenced_code"["$==="](X))x=["style","source"],m(q,"[]=",a.to_a(x)),x[b(x.length,1)],e(l(ja=L.$length(),3))&&(e(Pa=(Ga=L.$slice(3,ja)).$index(","))?e(l(Pa,0))?(Ga=Ga.$slice(0,Pa).$strip(),e(k(Pa,b(ja,4)))&&(x=["linenums",""],m(q,"[]=",a.to_a(x)),x[b(x.length,1)])):e(l(ja,4))&&(x=["linenums",""],m(q,"[]=",a.to_a(x)),x[b(x.length,1)]):Ga=Ga.$lstrip()),e(Ga["$nil_or_empty?"]())?e(D["$key?"]("source-language"))&&(x=["language",D["$[]"]("source-language")],m(q,"[]=",a.to_a(x)),
x[b(x.length,1)]):(x=["language",Ga],m(q,"[]=",a.to_a(x)),x[b(x.length,1)]),!e(q["$key?"]("linenums"))&&e(e(t=q["$[]"]("linenums-option"))?t:D["$[]"]("source-linenums-option"))&&(x=["linenums",""],m(q,"[]=",a.to_a(x)),x[b(x.length,1)]),!e(q["$key?"]("indent"))&&e(D["$key?"]("source-indent"))&&(x=["indent",D["$[]"]("source-indent")],m(q,"[]=",a.to_a(x)),x[b(x.length,1)]),ba=ba.$slice(0,3),J=this.$build_block("listing","verbatim",ba,h,c,q);else if("table"["$==="](X))Va=c.$cursor(),P=p(v,"Reader").$new(c.$read_lines_until(f(["terminator",
"skip_line_comments","context","cursor"],{terminator:ba,skip_line_comments:!0,context:"table",cursor:"at_mark"})),Va),e(ba["$start_with?"]("|","!"))||(e(t=q["$[]"]("format"))?t:(x=["format",e(ba["$start_with?"](","))?"csv":"dsv"],m(q,"[]=",a.to_a(x)),x[b(x.length,1)])),J=this.$parse_table(P,h,q);else if("sidebar"["$==="](X))J=this.$build_block(E,"compound",ba,h,c,q);else if("admonition"["$==="](X))x=["name",Ca=C.$downcase()],m(q,"[]=",a.to_a(x)),x[b(x.length,1)],x=["textlabel",e(t=q.$delete("caption"))?
t:D["$[]"](""+Ca+"-caption")],m(q,"[]=",a.to_a(x)),x[b(x.length,1)],J=this.$build_block(E,"compound",ba,h,c,q);else if("open"["$==="](X)||"abstract"["$==="](X)||"partintro"["$==="](X))J=this.$build_block("open","compound",ba,h,c,q);else if("literal"["$==="](X))J=this.$build_block(E,"verbatim",ba,h,c,q);else if("example"["$==="](X))e(q["$[]"]("collapsible-option"))&&(x=["caption",""],m(q,"[]=",a.to_a(x)),x[b(x.length,1)]),J=this.$build_block(E,"compound",ba,h,c,q);else if("quote"["$==="](X)||"verse"["$==="](X))p(v,
"AttributeList").$rekey(q,[d,"attribution","citetitle"]),J=this.$build_block(E,E["$=="]("verse")?"verbatim":"compound",ba,h,c,q);else if("stem"["$==="](X)||"latexmath"["$==="](X)||"asciimath"["$==="](X))E["$=="]("stem")&&(x=["style",p(v,"STEM_TYPE_ALIASES")["$[]"](e(t=q["$[]"](2))?t:D["$[]"]("stem"))],m(q,"[]=",a.to_a(x)),x[b(x.length,1)]),J=this.$build_block("stem","raw",ba,h,c,q);else if("pass"["$==="](X))J=this.$build_block(E,"raw",ba,h,c,q);else{if("comment"["$==="](X))return this.$build_block(E,
"skip",ba,h,c,q),q.$clear(),d;if(e(e(t=A)?aa=La["$registered_for_block?"](E,W):t)){if((za=(Ma=aa.$config())["$[]"]("content_model"))["$=="]("skip")||(e((Na=e(t=Ma["$[]"]("positional_attrs"))?t:Ma["$[]"]("pos_attrs"))["$nil_or_empty?"]())||p(v,"AttributeList").$rekey(q,g([d],Na)),e(ta=Ma["$[]"]("default_attrs"))&&m(ta,"each",[],(O=function(c,f){var g;null==c&&(c=d);null==f&&(f=d);return e(g=q["$[]"](c))?g:(x=[c,f],m(q,"[]=",a.to_a(x)),x[b(x.length,1)])},O.$$s=this,O.$$arity=2,O)),x=["cloaked-context",
W],m(q,"[]=",a.to_a(x)),x[b(x.length,1)]),!e(J=this.$build_block(E,za,ba,h,c,q,f(["extension"],{extension:aa}))))return q.$clear(),d}else this.$raise("Unsupported block type "+E+" at "+c.$cursor())}e(Q.$sourcemap())&&(x=[c.$cursor_at_mark()],m(J,"source_location=",a.to_a(x)),x[b(x.length,1)]);e(q["$[]"]("title"))&&(x=[pa=q.$delete("title")],m(J,"title=",a.to_a(x)),x[b(x.length,1)],e(p(v,"CAPTION_ATTRIBUTE_NAMES")["$[]"](J.$context()))&&J.$assign_caption(q.$delete("caption")));x=[q["$[]"]("style")];
m(J,"style=",a.to_a(x));x[b(x.length,1)];e(Ka=e(t=J.$id())?t:(x=[q["$[]"]("id")],m(J,"id=",a.to_a(x)),x[b(x.length,1)]))&&(e(e(pa)?pa["$include?"](p(v,"ATTR_REF_HEAD")):J["$title?"]())&&J.$title(),e(Q.$register("refs",[Ka,J]))||this.$logger().$warn(this.$message_with_context("id assigned to block already in use: "+Ka,f(["source_location"],{source_location:c.$cursor_at_mark()}))));e(q["$empty?"]())||J.$update_attributes(q);J.$commit_subs();e(J["$sub?"]("callouts"))&&!e(this.$catalog_callouts(J.$source(),
Q))&&J.$remove_sub("callouts");return J}catch(jb){if(jb===a.returner)return jb.$v;throw jb;}},D.$$arity=-3);a.defs(c,"$read_paragraph_lines",C=function(d,c,g){null==g&&(g=f([],{}));var h=["break_on_blank_lines",!0];m(g,"[]=",a.to_a(h));h[b(h.length,1)];h=["break_on_list_continuation",!0];m(g,"[]=",a.to_a(h));h[b(h.length,1)];h=["preserve_last_line",!0];m(g,"[]=",a.to_a(h));h[b(h.length,1)];c=e(c)?e(p(v,"Compliance").$block_terminates_paragraph())?p(v,"StartOfBlockOrListProc"):p(v,"StartOfListProc"):
e(p(v,"Compliance").$block_terminates_paragraph())?p(v,"StartOfBlockProc"):p(v,"NoOp");return m(d,"read_lines_until",[g],c.$to_proc())},C.$$arity=-3);a.defs(c,"$is_delimited_block?",J=function(c,f){var g,m;null==f&&(f=d);if(!e(e(g=l(m=c.$length(),1))?p(v,"DELIMITED_BLOCK_HEADS")["$[]"](c.$slice(0,2)):g))return d;if(m["$=="](2)){var h=c;var q=2}else if(e(k(m,5))?(h=c,q=m):h=c.$slice(0,q=4),e(e(g=p(v,"Compliance").$markdown_syntax())?h["$start_with?"]("`"):g))if(q["$=="](4))if(!h["$=="]("````")&&(h=
h.$chop())["$=="]("```"))c=h,m=q=3;else return d;else{if(!h["$=="]("```"))return d}else if(q["$=="](3))return d;var n=p(v,"DELIMITED_BLOCKS")["$[]"](h);g=a.to_ary(n);var t=null==g[0]?d:g[0];var r=null==g[1]?d:g[1];n;return e(e(g=t)?e(n=m["$=="](q))?n:this["$uniform?"](c.$slice(1,m),p(v,"DELIMITED_BLOCK_TAILS")["$[]"](h),b(m,1)):g)?e(f)?p(v,"BlockMatchData").$new(t,r,h,c):!0:d},J.$$arity=-2);a.defs(c,"$build_block",E=function(a,b,c,g,m,h,k){var q,n,t;null==k&&(k=f([],{}));b["$=="]("skip")?(q=[!0,"simple"],
n=q[0],t=q[1]):b["$=="]("raw")?(q=[!1,"simple"],n=q[0],t=q[1]):(q=[!1,b],n=q[0],t=q[1]);q;if(e(c["$nil?"]()))t["$=="]("verbatim")?t=m.$read_lines_until(f(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(b["$=="]("compound")&&(b="simple"),t=this.$read_paragraph_lines(m,!1,f(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:n}))),c=d;else if(e(t["$!="]("compound")))t=m.$read_lines_until(f(["terminator","skip_processing",
"context","cursor"],{terminator:c,skip_processing:n,context:a,cursor:"at_mark"})),c=d;else if(c["$=="](!1))t=d,c=m;else{t=d;var r=m.$cursor();c=p(v,"Reader").$new(m.$read_lines_until(f(["terminator","skip_processing","context","cursor"],{terminator:c,skip_processing:n,context:a,cursor:"at_mark"})),r)}if(b["$=="]("verbatim"))if(m=(e(q=h["$[]"]("tabsize"))?q:g.$document().$attributes()["$[]"]("tabsize")).$to_i(),e(n=h["$[]"]("indent")))this["$adjust_indentation!"](t,n.$to_i(),m);else{if(e(l(m,0)))this["$adjust_indentation!"](t,
-1,m)}else if(b["$=="]("skip"))return d;if(e(k=k["$[]"]("extension")))if(h.$delete("style"),e(a=k.$process_method()["$[]"](g,e(q=c)?q:p(v,"Reader").$new(t),h.$merge())))h.$replace(a.$attributes()),e(a.$content_model()["$=="]("compound")?(t=a.$lines())["$empty?"]()["$!"]():a.$content_model()["$=="]("compound"))&&(b="compound",c=p(v,"Reader").$new(t));else return d;else a=p(v,"Block").$new(g,a,f(["content_model","source","attributes"],{content_model:b,source:t,attributes:h}));b["$=="]("compound")&&
this.$parse_blocks(c,a);return a},E.$$arity=-7);a.defs(c,"$parse_blocks",G=function(a,b,c){var f,g,m=d;null==c&&(c=d);if(e(c))for(;e(e(f=e(g=m=this.$next_block(a,b,c.$merge()))?b.$blocks()["$<<"](m):g)?f:a["$has_more_lines?"]()););else for(;e(e(f=e(g=m=this.$next_block(a,b))?b.$blocks()["$<<"](m):g)?f:a["$has_more_lines?"]()););return d},G.$$arity=-3);a.defs(c,"$parse_list",x=function(a,b,c,f){var g,m;null==u["~"]&&(u["~"]=d);c=p(v,"List").$new(c,b);for(b=p(v,"ListRxMap")["$[]"](b);e(e(g=a["$has_more_lines?"]())?
b["$=~"](a.$peek_line()):g);){if(e(m=this.$parse_list_item(a,c,u["~"],(g=u["~"])===d?d:g["$[]"](1),f)))c.$items()["$<<"](m);if(e(g=a.$skip_blank_lines()))g;else break}return c},x.$$arity=4);a.defs(c,"$catalog_callouts",I=function(a,b){var c,f=d,h=d;f=!1;h=0;e(a["$include?"]("<"))&&m(a,"scan",[p(v,"CalloutScanRx")],(c=function(){var a;e(((a=u["~"])===d?d:a["$[]"](0))["$start_with?"]("\\"))||b.$callouts().$register(((a=u["~"])===d?d:a["$[]"](2))["$=="](".")?(h=g(h,1)).$to_s():(a=u["~"])===d?d:a["$[]"](2));
return f=!0},c.$$s=this,c.$$arity=0,c));return f},I.$$arity=2);a.defs(c,"$catalog_inline_anchor",W=function(a,b,c,g,m){var h;null==m&&(m=c.$document());e(e(h=b)?b["$include?"](p(v,"ATTR_REF_HEAD")):h)&&(b=m.$sub_attributes(b));e(m.$register("refs",[a,p(v,"Inline").$new(c,"anchor",b,f(["type","id"],{type:"ref",id:a}))]))||(e(p(v,"Reader")["$==="](g))&&(g=g.$cursor()),this.$logger().$warn(this.$message_with_context("id assigned to anchor already in use: "+a,f(["source_location"],{source_location:g}))));
return d},W.$$arity=-5);a.defs(c,"$catalog_inline_anchors",U=function(a,b,c,h){var k,q;e(e(k=a["$include?"]("[["))?k:a["$include?"]("or:"))&&m(a,"scan",[p(v,"InlineAnchorScanRx")],(q=function(){var a=q.$$s||this,m,k,n,t,r=d,H=d;if(e(t=(m=u["~"])===d?d:m["$[]"](1))){if(e(e(m=e(k=r=(n=u["~"])===d?d:n["$[]"](2))?r["$include?"](p(v,"ATTR_REF_HEAD")):k)?(r=c.$sub_attributes(r))["$empty?"]():m))return d}else if(t=(m=u["~"])===d?d:m["$[]"](3),e(r=(m=u["~"])===d?d:m["$[]"](4)))if(e(r["$include?"]("]")))r=
r.$gsub("\\]","]"),e(r["$include?"](p(v,"ATTR_REF_HEAD")))&&(r=c.$sub_attributes(r));else if(e(e(m=r["$include?"](p(v,"ATTR_REF_HEAD")))?(r=c.$sub_attributes(r))["$empty?"]():m))return d;if(e(c.$register("refs",[t,p(v,"Inline").$new(b,"anchor",r,f(["type","id"],{type:"ref",id:t}))])))return d;k=h.$cursor_at_mark();e(l(H=g(((m=u["~"])===d?d:m.$pre_match()).$count(p(v,"LF")),e(((m=u["~"])===d?d:m["$[]"](0))["$start_with?"](p(v,"LF")))?1:0),0))&&(k=k.$dup()).$advance(H);return a.$logger().$warn(a.$message_with_context("id assigned to anchor already in use: "+
t,f(["source_location"],{source_location:k})))},q.$$s=this,q.$$arity=0,q));return d},U.$$arity=4);a.defs(c,"$catalog_inline_biblio_anchor",S=function(a,b,c,g){e(c.$document().$register("refs",[a,p(v,"Inline").$new(c,"anchor",e(b)?"["+b+"]":b,f(["type","id"],{type:"bibref",id:a}))]))||this.$logger().$warn(this.$message_with_context("id assigned to bibliography anchor already in use: "+a,f(["source_location"],{source_location:g.$cursor()})));return d},S.$$arity=4);a.defs(c,"$parse_description_list",
ia=function(c,f,g){var h;null==u["~"]&&(u["~"]=d);g=p(v,"List").$new(g,"dlist");var k=p(v,"DescriptionListSiblingRx")["$[]"](f["$[]"](2));for(g.$items()["$<<"](f=this.$parse_list_item(c,g,f,k));e(e(h=c["$has_more_lines?"]())?k["$=~"](c.$peek_line()):h);){var l=this.$parse_list_item(c,g,u["~"],k);if(e(f["$[]"](1)))g.$items()["$<<"](f=l);else f["$[]"](0)["$<<"](l["$[]"](0)["$[]"](0)),l=[1,l["$[]"](1)],m(f,"[]=",a.to_a(l)),l[b(l.length,1)]}return g},ia.$$arity=3);a.defs(c,"$parse_callout_list",ta=function(c,
h,k,l){var q,n,t,r;k=p(v,"List").$new(k,"colist");var H=1;for(t=0;e(e(q=h)?q:e(n=h=p(v,"CalloutListRx").$match(c.$peek_line()))?c.$mark():n);)(r=h["$[]"](1))["$=="](".")&&(r=(t=g(t,1)).$to_s()),r["$=="](H.$to_s())||this.$logger().$warn(this.$message_with_context("callout list item index: expected "+H+", got "+r,f(["source_location"],{source_location:c.$cursor_at_mark()}))),e(h=this.$parse_list_item(c,k,h,"<1>"))&&(k.$items()["$<<"](h),e((r=l.$callout_ids(k.$items().$size()))["$empty?"]())?this.$logger().$warn(this.$message_with_context("no callout found for <"+
k.$items().$size()+">",f(["source_location"],{source_location:c.$cursor_at_mark()}))):(r=["coids",r],m(h.$attributes(),"[]=",a.to_a(r)),r[b(r.length,1)])),H=g(H,1),h=d;l.$next_list();return k},ta.$$arity=4);a.defs(c,"$parse_list_item",ca=function(c,g,h,k,l){var q,n,t,r=d,H=d,y,z=d,F=d,w,O=d,B=d;null==l&&(l=d);if((t=g.$context())["$=="]("dlist")){if(r=!0,H=p(v,"ListItem").$new(g,l=h["$[]"](1)),e(e(q=l["$start_with?"]("[["))?p(v,"LeadingInlineAnchorRx")["$=~"](l):q)&&this.$catalog_inline_anchor((q=
u["~"])===d?d:q["$[]"](1),e(q=(n=u["~"])===d?d:n["$[]"](2))?q:((n=u["~"])===d?d:n.$post_match()).$lstrip(),H,c),e(y=h["$[]"](3))&&(z=!0),h=p(v,"ListItem").$new(g,y),e(g.$document().$sourcemap())){var x=[c.$cursor()];m(H,"source_location=",a.to_a(x));x[b(x.length,1)];e(z)?(x=[H.$source_location()],m(h,"source_location=",a.to_a(x)),x[b(x.length,1)]):F=!0}}else if(z=!0,h=p(v,"ListItem").$new(g,y=h["$[]"](2)),e(g.$document().$sourcemap())&&(x=[c.$cursor()],m(h,"source_location=",a.to_a(x)),x[b(x.length,
1)]),t["$=="]("ulist"))x=[k],m(h,"marker=",a.to_a(x)),x[b(x.length,1)],e(y["$start_with?"]("["))&&(e(e(q=l)?l["$=="]("bibliography"):q)?e(p(v,"InlineBiblioAnchorRx")["$=~"](y))&&this.$catalog_inline_biblio_anchor((q=u["~"])===d?d:q["$[]"](1),(q=u["~"])===d?d:q["$[]"](2),h,c):e(y["$start_with?"]("[["))?e(p(v,"LeadingInlineAnchorRx")["$=~"](y))&&this.$catalog_inline_anchor((q=u["~"])===d?d:q["$[]"](1),(q=u["~"])===d?d:q["$[]"](2),h,c):e(y["$start_with?"]("[ ] ","[x] ","[*] "))&&(g.$set_option("checklist"),
x=["checkbox",""],m(h.$attributes(),"[]=",a.to_a(x)),x[b(x.length,1)],e(y["$start_with?"]("[ "))||(x=["checked",""],m(h.$attributes(),"[]=",a.to_a(x)),x[b(x.length,1)]),x=[y.$slice(4,y.$length())],m(h,"text=",a.to_a(x)),x[b(x.length,1)]));else{if(t["$=="]("olist")){n=this.$resolve_ordered_list_marker(k,w=g.$items().$size(),!0,c);q=a.to_ary(n);k=null==q[0]?d:q[0];var Q=null==q[1]?d:q[1];n;x=[k];m(h,"marker=",a.to_a(x));x[b(x.length,1)];e((q=w["$=="](0))?l["$!"]():w["$=="](0))&&(x=[e(q=Q)?q:(e(n=p(v,
"ORDERED_LIST_STYLES")["$[]"](b(k.$length(),1)))?n:"arabic").$to_s()],m(g,"style=",a.to_a(x)),x[b(x.length,1)])}else x=[k],m(h,"marker=",a.to_a(x)),x[b(x.length,1)];e(e(q=y["$start_with?"]("[["))?p(v,"LeadingInlineAnchorRx")["$=~"](y):q)&&this.$catalog_inline_anchor((q=u["~"])===d?d:q["$[]"](1),(q=u["~"])===d?d:q["$[]"](2),h,c)}c.$shift();g=c.$cursor();c=p(v,"Reader").$new(this.$read_lines_for_list_item(c,t,k,z),g);if(e(c["$has_more_lines?"]())){e(F)&&(x=[g],m(h,"source_location=",a.to_a(x)),x[b(x.length,
1)]);F=c.$skip_line_comments();e(k=c.$peek_line())&&(e(F["$empty?"]())||c.$unshift_lines(F),e(k["$empty?"]())||(O=!0,e(r)||(z=d)));if(e(z=this.$next_block(c,h,f([],{}),f(["text_only","list_type"],{text_only:e(z)?d:!0,list_type:t}))))h.$blocks()["$<<"](z);for(;e(c["$has_more_lines?"]());)if(e(z=this.$next_block(c,h,f([],{}),f(["list_type"],{list_type:t}))))h.$blocks()["$<<"](z);e(e(q=e(n=O)?B=h.$blocks()["$[]"](0):n)?B.$context()["$=="]("paragraph"):q)&&h.$fold_first()}return e(r)?[[H],e(e(q=h["$text?"]())?
q:h["$blocks?"]())?h:d]:h},ca.$$arity=-5);a.defs(c,"$read_lines_for_list_item",na=function(c,g,h,k){var l,q,n,t,r,H,y,z=d,F=d,w=d,O=d,B=d,x=d,Q=d,L=d;F=Q=L=d;null==h&&(h=d);null==k&&(k=!0);z=[];F="inactive";w=!1;O=d;for(B=g["$=="]("dlist");e(c["$has_more_lines?"]());){x=c.$read_line();if(e(this["$is_sibling_list_item?"](x,g,h)))break;Q=e(z["$empty?"]())?d:z["$[]"](-1);if(Q["$=="](p(v,"LIST_CONTINUATION"))&&(F["$=="]("inactive")&&(F="active",k=!0,e(w)||(L=[-1,""],m(z,"[]=",a.to_a(L)),L[b(L.length,
1)])),x["$=="](p(v,"LIST_CONTINUATION")))){e(F["$!="]("frozen"))&&(F="frozen",z["$<<"](x));x=d;continue}if(e(L=this["$is_delimited_block?"](x,!0)))if(F["$=="]("active"))z["$<<"](x),z.$concat(c.$read_lines_until(f(["terminator","read_last_line","context"],{terminator:L.$terminator(),read_last_line:!0,context:d}))),F="inactive";else break;else if(e(e(l=e(q=B)?F["$!="]("active"):q)?p(v,"BlockAttributeLineRx")["$match?"](x):l))break;else if(e((l=F["$=="]("active"))?x["$empty?"]()["$!"]():F["$=="]("active")))if(e(p(v,
"LiteralParagraphRx")["$match?"](x)))c.$unshift_line(x),e(B)?z.$concat(m(c,"read_lines_until",[f(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(n=function(a){var b=n.$$s||this;null==a&&(a=d);return b["$is_sibling_list_item?"](a,g,h)},n.$$s=this,n.$$arity=1,n))):z.$concat(c.$read_lines_until(f(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,
break_on_blank_lines:!0,break_on_list_continuation:!0}))),F="inactive";else if(e(e(l=e(q=p(v,"BlockTitleRx")["$match?"](x))?q:p(v,"BlockAttributeLineRx")["$match?"](x))?l:p(v,"AttributeEntryRx")["$match?"](x)))z["$<<"](x);else e(Q=m(e(w)?["dlist"]:p(v,"NESTABLE_LIST_CONTEXTS"),"find",[],(t=function(a){null==a&&(a=d);return p(v,"ListRxMap")["$[]"](a)["$match?"](x)},t.$$s=this,t.$$arity=1,t)))&&(w=!0,e((l=Q["$=="]("dlist"))?((q=u["~"])===d?d:q["$[]"](3))["$nil_or_empty?"]():Q["$=="]("dlist"))&&(k=!1)),
z["$<<"](x),F="inactive";else if(e(e(l=Q)?Q["$empty?"]():l)){if(e(x["$empty?"]())){if(!e(x=e(l=c.$skip_blank_lines())?c.$read_line():l))break;if(e(this["$is_sibling_list_item?"](x,g,h)))break}if(x["$=="](p(v,"LIST_CONTINUATION")))O=z.$size(),z["$<<"](x);else if(e(k))if(e(this["$is_sibling_list_item?"](x,g,h)))break;else if(e(Q=m(p(v,"NESTABLE_LIST_CONTEXTS"),"find",[],(r=function(a){null==a&&(a=d);return p(v,"ListRxMap")["$[]"](a)["$=~"](x)},r.$$s=this,r.$$arity=1,r))))z["$<<"](x),w=!0,e((l=Q["$=="]("dlist"))?
((q=u["~"])===d?d:q["$[]"](3))["$nil_or_empty?"]():Q["$=="]("dlist"))&&(k=!1);else if(e(p(v,"LiteralParagraphRx")["$match?"](x)))c.$unshift_line(x),e(B)?z.$concat(m(c,"read_lines_until",[f(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(H=function(a){var b=H.$$s||this;null==a&&(a=d);return b["$is_sibling_list_item?"](a,g,h)},H.$$s=this,H.$$arity=1,H))):z.$concat(c.$read_lines_until(f(["preserve_last_line",
"break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})));else break;else e(w)||z.$pop(),z["$<<"](x),k=!0}else e(x["$empty?"]())||(k=!0),e(Q=m(e(w)?["dlist"]:p(v,"NESTABLE_LIST_CONTEXTS"),"find",[],(y=function(a){null==a&&(a=d);return p(v,"ListRxMap")["$[]"](a)["$=~"](x)},y.$$s=this,y.$$arity=1,y)))&&(w=!0,e((l=Q["$=="]("dlist"))?((q=u["~"])===d?d:q["$[]"](3))["$nil_or_empty?"]():Q["$=="]("dlist"))&&(k=!1)),z["$<<"](x);x=
d}e(x)&&c.$unshift_line(x);e(O)&&(L=[O,""],m(z,"[]=",a.to_a(L)),L[b(L.length,1)]);for(;!e(z["$empty?"]());)if(e((F=z["$[]"](-1))["$empty?"]()))z.$pop();else{F["$=="](p(v,"LIST_CONTINUATION"))&&z.$pop();break}return z},na.$$arity=-3);a.defs(c,"$initialize_section",ja=function(c,g,h){var k,q=d,n=d,t=d,r=d,H=d;null==h&&(h=f([],{}));var z=g.$document();var y=(k=z.$doctype())["$=="]("book");e(z.$sourcemap())&&(q=c.$cursor());var u=h["$[]"](1);var F=this.$parse_section_title(c,z,h["$[]"]("id"));var w=a.to_ary(F);
var O=null==w[0]?d:w[0];var B=null==w[1]?d:w[1];var x=null==w[2]?d:w[2];var Q=null==w[3]?d:w[3];var L=null==w[4]?d:w[4];F;if(e(B))n=["reftext",B],m(h,"[]=",a.to_a(n)),n[b(n.length,1)];else h["$[]"]("reftext");e(u)?e(e(w=y)?u["$=="]("abstract"):w)?(w=["chapter",1],u=w[0],Q=w[1],w):e(e(w=u["$start_with?"]("sect"))?p(v,"SectionLevelStyleRx")["$match?"](u):w)?u="section":(w=[u,!0],u=w[0],t=w[1],w,Q["$=="](0)&&(Q=1),r=u["$=="]("appendix")):e(y)?u=Q["$=="](0)?"part":e(l(Q,1))?"section":"chapter":e(k["$=="]("manpage")?
x.$casecmp("synopsis")["$=="](0):k["$=="]("manpage"))?(w=["synopsis",!0],u=w[0],t=w[1],w):u="section";k=p(v,"Section").$new(g,Q);w=[O,x,u,q];k["$id="](w[0]);k["$title="](w[1]);k["$sectname="](w[2]);k["$source_location="](w[3]);w;e(t)?(n=[!0],m(k,"special=",a.to_a(n)),n[b(n.length,1)],e(r)?(n=[!0],m(k,"numbered=",a.to_a(n)),n[b(n.length,1)]):z.$attributes()["$[]"]("sectnums")["$=="]("all")&&(n=[e(e(w=y)?Q["$=="](1):w)?"chapter":!0],m(k,"numbered=",a.to_a(n)),n[b(n.length,1)])):e(e(w=z.$attributes()["$[]"]("sectnums"))?
l(Q,0):w)?(n=[e(k.$special())?e(w=g.$numbered())?!0:w:!0],m(k,"numbered=",a.to_a(n)),n[b(n.length,1)]):e(e(w=e(F=y)?Q["$=="](0):F)?z.$attributes()["$[]"]("partnums"):w)&&(n=[!0],m(k,"numbered=",a.to_a(n)),n[b(n.length,1)]);e(g=e(w=k.$id())?w:(n=[e(z.$attributes()["$key?"]("sectids"))?H=p(v,"Section").$generate_id(k.$title(),z):d],m(k,"id=",a.to_a(n)),n[b(n.length,1)]))&&(e(H)||e(x["$include?"](p(v,"ATTR_REF_HEAD")))&&k.$title(),e(z.$register("refs",[g,k]))||this.$logger().$warn(this.$message_with_context("id assigned to section already in use: "+
g,f(["source_location"],{source_location:c.$cursor_at_line(b(c.$lineno(),e(L)?1:2))}))));k.$update_attributes(h);c.$skip_blank_lines();return k},ja.$$arity=-3);a.defs(c,"$is_next_line_section?",T=function(a,b){var c,f,g=d;return e(e(c=g=b["$[]"](1))?e(f=g["$=="]("discrete"))?f:g["$=="]("float"):c)?d:e(p(v,"Compliance").$underline_style_section_titles())?(a=a.$peek_lines(2,e(c=g)?g["$=="]("comment"):c),this["$is_section_title?"](e(c=a["$[]"](0))?c:"",a["$[]"](1))):this["$atx_section_title?"](e(c=a.$peek_line())?
c:"")},T.$$arity=2);a.defs(c,"$is_next_line_doctitle?",K=function(a,b,c){var f,h=d;return e(c)?e(f=h=this["$is_next_line_section?"](a,b))?g(h,c.$to_i())["$=="](0):f:this["$is_next_line_section?"](a,b)["$=="](0)},K.$$arity=3);a.defs(c,"$is_section_title?",M=function(a,b){var c;null==b&&(b=d);return e(c=this["$atx_section_title?"](a))?c:e(b["$nil_or_empty?"]())?d:this["$setext_section_title?"](a,b)},M.$$arity=-2);a.defs(c,"$atx_section_title?",N=function(a){var c;return e(e(p(v,"Compliance").$markdown_syntax())?
e(c=a["$start_with?"]("=","#"))?p(v,"ExtAtxSectionTitleRx")["$=~"](a):c:e(c=a["$start_with?"]("="))?p(v,"AtxSectionTitleRx")["$=~"](a):c)?b(((c=u["~"])===d?d:c["$[]"](1)).$length(),1):d},N.$$arity=1);a.defs(c,"$setext_section_title?",P=function(a,c){var f,g,h,m,l=d,q=d;return e(e(f=e(g=e(h=m=p(v,"SETEXT_SECTION_LEVELS")["$[]"](l=c.$chr()))?this["$uniform?"](c,l,q=c.$length()):h)?p(v,"SetextSectionTitleRx")["$match?"](a):g)?k(b(a.$length(),q).$abs(),2):f)?m:d},P.$$arity=2);a.defs(c,"$parse_section_title",
ua=function(a,c,f){var h,m,l,q,n,t=d,r=d,H=d,z=d,y=d,w=d;null==f&&(f=d);var F=d;var B=a.$read_line();e(e(p(v,"Compliance").$markdown_syntax())?e(h=B["$start_with?"]("=","#"))?p(v,"ExtAtxSectionTitleRx")["$=~"](B):h:e(h=B["$start_with?"]("="))?p(v,"AtxSectionTitleRx")["$=~"](B):h)?(h=[b(((m=u["~"])===d?d:m["$[]"](1)).$length(),1),(m=u["~"])===d?d:m["$[]"](2),!0],t=h[0],r=h[1],H=h[2],h,!e(f)&&e(e(h=e(m=r["$end_with?"]("]]"))?p(v,"InlineSectionAnchorRx")["$=~"](r):m)?((m=u["~"])===d?d:m["$[]"](1))["$!"]():
h)&&(h=[r.$slice(0,b(r.$length(),((m=u["~"])===d?d:m["$[]"](0)).$length())),(m=u["~"])===d?d:m["$[]"](2),(m=u["~"])===d?d:m["$[]"](3)],r=h[0],f=h[1],F=h[2],h)):e(e(h=e(m=e(l=e(q=e(n=p(v,"Compliance").$underline_style_section_titles())?z=a.$peek_line(!0):n)?t=p(v,"SETEXT_SECTION_LEVELS")["$[]"](y=z.$chr()):q)?this["$uniform?"](z,y,w=z.$length()):l)?r=e(l=p(v,"SetextSectionTitleRx")["$=~"](B))?(q=u["~"])===d?d:q["$[]"](1):l:m)?k(b(B.$length(),w).$abs(),2):h)?(H=!1,!e(f)&&e(e(h=e(m=r["$end_with?"]("]]"))?
p(v,"InlineSectionAnchorRx")["$=~"](r):m)?((m=u["~"])===d?d:m["$[]"](1))["$!"]():h)&&(h=[r.$slice(0,b(r.$length(),((m=u["~"])===d?d:m["$[]"](0)).$length())),(m=u["~"])===d?d:m["$[]"](2),(m=u["~"])===d?d:m["$[]"](3)],r=h[0],f=h[1],F=h[2],h),a.$shift()):this.$raise("Unrecognized section at "+a.$cursor_at_prev_line());e(c["$attr?"]("leveloffset"))&&(t=g(t,c.$attr("leveloffset").$to_i()),e(k(t,0))&&(t=0));return[f,F,r,t,H]},ua.$$arity=-3);a.defs(c,"$parse_header_metadata",da=function(c,h){var k,l,q,n,
r=d,H=d,z=d,y=d,u=d,w=d,F=d,B=d,x=d,O=d,L=B=d,A=d;x=F=u=y=H=d;null==h&&(h=d);r=e(k=h)?h.$attributes():k;this.$process_attribute_entries(c,h);k=[H=f([],{}),d,d];z=k[0];y=k[1];u=k[2];k;e(e(k=c["$has_more_lines?"]())?c["$next_line_empty?"]()["$!"]():k)?(e((w=this.$process_authors(c.$read_line()))["$empty?"]())||(e(h)&&(m(w,"each",[],(l=function(c,f){null==c&&(c=d);null==f&&(f=d);if(e(r["$key?"](c)))return d;c=[c,e(t("::","String")["$==="](f))?h.$apply_header_subs(f):f];m(r,"[]=",a.to_a(c));return c[b(c.length,
1)]},l.$$s=this,l.$$arity=2,l)),y=r["$[]"]("author"),u=r["$[]"]("authorinitials"),H=r["$[]"]("authors")),z=w),this.$process_attribute_entries(c,h),F=f([],{}),e(e(k=c["$has_more_lines?"]())?c["$next_line_empty?"]()["$!"]():k)&&(B=c.$read_line(),e(x=p(v,"RevisionInfoLineRx").$match(B))?(e(x["$[]"](1))&&(O=["revnumber",x["$[]"](1).$rstrip()],m(F,"[]=",a.to_a(O)),O[b(O.length,1)]),e((B=x["$[]"](2).$strip())["$empty?"]())||(O=e(e(k=x["$[]"](1)["$!"]())?B["$start_with?"]("v"):k)?["revnumber",B.$slice(1,
B.$length())]:["revdate",B],m(F,"[]=",a.to_a(O)),O[b(O.length,1)]),e(x["$[]"](3))&&(O=["revremark",x["$[]"](3).$rstrip()],m(F,"[]=",a.to_a(O)),O[b(O.length,1)])):c.$unshift_line(B)),e(F["$empty?"]())||(e(h)&&m(F,"each",[],(q=function(c,f){null==c&&(c=d);null==f&&(f=d);if(e(r["$key?"](c)))return d;O=[c,h.$apply_header_subs(f)];m(r,"[]=",a.to_a(O));return O[b(O.length,1)]},q.$$s=this,q.$$arity=2,q)),z.$update(F)),this.$process_attribute_entries(c,h),c.$skip_blank_lines()):w=f([],{});if(e(h)){if(e(e(k=
r["$key?"]("author"))?(L=r["$[]"]("author"))["$!="](y):k))w=this.$process_authors(L,!0,!1),e(r["$[]"]("authorinitials")["$!="](u))&&w.$delete("authorinitials");else if(e(e(k=r["$key?"]("authors"))?(L=r["$[]"]("authors"))["$!="](H):k))w=this.$process_authors(L,!0);else{k=[[],1,"author_1",!1,!1];A=k[0];H=k[1];y=k[2];u=k[3];F=k[4];for(k;e(r["$key?"](y));)(x=r["$[]"](y))["$=="](w["$[]"](y))?(A["$<<"](d),F=!0):(A["$<<"](x),u=!0),y="author_"+(H=g(H,1));e(u)?(e(F)&&m(A,"each_with_index",[],(n=function(c,
f){var h=n.$$s||this,k,p=d;null==c&&(c=d);null==f&&(f=d);if(e(c))return d;O=[f,m([w["$[]"]("firstname_"+(p=g(f,1))),w["$[]"]("middlename_"+p),w["$[]"]("lastname_"+p)].$compact(),"map",[],(k=function(a){null==a&&(a=d);return a.$tr(" ","_")},k.$$s=h,k.$$arity=1,k)).$join(" ")];m(A,"[]=",a.to_a(O));return O[b(O.length,1)]},n.$$s=this,n.$$arity=2,n)),w=this.$process_authors(A,!0,!1)):w=f([],{})}e(w["$empty?"]())?e(k=z["$[]"]("authorcount"))?k:(O=["authorcount",(O=["authorcount",0],m(r,"[]=",a.to_a(O)),
O[b(O.length,1)])],m(z,"[]=",a.to_a(O)),O[b(O.length,1)]):(r.$update(w),e(e(k=r["$key?"]("email")["$!"]())?r["$key?"]("email_1"):k)&&(O=["email",r["$[]"]("email_1")],m(r,"[]=",a.to_a(O)),O[b(O.length,1)]))}return z},da.$$arity=-2);a.defs(c,"$process_authors",va=function(c,h,k){var l,q,n=d,r=d,t=d;null==h&&(h=!1);null==k&&(k=!0);n=f([],{});r=0;m(e(e(l=k)?c["$include?"](";"):l)?c.$split(p(v,"AuthorDelimiterRx")):[].concat(a.to_a(c)),"each",[],(q=function(c){var k=q.$$s||this,l,t,H,z,y=d,u=d,w=d,F=d,
B=d,O=d,x=d,L=d;null==c&&(c=d);if(e(c["$empty?"]()))return d;y=f([],{});(r=g(r,1))["$=="](1)?m(p(v,"AuthorKeys"),"each",[],(l=function(e){null==e&&(e=d);e=[e.$to_sym(),e];m(y,"[]=",a.to_a(e));return e[b(e.length,1)]},l.$$s=k,l.$$arity=1,l)):m(p(v,"AuthorKeys"),"each",[],(t=function(e){null==e&&(e=d);e=[e.$to_sym(),""+e+"_"+r];m(y,"[]=",a.to_a(e));return e[b(e.length,1)]},t.$$s=k,t.$$arity=1,t));if(e(h)){if(e(c["$include?"]("<"))&&(u=[y["$[]"]("author"),c.$tr("_"," ")],m(n,"[]=",a.to_a(u)),u[b(u.length,
1)],c=c.$gsub(p(v,"XmlSanitizeRx"),"")),(w=c.$split(d,3)).$size()["$=="](3))w["$<<"](w.$pop().$squeeze(" "))}else e(F=p(v,"AuthorInfoLineRx").$match(c))&&(w=F.$to_a()).$shift();e(w)?(B=(u=[y["$[]"]("firstname"),O=w["$[]"](0).$tr("_"," ")],m(n,"[]=",a.to_a(u)),u[b(u.length,1)]),u=[y["$[]"]("authorinitials"),O.$chr()],m(n,"[]=",a.to_a(u)),u[b(u.length,1)],e(w["$[]"](1))&&(e(w["$[]"](2))?(u=[y["$[]"]("middlename"),x=w["$[]"](1).$tr("_"," ")],m(n,"[]=",a.to_a(u)),u[b(u.length,1)],u=[y["$[]"]("lastname"),
L=w["$[]"](2).$tr("_"," ")],m(n,"[]=",a.to_a(u)),u[b(u.length,1)],B=g(g(g(g(O," "),x)," "),L),u=[y["$[]"]("authorinitials"),""+O.$chr()+x.$chr()+L.$chr()]):(u=[y["$[]"]("lastname"),L=w["$[]"](1).$tr("_"," ")],m(n,"[]=",a.to_a(u)),u[b(u.length,1)],B=g(g(O," "),L),u=[y["$[]"]("authorinitials"),""+O.$chr()+L.$chr()]),m(n,"[]=",a.to_a(u)),u[b(u.length,1)]),e(H=n["$[]"](y["$[]"]("author")))?H:(u=[y["$[]"]("author"),B],m(n,"[]=",a.to_a(u)),u[b(u.length,1)]),e(e(H=h)?H:w["$[]"](3)["$!"]())||(u=[y["$[]"]("email"),
w["$[]"](3)],m(n,"[]=",a.to_a(u)),u[b(u.length,1)])):(u=[y["$[]"]("author"),(u=[y["$[]"]("firstname"),O=c.$squeeze(" ").$strip()],m(n,"[]=",a.to_a(u)),u[b(u.length,1)])],m(n,"[]=",a.to_a(u)),u[b(u.length,1)],u=[y["$[]"]("authorinitials"),O.$chr()],m(n,"[]=",a.to_a(u)),u[b(u.length,1)]);r["$=="](1)?u=["authors",n["$[]"](y["$[]"]("author"))]:(r["$=="](2)&&m(p(v,"AuthorKeys"),"each",[],(z=function(c){null==c&&(c=d);return e(n["$key?"](c))?(u=[""+c+"_1",n["$[]"](c)],m(n,"[]=",a.to_a(u)),u[b(u.length,
1)]):d},z.$$s=k,z.$$arity=1,z)),u=["authors",""+n["$[]"]("authors")+", "+n["$[]"](y["$[]"]("author"))]);m(n,"[]=",a.to_a(u));return u[b(u.length,1)]},q.$$s=this,q.$$arity=1,q));t=["authorcount",r];m(n,"[]=",a.to_a(t));t[b(t.length,1)];return n},va.$$arity=-2);a.defs(c,"$parse_block_metadata_lines",Y=function(a,b,d,c){var g;null==d&&(d=f([],{}));for(null==c&&(c=f([],{}));e(this.$parse_block_metadata_line(a,b,d,c));)if(a.$shift(),e(g=a.$skip_blank_lines()))g;else break;return d},Y.$$arity=-3);a.defs(c,
"$parse_block_metadata_line",qa=function(c,g,h,k){var l,q,n=d,r=d,t=d;null==u["~"]&&(u["~"]=d);null==k&&(k=f([],{}));if(e(e(l=n=c.$peek_line())?e(k["$[]"]("text_only"))?n["$start_with?"]("[","/"):r=n["$start_with?"]("[",".","/",":"):l))if(e(n["$start_with?"]("[")))if(e(n["$start_with?"]("[["))){if(e(e(l=n["$end_with?"]("]]"))?p(v,"BlockAnchorRx")["$=~"](n):l))return c=["id",(l=u["~"])===d?d:l["$[]"](1)],m(h,"[]=",a.to_a(c)),c[b(c.length,1)],e(c=(l=u["~"])===d?d:l["$[]"](2))&&(c=["reftext",e(c["$include?"](p(v,
"ATTR_REF_HEAD")))?g.$sub_attributes(c):c],m(h,"[]=",a.to_a(c)),c[b(c.length,1)]),!0}else{if(e(e(l=n["$end_with?"]("]"))?p(v,"BlockAttributeListRx")["$=~"](n):l))return k=h["$[]"](1),e(g.$parse_attributes((l=u["~"])===d?d:l["$[]"](1),[],f(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!0,into:h}))["$[]"](1))&&(c=[1,e(l=this.$parse_style_attribute(h,c))?l:k],m(h,"[]=",a.to_a(c)),c[b(c.length,1)]),!0}else if(e(e(l=r)?n["$start_with?"]("."):l)){if(e(p(v,"BlockTitleRx")["$=~"](n)))return c=
["title",(l=u["~"])===d?d:l["$[]"](1)],m(h,"[]=",a.to_a(c)),c[b(c.length,1)],!0}else if(e(e(l=r["$!"]())?l:n["$start_with?"]("/"))){if(e(n["$start_with?"]("//"))){if(n["$=="]("//"))return!0;if(e(e(l=r)?this["$uniform?"](n,"/",t=n.$length()):l)){if(t["$=="](3))return d;c.$read_lines_until(f(["terminator","skip_first_line","preserve_last_line","skip_processing","context"],{terminator:n,skip_first_line:!0,preserve_last_line:!0,skip_processing:!0,context:"comment"}));return!0}return e(n["$start_with?"]("///"))?
d:!0}}else if(e(e(l=e(q=r)?n["$start_with?"](":"):q)?p(v,"AttributeEntryRx")["$=~"](n):l))return this.$process_attribute_entry(c,g,h,u["~"]),!0;return d},qa.$$arity=-4);a.defs(c,"$process_attribute_entries",Ia=function(a,b,c){null==c&&(c=d);for(a.$skip_comment_lines();e(this.$process_attribute_entry(a,b,c));)a.$shift(),a.$skip_comment_lines()},Ia.$$arity=-3);a.defs(c,"$process_attribute_entry",Ha=function(a,c,f,g){var h,m,k,l,q=d;null==f&&(f=d);null==g&&(g=d);if(e(e(h=g)?h:g=e(a["$has_more_lines?"]())?
p(v,"AttributeEntryRx").$match(a.$peek_line()):d)){if(e((l=g["$[]"](2))["$nil_or_empty?"]()))l="";else if(e(l["$end_with?"](p(v,"LINE_CONTINUATION"),p(v,"LINE_CONTINUATION_LEGACY")))){h=[l.$slice(b(l.$length(),2),2),l.$slice(0,b(l.$length(),2)).$rstrip()];var n=h[0];l=h[1];for(h;e(e(m=a.$advance())?(q=e(k=a.$peek_line())?k:"")["$empty?"]()["$!"]():m)&&(q=q.$lstrip(),e(h=q["$end_with?"](n))&&(q=q.$slice(0,b(q.$length(),2)).$rstrip()),l=""+l+(e(l["$end_with?"](p(v,"HARD_LINE_BREAK")))?p(v,"LF"):" ")+
q,e(h)););}this.$store_attribute(g["$[]"](1),l,c,f);return!0}return d},Ha.$$arity=-3);a.defs(c,"$store_attribute",Ja=function(a,c,f,h){var m;null==f&&(f=d);null==h&&(h=d);e(a["$end_with?"]("!"))?(a=a.$chop(),c=d):e(a["$start_with?"]("!"))&&(a=a.$slice(1,a.$length()),c=d);(a=this.$sanitize_attribute_name(a))["$=="]("numbered")?a="sectnums":a["$=="]("hardbreaks")?a="hardbreaks-option":a["$=="]("showtitle")&&this.$store_attribute("notitle",e(c)?d:"",f,h);e(f)?e(c)?(a["$=="]("leveloffset")&&(e(c["$start_with?"]("+"))?
c=g(f.$attr("leveloffset",0).$to_i(),c.$slice(1,c.$length()).$to_i()).$to_s():e(c["$start_with?"]("-"))&&(c=b(f.$attr("leveloffset",0).$to_i(),c.$slice(1,c.$length()).$to_i()).$to_s())),e(f=f.$set_attribute(a,c))&&(c=f,e(h)&&t(p(v,"Document"),"AttributeEntry").$new(a,c).$save_to(h))):e(e(m=f.$delete_attribute(a))?h:m)&&t(p(v,"Document"),"AttributeEntry").$new(a,c).$save_to(h):e(h)&&t(p(v,"Document"),"AttributeEntry").$new(a,c).$save_to(h);return[a,c]},Ja.$$arity=-3);a.defs(c,"$resolve_list_marker",
Wa=function(a,b,e,c,f){null==e&&(e=0);null==c&&(c=!1);null==f&&(f=d);return a["$=="]("ulist")?b:a["$=="]("olist")?this.$resolve_ordered_list_marker(b,e,c,f)["$[]"](0):"<1>"},Wa.$$arity=-3);a.defs(c,"$resolve_ordered_list_marker",Qa=function(a,b,c,h){var k,l,q=d,n=d,r=d,t=d;null==b&&(b=0);null==c&&(c=!1);null==h&&(h=d);if(e(a["$start_with?"](".")))return[a];q=n=m(p(v,"ORDERED_LIST_STYLES"),"find",[],(k=function(b){null==b&&(b=d);return p(v,"OrderedListMarkerRxMap")["$[]"](b)["$match?"](a)},k.$$s=this,
k.$$arity=1,k));"arabic"["$==="](q)?(e(c)&&(r=g(b,1),t=a.$to_i()),a="1."):"loweralpha"["$==="](q)?(e(c)&&(r=g("a"["$[]"](0).$ord(),b).$chr(),t=a.$chop()),a="a."):"upperalpha"["$==="](q)?(e(c)&&(r=g("A"["$[]"](0).$ord(),b).$chr(),t=a.$chop()),a="A."):"lowerroman"["$==="](q)?(e(c)&&(r=p(v,"Helpers").$int_to_roman(g(b,1)).$downcase(),t=a.$chop()),a="i)"):"upperroman"["$==="](q)&&(e(c)&&(r=p(v,"Helpers").$int_to_roman(g(b,1)),t=a.$chop()),a="I)");e(e(l=c)?r["$!="](t):l)&&this.$logger().$warn(this.$message_with_context("list item index: expected "+
r+", got "+t,f(["source_location"],{source_location:h.$cursor()})));return[a,n]},Qa.$$arity=-2);a.defs(c,"$is_sibling_list_item?",Ma=function(a,b,c){var f,g;return e(t("::","Regexp")["$==="](c))?c["$match?"](a):e(f=p(v,"ListRxMap")["$[]"](b)["$=~"](a))?c["$=="](this.$resolve_list_marker(b,(g=u["~"])===d?d:g["$[]"](1))):f},Ma.$$arity=3);a.defs(c,"$parse_table",Da=function(c,f,h){var k,q,n,r=d,H=d,y=n=d,z=d,u,w=d,F=d;f=p(v,"Table").$new(f,h);e(e(k=h["$key?"]("cols"))?(r=this.$parse_colspecs(h["$[]"]("cols")))["$empty?"]()["$!"]():
k)&&(f.$create_columns(r),H=!0);r=e(k=c.$skip_blank_lines())?k:0;e(h["$[]"]("header-option"))?(n=[!0],m(f,"has_header_option=",a.to_a(n)),n[b(n.length,1)]):e(r["$=="](0)?h["$[]"]("noheader-option")["$!"]():r["$=="](0))&&(n=["implicit"],m(f,"has_header_option=",a.to_a(n)),n[b(n.length,1)],y=!0);r=t(p(v,"Table"),"ParserContext").$new(c,f,h);k=[r.$format(),-1,d];var B=k[0];var x=k[1];var O=k[2];k;for(k=!1;k||e(z=c.$read_line());){k=!1;if(e(e(q=u=l(x=g(x,1),0))?z["$empty?"]():q))z=d,e(O)&&(O=g(O,1));
else if(B["$=="]("psv"))if(e(r["$starts_with_delimiter?"](z)))z=z.$slice(1,z.$length()),r.$close_open_cell(),e(O)&&(O=d);else{var L=this.$parse_cellspec(z,"start",r.$delimiter());q=a.to_ary(L);var A=null==q[0]?d:q[0];z=null==q[1]?d:q[1];L;e(A)?(r.$close_open_cell(A),e(O)&&(O=d)):e(e(q=O)?O["$=="](x):q)&&(n=[y=O=d],m(f,"has_header_option=",a.to_a(n)),n[b(n.length,1)])}e(u)||(c.$mark(),e(y)&&(e(e(q=c["$has_more_lines?"]())?c.$peek_line()["$empty?"]():q)?O=1:(n=[y=d],m(f,"has_header_option=",a.to_a(n)),
n[b(n.length,1)])));for(q=!1;q||e(!0);)if(q=!1,e(e(L=z)?w=r.$match_delimiter(z):L)){L=[w.$pre_match(),w.$post_match()];u=L[0];z=L[1];L;A=B;if("csv"["$==="](A)){if(e(r["$buffer_has_unclosed_quotes?"](u))){r.$skip_past_delimiter(u);if(e(z["$empty?"]()))break;q=!0;continue}n=[""+r.$buffer()+u]}else if("dsv"["$==="](A)){if(e(u["$end_with?"]("\\"))){r.$skip_past_escaped_delimiter(u);if(e(z["$empty?"]())){n=[""+r.$buffer()+p(v,"LF")];m(r,"buffer=",a.to_a(n));n[b(n.length,1)];r.$keep_cell_open();break}q=
!0;continue}n=[""+r.$buffer()+u]}else{if(e(u["$end_with?"]("\\"))){r.$skip_past_escaped_delimiter(u);if(e(z["$empty?"]())){n=[""+r.$buffer()+p(v,"LF")];m(r,"buffer=",a.to_a(n));n[b(n.length,1)];r.$keep_cell_open();break}q=!0;continue}n=this.$parse_cellspec(u);L=a.to_ary(n);A=null==L[0]?d:L[0];u=null==L[1]?d:L[1];n;r.$push_cellspec(A);n=[""+r.$buffer()+u]}m(r,"buffer=",a.to_a(n));n[b(n.length,1)];e(z["$empty?"]())&&(z=d);r.$close_cell()}else{n=[""+r.$buffer()+z+p(v,"LF")];m(r,"buffer=",a.to_a(n));
n[b(n.length,1)];A=B;"csv"["$==="](A)?e(r["$buffer_has_unclosed_quotes?"]())?(e(e(L=O)?x["$=="](0):L)&&(n=[y=O=d],m(f,"has_header_option=",a.to_a(n)),n[b(n.length,1)]),r.$keep_cell_open()):r.$close_cell(!0):"dsv"["$==="](A)?r.$close_cell(!0):r.$keep_cell_open();break}if(e(r["$cell_open?"]()))e(c["$has_more_lines?"]())||r.$close_cell(!0);else if(e(q=c.$skip_blank_lines()))q;else break}e(e(k=(F=f.$attributes(),e(q=F["$[]"]("colcount"))?q:(n=["colcount",f.$columns().$size()],m(F,"[]=",a.to_a(n)),n[b(n.length,
1)]))["$=="](0))?k:H)||f.$assign_column_widths();e(y)&&(n=[!0],m(f,"has_header_option=",a.to_a(n)),n[b(n.length,1)]);f.$partition_header_footer(h);return f},Da.$$arity=3);a.defs(c,"$parse_colspecs",Ka=function(c){var g,h,k=d;e(c["$include?"](" "))&&(c=c.$delete(" "));if(c["$=="](c.$to_i().$to_s()))return m(t("::","Array"),"new",[c.$to_i()],(g=function(){return f(["width"],{width:1})},g.$$s=this,g.$$arity=0,g));k=[];m(e(c["$include?"](","))?c.$split(",",-1):c.$split(";",-1),"each",[],(h=function(c){var g=
h.$$s||this,l,q=d,n=d,r=d,t=d,H=r=d;null==c&&(c=d);if(e(c["$empty?"]()))return k["$<<"](f(["width"],{width:1}));if(e(q=p(v,"ColumnSpecRx").$match(c))){n=f([],{});if(e(q["$[]"](2))){c=q["$[]"](2).$split(".");var z=a.to_ary(c);r=null==z[0]?d:z[0];t=null==z[1]?d:z[1];c;e(e(z=r["$nil_or_empty?"]()["$!"]())?p(v,"TableCellHorzAlignments")["$key?"](r):z)&&(r=["halign",p(v,"TableCellHorzAlignments")["$[]"](r)],m(n,"[]=",a.to_a(r)),r[b(r.length,1)]);e(e(z=t["$nil_or_empty?"]()["$!"]())?p(v,"TableCellVertAlignments")["$key?"](t):
z)&&(r=["valign",p(v,"TableCellVertAlignments")["$[]"](t)],m(n,"[]=",a.to_a(r)),r[b(r.length,1)])}r=e(H=q["$[]"](3))?["width",H["$=="]("~")?-1:H.$to_i()]:["width",1];m(n,"[]=",a.to_a(r));r[b(r.length,1)];e(e(z=q["$[]"](4))?p(v,"TableCellStyles")["$key?"](q["$[]"](4)):z)&&(r=["style",p(v,"TableCellStyles")["$[]"](q["$[]"](4))],m(n,"[]=",a.to_a(r)),r[b(r.length,1)]);return e(q["$[]"](1))?m(1,"upto",[q["$[]"](1).$to_i()],(l=function(){return k["$<<"](n.$merge())},l.$$s=g,l.$$arity=0,l)):k["$<<"](n)}return d},
h.$$s=this,h.$$arity=1,h));return k},Ka.$$arity=1);a.defs(c,"$parse_cellspec",Xa=function(c,g,h){null==g&&(g="end");null==h&&(h=d);var k=[d,""];k;if(g["$=="]("start"))if(e(c["$include?"](h))){h=c.$partition(h);k=a.to_ary(h);var l=null==k[0]?d:k[0];g=null==k[2]?d:k[2];h;if(e(l=p(v,"CellSpecStartRx").$match(l))){if(e(l["$[]"](0)["$empty?"]()))return[f([],{}),g]}else return[d,c]}else return[d,c];else if(e(l=p(v,"CellSpecEndRx").$match(c))){if(e(l["$[]"](0).$lstrip()["$empty?"]()))return[f([],{}),c.$rstrip()];
g=l.$pre_match()}else return[f([],{}),c];c=f([],{});if(e(l["$[]"](1))){h=l["$[]"](1).$split(".");k=a.to_ary(h);var q=null==k[0]?d:k[0];var n=null==k[1]?d:k[1];h;q=e(q["$nil_or_empty?"]())?1:q.$to_i();n=e(n["$nil_or_empty?"]())?1:n.$to_i();l["$[]"](2)["$=="]("+")?(q["$=="](1)||(h=["colspan",q],m(c,"[]=",a.to_a(h)),h[b(h.length,1)]),n["$=="](1)||(h=["rowspan",n],m(c,"[]=",a.to_a(h)),h[b(h.length,1)])):l["$[]"](2)["$=="]("*")&&!q["$=="](1)&&(h=["repeatcol",q],m(c,"[]=",a.to_a(h)),h[b(h.length,1)])}e(l["$[]"](3))&&
(h=l["$[]"](3).$split("."),k=a.to_ary(h),q=null==k[0]?d:k[0],n=null==k[1]?d:k[1],h,e(e(k=q["$nil_or_empty?"]()["$!"]())?p(v,"TableCellHorzAlignments")["$key?"](q):k)&&(h=["halign",p(v,"TableCellHorzAlignments")["$[]"](q)],m(c,"[]=",a.to_a(h)),h[b(h.length,1)]),e(e(k=n["$nil_or_empty?"]()["$!"]())?p(v,"TableCellVertAlignments")["$key?"](n):k)&&(h=["valign",p(v,"TableCellVertAlignments")["$[]"](n)],m(c,"[]=",a.to_a(h)),h[b(h.length,1)]));e(e(k=l["$[]"](4))?p(v,"TableCellStyles")["$key?"](l["$[]"](4)):
k)&&(h=["style",p(v,"TableCellStyles")["$[]"](l["$[]"](4))],m(c,"[]=",a.to_a(h)),h[b(h.length,1)]);return[c,g]},Xa.$$arity=-2);a.defs(c,"$parse_style_attribute",Sa=function(c,h){var k,l,q,n,r=d,t=d,H=d,z=d,y=d,u=d,w=d;null==h&&(h=d);if(e(e(k=e(l=r=c["$[]"](1))?r["$include?"](" ")["$!"]():l)?p(v,"Compliance").$shorthand_property_syntax():k)){t=d;H="";z=f([],{});m(r,"each_char",[],(q=function(a){var b=q.$$s||this,e=d;null==a&&(a=d);return function(){e=a;return"."["$==="](e)?(b.$yield_buffered_attribute(z,
t,H,h),H="",t="role"):"#"["$==="](e)?(b.$yield_buffered_attribute(z,t,H,h),H="",t="id"):"%"["$==="](e)?(b.$yield_buffered_attribute(z,t,H,h),H="",t="option"):H=g(H,a)}()},q.$$s=this,q.$$arity=1,q));if(e(t))return this.$yield_buffered_attribute(z,t,H,h),e(y=z["$[]"]("style"))&&(u=["style",y],m(c,"[]=",a.to_a(u)),u[b(u.length,1)]),e(z["$key?"]("id"))&&(u=["id",z["$[]"]("id")],m(c,"[]=",a.to_a(u)),u[b(u.length,1)]),e(z["$key?"]("role"))&&(u=["role",e((w=c["$[]"]("role"))["$nil_or_empty?"]())?z["$[]"]("role").$join(" "):
""+w+" "+z["$[]"]("role").$join(" ")],m(c,"[]=",a.to_a(u)),u[b(u.length,1)]),e(z["$key?"]("option"))&&m(z["$[]"]("option"),"each",[],(n=function(e){null==e&&(e=d);u=[""+e+"-option",""];m(c,"[]=",a.to_a(u));return u[b(u.length,1)]},n.$$s=this,n.$$arity=1,n)),y;u=["style",r];m(c,"[]=",a.to_a(u));return u[b(u.length,1)]}u=["style",r];m(c,"[]=",a.to_a(u));return u[b(u.length,1)]},Sa.$$arity=-2);a.defs(c,"$yield_buffered_attribute",Ya=function(c,g,h,k){var l,p=d;if(e(g))if(e(h["$empty?"]()))e(k)?this.$logger().$warn(this.$message_with_context("invalid empty "+
g+" detected in style attribute",f(["source_location"],{source_location:k.$cursor_at_prev_line()}))):this.$logger().$warn("invalid empty "+g+" detected in style attribute");else if(g["$=="]("id"))e(c["$key?"]("id"))&&(e(k)?this.$logger().$warn(this.$message_with_context("multiple ids detected in style attribute",f(["source_location"],{source_location:k.$cursor_at_prev_line()}))):this.$logger().$warn("multiple ids detected in style attribute")),p=[g,h],m(c,"[]=",a.to_a(p)),p[b(p.length,1)];else(e(l=
c["$[]"](g))?l:(p=[g,[]],m(c,"[]=",a.to_a(p)),p[b(p.length,1)]))["$<<"](h);else e(h["$empty?"]())||(p=["style",h],m(c,"[]=",a.to_a(p)),p[b(p.length,1)]);return d},Ya.$$arity=4);a.defs(c,"$adjust_indentation!",Za=function(c,f,h){var n,r,t,H,z,u,y,w=this,B=d,x=d,F=d;null==f&&(f=0);null==h&&(h=0);if(e(c["$empty?"]()))return d;e(e(n=l(h,0))?m(c,"any?",[],(r=function(a){null==a&&(a=d);return a["$include?"](p(v,"TAB"))},r.$$s=w,r.$$arity=1,r)):n)&&(B=q(" ",h),function(){var f=a.new_brk();try{return m(c,
"map!",[],(t=function(c){var f=t.$$s||this,k,l,n=d,r=d,H=d,z=d,u=d;null==c&&(c=d);if(e(c["$empty?"]()))return c;if(e(n=c.$index(p(v,"TAB")))){if(n["$=="](0)&&(r=0,function(){var b=a.new_brk();try{return m(c,"each_byte",[],(k=function(e){null==e&&(e=d);e["$=="](9)||a.brk(d,b);return r=g(r,1)},k.$$s=f,k.$$brk=b,k.$$arity=1,k))}catch(ib){if(ib===b)return ib.$v;throw ib;}}(),c=""+q(B,r)+c.$slice(r,c.$length()),!e(c["$include?"](p(v,"TAB")))))return c;z=H=0;u="";m(c,"each_char",[],(l=function(a){var e;
null==a&&(a=d);a["$=="](p(v,"TAB"))?(a=g(z,H))["$%"](h)["$=="](0)?(H=g(H,b(h,1)),u=g(u,B)):((e=b(h,a["$%"](h)))["$=="](1)||(H=g(H,b(e,1))),u=g(u,q(" ",e))):u=g(u,a);return z=g(z,1)},l.$$s=f,l.$$arity=1,l));return u}return c},t.$$s=w,t.$$brk=f,t.$$arity=1,t))}catch(Ra){if(Ra===f)return Ra.$v;throw Ra;}}());if(e(k(f,0)))return d;x=d;(function(){var f=a.new_brk();try{return m(c,"each",[],(H=function(c){var g;null==c&&(c=d);if(e(c["$empty?"]()))return d;(c=b(c.$length(),c.$lstrip().$length()))["$=="](0)&&
(x=d,a.brk(d,f));return e(e(g=x)?k(x,c):g)?d:x=c},H.$$s=w,H.$$brk=f,H.$$arity=1,H))}catch(Ra){if(Ra===f)return Ra.$v;throw Ra;}})();f["$=="](0)?e(x)&&m(c,"map!",[],(z=function(a){null==a&&(a=d);return e(a["$empty?"]())?a:a.$slice(x,a.$length())},z.$$s=w,z.$$arity=1,z)):(F=q(" ",f),e(x)?m(c,"map!",[],(u=function(a){null==a&&(a=d);return e(a["$empty?"]())?a:g(F,a.$slice(x,a.$length()))},u.$$s=w,u.$$arity=1,u)):m(c,"map!",[],(y=function(a){null==a&&(a=d);return e(a["$empty?"]())?a:g(F,a)},y.$$s=w,y.$$arity=
1,y)));return d},Za.$$arity=-2);a.defs(c,"$uniform?",$a=function(a,b,d){return a.$count(b)["$=="](d)},$a.$$arity=3);return(a.defs(c,"$sanitize_attribute_name",H=function(a){return a.$gsub(p(v,"InvalidAttributeNameCharsRx"),"").$downcase()},H.$$arity=1),d)&&"sanitize_attribute_name"})(c[0],null,c)}(h[0],h)};Opal.modules["asciidoctor/path_resolver"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var g=[],k=a.nil,l=a.const_get_qualified,q=a.const_get_relative,
h=a.module,d=a.klass,n=a.truthy,p=a.hash2,r=a.send,t=a.gvars;a.add_stubs("$include $attr_accessor $root? $posixify $expand_path $pwd $start_with? $== $match? $absolute_path? $+ $length $descends_from? $slice $to_s $relative_path_from $new $include? $tr $partition_path $each $pop $<< $join_path $[] $web_root? $unc? $index $split $delete $[]= $- $join $raise $! $fetch $warn $logger $empty? $nil_or_empty? $chomp $!= $> $size $extract_uri_prefix $end_with? $gsub $private $=~".split(" "));return function(c,
e){c=[h(c,"Asciidoctor")].concat(e);(function(e,$super,c){e=d(e,$super,"PathResolver");var f=[e].concat(c),g,h,m,v,u,z,w,x,B,L,A,C,D,J;e.$$prototype.file_separator=e.$$prototype._partition_path_web=e.$$prototype._partition_path_sys=e.$$prototype.working_dir=k;e.$include(q(f,"Logging"));a.const_set(f[0],"DOT",".");a.const_set(f[0],"DOT_DOT","..");a.const_set(f[0],"DOT_SLASH","./");a.const_set(f[0],"SLASH","/");a.const_set(f[0],"BACKSLASH","\\");a.const_set(f[0],"DOUBLE_SLASH","//");a.const_set(f[0],
"WindowsRootRx",/^(?:[a-zA-Z]:)?[\\\/]/);e.$attr_accessor("file_separator");e.$attr_accessor("working_dir");a.def(e,"$initialize",g=function(a,b){var d,e;null==a&&(a=k);null==b&&(b=k);this.file_separator=n(d=n(e=a)?e:l(l("::","File"),"ALT_SEPARATOR"))?d:l(l("::","File"),"SEPARATOR");this.working_dir=n(b)?n(this["$root?"](b))?this.$posixify(b):l("::","File").$expand_path(b):l("::","Dir").$pwd();this._partition_path_sys=p([],{});return this._partition_path_web=p([],{})},g.$$arity=-1);a.def(e,"$absolute_path?",
h=function(a){var b;return n(b=a["$start_with?"](q(f,"SLASH")))?b:this.file_separator["$=="](q(f,"BACKSLASH"))?q(f,"WindowsRootRx")["$match?"](a):this.file_separator["$=="](q(f,"BACKSLASH"))},h.$$arity=1);n(q(f,"RUBY_ENGINE")["$=="]("opal")?l("::","JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest"):q(f,"RUBY_ENGINE")["$=="]("opal"))?a.def(e,"$root?",m=function(a){var b;return n(b=this["$absolute_path?"](a))?b:a["$start_with?"]("file://","http://","https://")},m.$$arity=1):a.alias(e,"root?","absolute_path?");
a.def(e,"$unc?",v=function(a){return a["$start_with?"](q(f,"DOUBLE_SLASH"))},v.$$arity=1);a.def(e,"$web_root?",u=function(a){return a["$start_with?"](q(f,"SLASH"))},u.$$arity=1);a.def(e,"$descends_from?",z=function(a,d){var e;return d["$=="](a)?0:d["$=="](q(f,"SLASH"))?n(e=a["$start_with?"](q(f,"SLASH")))?1:e:n(e=a["$start_with?"](b(d,q(f,"SLASH"))))?b(d.$length(),1):e},z.$$arity=2);a.def(e,"$relative_path",w=function(b,d){var e;if(n(this["$root?"](b))){if(n(e=this["$descends_from?"](b,d)))return b.$slice(e,
b.$length());try{return q(f,"Pathname").$new(b).$relative_path_from(q(f,"Pathname").$new(d)).$to_s()}catch(ka){if(a.rescue(ka,[q(f,"StandardError")]))try{return b}finally{a.pop_exception()}else throw ka;}}else return b},w.$$arity=2);a.def(e,"$posixify",x=function(a){return n(a)?n(this.file_separator["$=="](q(f,"BACKSLASH"))?a["$include?"](q(f,"BACKSLASH")):this.file_separator["$=="](q(f,"BACKSLASH")))?a.$tr(q(f,"BACKSLASH"),q(f,"SLASH")):a:""},x.$$arity=1);a.alias(e,"posixfy","posixify");a.def(e,
"$expand_path",B=function(b){var d,e,c=k,g=d=k;var h=this.$partition_path(b);d=a.to_ary(h);c=null==d[0]?k:d[0];d=null==d[1]?k:d[1];h;return n(b["$include?"](q(f,"DOT_DOT")))?(g=[],r(c,"each",[],(e=function(a){null==a&&(a=k);return a["$=="](q(f,"DOT_DOT"))?g.$pop():g["$<<"](a)},e.$$s=this,e.$$arity=1,e)),this.$join_path(g,d)):this.$join_path(c,d)},B.$$arity=1);a.def(e,"$partition_path",L=function(d,e){var c,g,h=k;null==e&&(e=k);if(n(c=(g=n(e)?this._partition_path_web:this._partition_path_sys)["$[]"](d)))return c;
c=this.$posixify(d);n(e)?n(this["$web_root?"](c))?h=q(f,"SLASH"):n(c["$start_with?"](q(f,"DOT_SLASH")))&&(h=q(f,"DOT_SLASH")):n(this["$root?"](c))?h=n(this["$unc?"](c))?q(f,"DOUBLE_SLASH"):n(c["$start_with?"](q(f,"SLASH")))?q(f,"SLASH"):c.$slice(0,b(c.$index(q(f,"SLASH")),1)):n(c["$start_with?"](q(f,"DOT_SLASH")))&&(h=q(f,"DOT_SLASH"));e=(n(h)?c.$slice(h.$length(),c.$length()):c).$split(q(f,"SLASH"));e.$delete(q(f,"DOT"));d=[d,[e,h]];r(g,"[]=",a.to_a(d));g=d.length;g="number"===typeof g?g-1:g["$-"](1);
return d[g]},L.$$arity=-2);a.def(e,"$join_path",A=function(a,b){null==b&&(b=k);return n(b)?""+b+a.$join(q(f,"SLASH")):a.$join(q(f,"SLASH"))},A.$$arity=-2);a.def(e,"$system_path",C=function(d,e,c,g){var h,m,v,t=k,u=k,y=k,z=k,w=t=k,x=k,B=k,R=w=k;null==e&&(e=k);null==c&&(c=k);null==g&&(g=p([],{}));n(c)&&(n(this["$root?"](c))||this.$raise(l("::","SecurityError"),"Jail is not an absolute path: "+c),c=this.$posixify(c));if(n(d)){if(n(this["$root?"](d))){t=this.$expand_path(d);if(n(n(h=c)?this["$descends_from?"](t,
c)["$!"]():h)){if(n(g.$fetch("recover",!0))){this.$logger().$warn(""+(n(h=g["$[]"]("target_name"))?h:"path")+" is outside of jail; recovering automatically");var L=this.$partition_path(t);h=a.to_ary(L);u=null==h[0]?k:h[0];L;L=this.$partition_path(c);h=a.to_ary(L);y=null==h[0]?k:h[0];z=null==h[1]?k:h[1];L;return this.$join_path(b(y,u),z)}this.$raise(l("::","SecurityError"),""+(n(h=g["$[]"]("target_name"))?h:"path")+" "+d+" is outside of jail: "+c+" (disallowed in safe mode)")}return t}L=this.$partition_path(d);
h=a.to_ary(L);u=null==h[0]?k:h[0];L}else u=[];if(n(u["$empty?"]())){if(n(e["$nil_or_empty?"]()))return n(h=c)?h:this.working_dir;if(n(this["$root?"](e)))if(n(c))e=this.$posixify(e);else return this.$expand_path(e);else L=this.$partition_path(e),h=a.to_ary(L),u=null==h[0]?k:h[0],L,e=n(h=c)?h:this.working_dir}else n(e["$nil_or_empty?"]())?e=n(h=c)?h:this.working_dir:n(this["$root?"](e))?n(c)&&(e=this.$posixify(e)):e=""+(n(h=c)?h:this.working_dir).$chomp("/")+"/"+e;n(n(h=n(L=c)?t=this["$descends_from?"](e,
c)["$!"]():L)?this.file_separator["$=="](q(f,"BACKSLASH")):h)?(L=this.$partition_path(e),h=a.to_ary(L),w=null==h[0]?k:h[0],x=null==h[1]?k:h[1],L,L=this.$partition_path(c),h=a.to_ary(L),y=null==h[0]?k:h[0],z=null==h[1]?k:h[1],L,n(x["$!="](z))&&(n(g.$fetch("recover",!0))?(this.$logger().$warn("start path for "+(n(h=g["$[]"]("target_name"))?h:"path")+" is outside of jail root; recovering automatically"),w=y,t=!1):this.$raise(l("::","SecurityError"),"start path for "+(n(h=g["$[]"]("target_name"))?h:"path")+
" "+e+" refers to location outside jail root: "+c+" (disallowed in safe mode)"))):(L=this.$partition_path(e),h=a.to_ary(L),w=null==h[0]?k:h[0],z=null==h[1]?k:h[1],L);n((B=b(w,u))["$include?"](q(f,"DOT_DOT")))&&(h=[B,[]],w=h[0],B=h[1],h,n(c)?(n(y)||(L=this.$partition_path(c),h=a.to_ary(L),y=null==h[0]?k:h[0],L),R=!1,r(w,"each",[],(m=function(a){var b=m.$$s||this,e;null==a&&(a=k);if(a["$=="](q(f,"DOT_DOT"))){a=B.$size();var h=y.$size();a="number"===typeof a&&"number"===typeof h?a>h:a["$>"](h);if(n(a))return B.$pop();
if(n(g.$fetch("recover",!0))){if(n(R))return k;b.$logger().$warn(""+(n(e=g["$[]"]("target_name"))?e:"path")+" has illegal reference to ancestor of jail; recovering automatically");return R=!0}return b.$raise(l("::","SecurityError"),""+(n(e=g["$[]"]("target_name"))?e:"path")+" "+d+" refers to location outside jail: "+c+" (disallowed in safe mode)")}return B["$<<"](a)},m.$$s=this,m.$$arity=1,m))):r(w,"each",[],(v=function(a){null==a&&(a=k);return a["$=="](q(f,"DOT_DOT"))?B.$pop():B["$<<"](a)},v.$$s=
this,v.$$arity=1,v)));return n(t)?(t=this.$join_path(B,z),n(this["$descends_from?"](t,c))?t:n(g.$fetch("recover",!0))?(this.$logger().$warn(""+(n(h=g["$[]"]("target_name"))?h:"path")+" is outside of jail; recovering automatically"),n(y)||(L=this.$partition_path(c),h=a.to_ary(L),y=null==h[0]?k:h[0],L),this.$join_path(b(y,u),z)):this.$raise(l("::","SecurityError"),""+(n(h=g["$[]"]("target_name"))?h:"path")+" "+d+" is outside of jail: "+c+" (disallowed in safe mode)")):this.$join_path(B,z)},C.$$arity=
-2);a.def(e,"$web_path",D=function(b,d){var e,c,g=k,h=k,m=k,l=k,p=k;null==d&&(d=k);b=this.$posixify(b);d=this.$posixify(d);n(n(e=d["$nil_or_empty?"]())?e:this["$web_root?"](b))||(d=this.$extract_uri_prefix(""+d+(n(d["$end_with?"](q(f,"SLASH")))?"":q(f,"SLASH"))+b),e=a.to_ary(d),b=null==e[0]?k:e[0],g=null==e[1]?k:e[1],d);d=this.$partition_path(b,!0);e=a.to_ary(d);h=null==e[0]?k:e[0];m=null==e[1]?k:e[1];d;l=[];r(h,"each",[],(c=function(a){var b;null==a&&(a=k);return a["$=="](q(f,"DOT_DOT"))?n(l["$empty?"]())?
n(n(b=m)?m["$!="](q(f,"DOT_SLASH")):b)?k:l["$<<"](a):l["$[]"](-1)["$=="](q(f,"DOT_DOT"))?l["$<<"](a):l.$pop():l["$<<"](a)},c.$$s=this,c.$$arity=1,c));n((p=this.$join_path(l,m))["$include?"](" "))&&(p=p.$gsub(" ","%20"));return n(g)?""+g+p:p},D.$$arity=-2);e.$private();return(a.def(e,"$extract_uri_prefix",J=function(a){var b;return n(n(b=a["$include?"](":"))?q(f,"UriSniffRx")["$=~"](a):b)?[a.$slice(((b=t["~"])===k?k:b["$[]"](0)).$length(),a.$length()),(b=t["~"])===k?k:b["$[]"](0)]:a},J.$$arity=1),
k)&&"extract_uri_prefix"})(c[0],null,c)}(g[0],g)};Opal.modules["asciidoctor/reader"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}var q=[],h=a.nil,d=a.const_get_qualified,n=a.const_get_relative,p=a.module,r=a.klass,t=a.hash2,
m=a.truthy,e=a.send,f=a.gvars,u=a.hash;a.add_stubs("$include $attr_reader $+ $attr_accessor $! $=== $split $file $dir $dirname $path $basename $lineno $prepare_lines $drop $empty? $nil_or_empty? $peek_line $> $slice $[] $length $process_line $times $shift $read_line $<< $- $unshift_all $has_more_lines? $join $read_lines $unshift $start_with? $== $* $read_lines_until $size $clear $cursor $[]= $!= $fetch $cursor_at_mark $warn $logger $message_with_context $new $tap $each $instance_variables $instance_variable_get $instance_variable_set $class $object_id $inspect $private $prepare_source_array $prepare_source_string $chomp $valid_encoding? $to_s $raise $to_i $attributes $catalog $pop_include $parse $path= $dup $end_with? $keys $rindex $rootname $key? $attr $>= $nil? $extensions? $include_processors? $extensions $include_processors $map $skip_front_matter! $pop $adjust_indentation! $include? $=~ $preprocess_conditional_directive $preprocess_include_directive $downcase $error $none? $any? $all? $strip $send $resolve_expr_val $replace_next_line $rstrip $sub_attributes $attribute_missing $info $parse_attributes $find $handles? $instance $process_method $safe $resolve_include_path $method $split_delimited_value $partition $< $/ $to_a $uniq $sort $call $each_line $infinite? $push_include $delete $create_include_cursor $delete_at $read $uriish? $attr? $require_library $normalize_system_path $file? $relative_path $path_resolver $base_dir $to_f".split(" "));
return function(c,q){c=[p(c,"Asciidoctor")].concat(q);(function(c,$super,f){c=r(c,$super,"Reader");var l=[c].concat(f),p,q,v,u,w,z,x,B,L,A,C,D,J,E,V,G,U,I,S,T,na,ja,ca,K,M,N,P,ia,da,va,Y,qa,Ia,Ha,Ja,Wa,Qa;c.$$prototype.file=c.$$prototype.lines=c.$$prototype.look_ahead=c.$$prototype.unescape_next_line=c.$$prototype.lineno=c.$$prototype.process_lines=c.$$prototype.dir=c.$$prototype.path=c.$$prototype.mark=c.$$prototype.source_lines=c.$$prototype.saved=h;c.$include(n(l,"Logging"));(function(d,$super,
e){d=r(d,$super,"Cursor");[d].concat(e);var c,f,g;d.$$prototype.lineno=d.$$prototype.path=h;d.$attr_reader("file","dir","path","lineno");a.def(d,"$initialize",c=function(a,b,d,e){var c;null==b&&(b=h);null==d&&(d=h);null==e&&(e=1);return c=[a,b,d,e],this.file=c[0],this.dir=c[1],this.path=c[2],this.lineno=c[3],c},c.$$arity=-2);a.def(d,"$advance",f=function(a){return this.lineno=b(this.lineno,a)},f.$$arity=1);a.def(d,"$line_info",g=function(){return""+this.path+": line "+this.lineno},g.$$arity=0);return a.alias(d,
"to_s","line_info")})(l[0],null,l);c.$attr_reader("file");c.$attr_reader("dir");c.$attr_reader("path");c.$attr_reader("lineno");c.$attr_reader("source_lines");c.$attr_accessor("process_lines");c.$attr_accessor("unterminated");a.def(c,"$initialize",p=function(b,e,c){null==b&&(b=h);null==e&&(e=h);null==c&&(c=t([],{}));if(m(e["$!"]()))this.file=h,this.dir=".",this.path="<stdin>",this.lineno=1;else if(m(d("::","String")["$==="](e))){this.file=e;e=d("::","File").$split(this.file);var f=a.to_ary(e);this.dir=
null==f[0]?h:f[0];this.path=null==f[1]?h:f[1];e;this.lineno=1}else m(this.file=e.$file())?(this.dir=m(f=e.$dir())?f:d("::","File").$dirname(this.file),this.path=m(f=e.$path())?f:d("::","File").$basename(this.file)):(this.dir=m(f=e.$dir())?f:".",this.path=m(f=e.$path())?f:"<stdin>"),this.lineno=m(f=e.$lineno())?f:1;this.lines=this.$prepare_lines(b,c);this.source_lines=this.lines.$drop(0);this.mark=h;this.look_ahead=0;this.process_lines=!0;this.unescape_next_line=!1;return this.saved=this.unterminated=
h},p.$$arity=-1);a.def(c,"$has_more_lines?",q=function(){return m(this.lines["$empty?"]())?(this.look_ahead=0,!1):!0},q.$$arity=0);a.def(c,"$empty?",v=function(){return m(this.lines["$empty?"]())?(this.look_ahead=0,!0):!1},v.$$arity=0);a.alias(c,"eof?","empty?");a.def(c,"$next_line_empty?",u=function(){return this.$peek_line()["$nil_or_empty?"]()},u.$$arity=0);a.def(c,"$peek_line",w=function(a){var b,d=h;null==a&&(a=!1);return m(m(b=a)?b:g(this.look_ahead,0))?m(this.unescape_next_line)?(d=this.lines["$[]"](0)).$slice(1,
d.$length()):this.lines["$[]"](0):m(this.lines["$empty?"]())?(this.look_ahead=0,h):m(d=this.$process_line(this.lines["$[]"](0)))?d:this.$peek_line()},w.$$arity=-1);a.def(c,"$peek_lines",z=function(b,d){var c,f,g=this,p=h,q=h;null==b&&(b=h);null==d&&(d=!1);p=g.look_ahead;q=[];(function(){var p=a.new_brk();try{return e(m(c=b)?c:n(l,"MAX_INT"),"times",[],(f=function(){var b=f.$$s||this,e;null==b.lineno&&(b.lineno=h);if(m(e=m(d)?b.$shift():b.$read_line()))return q["$<<"](e);m(d)&&(b.lineno=k(b.lineno,
1));a.brk(h,p)},f.$$s=g,f.$$brk=p,f.$$arity=0,f))}catch(H){if(H===p)return H.$v;throw H;}})();m(q["$empty?"]())||(g.$unshift_all(q),m(d)&&(g.look_ahead=p));return q},z.$$arity=-1);a.def(c,"$read_line",x=function(){var a;return m(m(a=g(this.look_ahead,0))?a:this["$has_more_lines?"]())?this.$shift():h},x.$$arity=0);a.def(c,"$read_lines",B=function(){var a;for(a=[];m(this["$has_more_lines?"]());)a["$<<"](this.$shift());return a},B.$$arity=0);a.alias(c,"readlines","read_lines");a.def(c,"$read",L=function(){return this.$read_lines().$join(n(l,
"LF"))},L.$$arity=0);a.def(c,"$advance",A=function(){return m(this.$shift())?!0:!1},A.$$arity=0);a.def(c,"$unshift_line",C=function(a){this.$unshift(a);return h},C.$$arity=1);a.alias(c,"restore_line","unshift_line");a.def(c,"$unshift_lines",D=function(a){this.$unshift_all(a);return h},D.$$arity=1);a.alias(c,"restore_lines","unshift_lines");a.def(c,"$replace_next_line",J=function(a){this.$shift();this.$unshift(a);return!0},J.$$arity=1);a.alias(c,"replace_line","replace_next_line");a.def(c,"$skip_blank_lines",
E=function(){var a,d;if(m(this["$empty?"]()))return h;for(a=0;m(d=this.$peek_line());)if(m(d["$empty?"]()))this.$shift(),a=b(a,1);else return a},E.$$arity=0);a.def(c,"$skip_comment_lines",V=function(){var a,b=h,d=h;if(m(this["$empty?"]()))return h;for(;m(m(a=b=this.$peek_line())?b["$empty?"]()["$!"]():a);)if(m(b["$start_with?"]("//")))if(m(b["$start_with?"]("///")))if(m(m(a=g(d=b.$length(),3))?b["$=="]("/"["$*"](d)):a))this.$read_lines_until(t(["terminator","skip_first_line","read_last_line","skip_processing",
"context"],{terminator:b,skip_first_line:!0,read_last_line:!0,skip_processing:!0,context:"comment"}));else break;else this.$shift();else break;return h},V.$$arity=0);a.def(c,"$skip_line_comments",G=function(){var a,b,d=h;if(m(this["$empty?"]()))return[];for(b=[];m(m(a=d=this.$peek_line())?d["$empty?"]()["$!"]():a);)if(m(d["$start_with?"]("//")))b["$<<"](this.$shift());else break;return b},G.$$arity=0);a.def(c,"$terminate",U=function(){this.lineno=b(this.lineno,this.lines.$size());this.lines.$clear();
this.look_ahead=0;return h},U.$$arity=0);a.def(c,"$read_lines_until",I=function(b){var d,c,f,g,p=I.$$p,q=p||h,r=h,v=h,u=h,y=h,w=h,z=h,x=h,B=h,L=h,A=h,C=h,D=h,J=h;p&&(I.$$p=null);null==b&&(b=t([],{}));r=[];m(m(d=this.process_lines)?b["$[]"]("skip_processing"):d)&&(this.process_lines=!1,v=!0);m(u=b["$[]"]("terminator"))?(y=m(d=b["$[]"]("cursor"))?d:this.$cursor(),z=w=!1):(w=b["$[]"]("break_on_blank_lines"),z=b["$[]"]("break_on_list_continuation"));x=b["$[]"]("skip_line_comments");B=L=A=h;for(m(b["$[]"]("skip_first_line"))&&
this.$shift();m(m(c=B["$!"]())?C=this.$read_line():c);)B=function(){for(;m(!0);)return m(m(f=u)?C["$=="](u):f)||m(m(f=w)?C["$empty?"]():f)?!0:m(m(f=m(g=z)?L:g)?C["$=="](n(l,"LIST_CONTINUATION")):f)?(D=["preserve_last_line",!0],e(b,"[]=",a.to_a(D)),D[k(D.length,1)],!0):m((f=q!==h)?a.yield1(q,C):q!==h)?!0:!1;return h}(),m(B)?(m(b["$[]"]("read_last_line"))&&(r["$<<"](C),L=!0),m(b["$[]"]("preserve_last_line"))&&(this.$unshift(C),A=!0)):m(m(c=m(f=x)?C["$start_with?"]("//"):f)?C["$start_with?"]("///")["$!"]():
c)||(r["$<<"](C),L=!0);m(v)&&(this.process_lines=!0,m(m(d=A)?u["$!"]():d)&&(this.look_ahead=k(this.look_ahead,1)));m(m(d=m(c=u)?u["$!="](C):c)?J=b.$fetch("context",u):d)&&(y["$=="]("at_mark")&&(y=this.$cursor_at_mark()),this.$logger().$warn(this.$message_with_context("unterminated "+J+" block",t(["source_location"],{source_location:y}))),this.unterminated=!0);return r},I.$$arity=-1);a.def(c,"$shift",S=function(){this.lineno=b(this.lineno,1);this.look_ahead["$=="](0)||(this.look_ahead=k(this.look_ahead,
1));return this.lines.$shift()},S.$$arity=0);a.def(c,"$unshift",T=function(a){this.lineno=k(this.lineno,1);this.look_ahead=b(this.look_ahead,1);return this.lines.$unshift(a)},T.$$arity=1);a.def(c,"$unshift_all",na=function(d){this.lineno=k(this.lineno,d.$size());this.look_ahead=b(this.look_ahead,d.$size());return e(this.lines,"unshift",a.to_a(d))},na.$$arity=1);a.def(c,"$cursor",ja=function(){return n(l,"Cursor").$new(this.file,this.dir,this.path,this.lineno)},ja.$$arity=0);a.def(c,"$cursor_at_line",
ca=function(a){return n(l,"Cursor").$new(this.file,this.dir,this.path,a)},ca.$$arity=1);a.def(c,"$cursor_at_mark",K=function(){return m(this.mark)?e(n(l,"Cursor"),"new",a.to_a(this.mark)):this.$cursor()},K.$$arity=0);a.def(c,"$cursor_before_mark",M=function(){if(m(this.mark)){var b=this.mark;var d=a.to_ary(b);var e=null==d[0]?h:d[0];var c=null==d[1]?h:d[1];var f=null==d[2]?h:d[2];d=null==d[3]?h:d[3];b;return n(l,"Cursor").$new(e,c,f,k(d,1))}return n(l,"Cursor").$new(this.file,this.dir,this.path,k(this.lineno,
1))},M.$$arity=0);a.def(c,"$cursor_at_prev_line",N=function(){return n(l,"Cursor").$new(this.file,this.dir,this.path,k(this.lineno,1))},N.$$arity=0);a.def(c,"$mark",P=function(){return this.mark=[this.file,this.dir,this.path,this.lineno]},P.$$arity=0);a.def(c,"$line_info",ia=function(){return""+this.path+": line "+this.lineno},ia.$$arity=0);a.def(c,"$lines",da=function(){return this.lines.$drop(0)},da.$$arity=0);a.def(c,"$string",va=function(){return this.lines.$join(n(l,"LF"))},va.$$arity=0);a.def(c,
"$source",Y=function(){return this.source_lines.$join(n(l,"LF"))},Y.$$arity=0);a.def(c,"$save",qa=function(){var b;this.saved=e(t([],{}),"tap",[],(b=function(c){var f=b.$$s||this,g;null==c&&(c=h);return e(f.$instance_variables(),"each",[],(g=function(b){var f=g.$$s||this,l,p=h;null==b&&(b=h);if(m(m(l=b["$=="]("@saved"))?l:b["$=="]("@source_lines")))return h;b=[b,m(d("::","Array")["$==="](p=f.$instance_variable_get(b)))?p.$drop(0):p];e(c,"[]=",a.to_a(b));return b[k(b.length,1)]},g.$$s=f,g.$$arity=
1,g))},b.$$s=this,b.$$arity=1,b));return h},qa.$$arity=0);a.def(c,"$restore_save",Ia=function(){var a;return m(this.saved)?(e(this.saved,"each",[],(a=function(b,d){var e=a.$$s||this;null==b&&(b=h);null==d&&(d=h);return e.$instance_variable_set(b,d)},a.$$s=this,a.$$arity=2,a)),this.saved=h):h},Ia.$$arity=0);a.def(c,"$discard_save",Ha=function(){return this.saved=h},Ha.$$arity=0);a.def(c,"$to_s",Ja=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line: "+
this.lineno+"}>"},Ja.$$arity=0);c.$private();a.def(c,"$prepare_lines",Wa=function(b,e){var c=h,f=h;null==e&&(e=t([],{}));try{return m(c=e["$[]"]("normalize"))?(f=c["$=="]("chomp")?!1:!0,m(d("::","Array")["$==="](b))?n(l,"Helpers").$prepare_source_array(b,f):n(l,"Helpers").$prepare_source_string(b,f)):m(d("::","Array")["$==="](b))?b.$drop(0):m(b)?b.$chomp().$split(n(l,"LF"),-1):[]}catch(Sa){if(a.rescue(Sa,[n(l,"StandardError")]))try{return m((m(d("::","Array")["$==="](b))?b.$join():b.$to_s())["$valid_encoding?"]())?
this.$raise():this.$raise(d("::","ArgumentError"),"source is either binary or contains invalid Unicode data")}finally{a.pop_exception()}else throw Sa;}},Wa.$$arity=-2);return(a.def(c,"$process_line",Qa=function(a){m(this.process_lines)&&(this.look_ahead=b(this.look_ahead,1));return a},Qa.$$arity=1),h)&&"process_line"})(c[0],null,c);(function(c,$super,p){c=r(c,$super,"PreprocessorReader");var q=[c].concat(p),v,w,z,x,B,L,A,C,D,J,E,G,V,U,I,S,aa,T,ca,K;c.$$prototype.include_stack=c.$$prototype.lines=
c.$$prototype.file=c.$$prototype.dir=c.$$prototype.path=c.$$prototype.lineno=c.$$prototype.maxdepth=c.$$prototype.process_lines=c.$$prototype.includes=c.$$prototype.document=c.$$prototype.unescape_next_line=c.$$prototype.include_processor_extensions=c.$$prototype.look_ahead=c.$$prototype.skipping=c.$$prototype.conditional_stack=h;c.$attr_reader("include_stack");a.def(c,"$initialize",v=function(b,d,c,f){var k,l;v.$$p&&(v.$$p=null);null==d&&(d=h);null==c&&(c=h);null==f&&(f=t([],{}));this.document=b;
e(this,a.find_super_dispatcher(this,"initialize",v,!1),[d,c,f],null);m(g(l=(m(k=b.$attributes()["$[]"]("max-include-depth"))?k:64).$to_i(),0))?this.maxdepth=t(["abs","curr","rel"],{abs:l,curr:l,rel:l}):this.maxdepth=h;this.include_stack=[];this.includes=b.$catalog()["$[]"]("includes");this.skipping=!1;this.conditional_stack=[];return this.include_processor_extensions=h},v.$$arity=-2);a.def(c,"$has_more_lines?",w=function(){return m(this.$peek_line())?!0:!1},w.$$arity=0);a.def(c,"$empty?",z=function(){return m(this.$peek_line())?
!1:!0},z.$$arity=0);a.alias(c,"eof?","empty?");a.def(c,"$peek_line",x=function(b){var d=x.$$p,c;d&&(x.$$p=null);var f=0;var g=arguments.length;for(c=Array(g);f<g;f++)c[f]=arguments[f];null==b&&(b=!1);if(m(d=e(this,a.find_super_dispatcher(this,"peek_line",x,!1),c,d)))return d;if(m(this.include_stack["$empty?"]()))return h;this.$pop_include();return this.$peek_line(b)},x.$$arity=-1);a.def(c,"$push_include",B=function(c,f,l,p,r){var v,u=h,y=h;null==f&&(f=h);null==l&&(l=h);null==p&&(p=1);null==r&&(r=
t([],{}));this.include_stack["$<<"]([this.lines,this.file,this.dir,this.path,this.lineno,this.maxdepth,this.process_lines]);if(m(this.file=f)){if(m(d("::","String")["$==="](f)))this.dir=d("::","File").$dirname(f);else if(m(n(q,"RUBY_ENGINE_OPAL")))this.dir=d("::","URI").$parse(d("::","File").$dirname(f=f.$to_s()));else{var w=[(u=d("::","File").$dirname(f.$path()))["$=="]("/")?"":u];e(this.dir=f.$dup(),"path=",a.to_a(w));w[k(w.length,1)];f=f.$to_s()}this.path=l=m(v=l)?v:d("::","File").$basename(f);
m(this.process_lines=e(f,"end_with?",a.to_a(n(q,"ASCIIDOC_EXTENSIONS").$keys())))&&(w=[l.$slice(0,l.$rindex(".")),m(r["$[]"]("partial-option"))?h:!0],e(this.includes,"[]=",a.to_a(w)),w[k(w.length,1)])}else this.dir=".",this.process_lines=!0,m(this.path=l)?(w=[n(q,"Helpers").$rootname(l),m(r["$[]"]("partial-option"))?h:!0],e(this.includes,"[]=",a.to_a(w)),w[k(w.length,1)]):this.path="<stdin>";this.lineno=p;m(m(v=this.maxdepth)?r["$key?"]("depth"):v)&&(m(g(f=r["$[]"]("depth").$to_i(),0))?(m(g(l=b(this.include_stack.$size(),
f),y=this.maxdepth["$[]"]("abs")))&&(l=f=y),this.maxdepth=t(["abs","curr","rel"],{abs:y,curr:l,rel:f})):this.maxdepth=t(["abs","curr","rel"],{abs:this.maxdepth["$[]"]("abs"),curr:this.include_stack.$size(),rel:0}));if(m((this.lines=this.$prepare_lines(c,t(["normalize","condense","indent"],{normalize:m(v=this.process_lines)?v:"chomp",condense:!1,indent:r["$[]"]("indent")})))["$empty?"]()))this.$pop_include();else{if(m(r["$key?"]("leveloffset"))){this.lines.$unshift("");this.lines.$unshift(":leveloffset: "+
r["$[]"]("leveloffset"));this.lines["$<<"]("");if(m(c=this.document.$attr("leveloffset")))this.lines["$<<"](":leveloffset: "+c);else this.lines["$<<"](":leveloffset!:");this.lineno=k(this.lineno,2)}this.look_ahead=0}return this},B.$$arity=-2);a.def(c,"$include_depth",L=function(){return this.include_stack.$size()},L.$$arity=0);a.def(c,"$exceeds_max_depth?",A=function(){var a,b;return m(a=m(b=this.maxdepth)?l(this.include_stack.$size(),this.maxdepth["$[]"]("curr")):b)?this.maxdepth["$[]"]("rel"):a},
A.$$arity=0);a.alias(c,"exceeded_max_depth?","exceeds_max_depth?");a.def(c,"$shift",C=function(){var b=C.$$p,d=h,c;b&&(C.$$p=null);var f=0;var g=arguments.length;for(c=Array(g);f<g;f++)c[f]=arguments[f];return m(this.unescape_next_line)?(this.unescape_next_line=!1,(d=e(this,a.find_super_dispatcher(this,"shift",C,!1),c,b)).$slice(1,d.$length())):e(this,a.find_super_dispatcher(this,"shift",C,!1),c,b)},C.$$arity=0);a.def(c,"$include_processors?",D=function(){var a;return m(this.include_processor_extensions["$nil?"]())?
m(m(a=this.document["$extensions?"]())?this.document.$extensions()["$include_processors?"]():a)?(this.include_processor_extensions=this.document.$extensions().$include_processors())["$!"]()["$!"]():this.include_processor_extensions=!1:this.include_processor_extensions["$!="](!1)},D.$$arity=0);a.def(c,"$create_include_cursor",J=function(a,b,e){var c=h;m(d("::","String")["$==="](a))?c=d("::","File").$dirname(a):m(n(q,"RUBY_ENGINE_OPAL"))?c=d("::","File").$dirname(a=a.$to_s()):(c=(c=d("::","File").$dirname(a.$path()))["$=="]("")?
"/":c,a=a.$to_s());return n(q,"Cursor").$new(a,c,b,e)},J.$$arity=3);a.def(c,"$to_s",E=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line: "+this.lineno+", include depth: "+this.include_stack.$size()+", include stack: ["+e(this.include_stack,"map",[],(a=function(a){null==a&&(a=h);return a.$to_s()},a.$$s=this,a.$$arity=1,a)).$join(", ")+"]}>"},E.$$arity=0);c.$private();a.def(c,"$prepare_lines",G=function(b,d){var c,f,g=G.$$p,l,p=h,r;g&&(G.$$p=null);
var v=0;var u=arguments.length;for(r=Array(u);v<u;v++)r[v]=arguments[v];null==d&&(d=t([],{}));g=e(this,a.find_super_dispatcher(this,"prepare_lines",G,!1),r,g);m(m(c=this.document)?this.document.$attributes()["$[]"]("skip-front-matter"):c)&&m(l=this["$skip_front_matter!"](g))&&(c=["front-matter",l.$join(n(q,"LF"))],e(this.document.$attributes(),"[]=",a.to_a(c)),c[k(c.length,1)]);if(m(d.$fetch("condense",!0)))for(;m(m(f=p=g["$[]"](-1))?p["$empty?"]():f);)g.$pop();if(m(d["$[]"]("indent")))n(q,"Parser")["$adjust_indentation!"](g,
d["$[]"]("indent").$to_i(),this.document.$attr("tabsize").$to_i());return g},G.$$arity=-2);a.def(c,"$process_line",V=function(a){var d,e;if(!m(this.process_lines))return a;if(m(a["$empty?"]()))return this.look_ahead=b(this.look_ahead,1),a;if(m(m(d=m(e=a["$end_with?"]("]"))?a["$start_with?"]("[")["$!"]():e)?a["$include?"]("::"):d)){if(m(m(d=a["$include?"]("if"))?n(q,"ConditionalDirectiveRx")["$=~"](a):d)){if(((d=f["~"])===h?h:d["$[]"](1))["$=="]("\\"))return this.unescape_next_line=!0,this.look_ahead=
b(this.look_ahead,1),a.$slice(1,a.$length());if(m(this.$preprocess_conditional_directive((d=f["~"])===h?h:d["$[]"](2),(d=f["~"])===h?h:d["$[]"](3),(d=f["~"])===h?h:d["$[]"](4),(d=f["~"])===h?h:d["$[]"](5))))return this.$shift(),h;this.look_ahead=b(this.look_ahead,1);return a}if(m(this.skipping))return this.$shift(),h;if(m(m(d=a["$start_with?"]("inc","\\inc"))?n(q,"IncludeDirectiveRx")["$=~"](a):d)){if(((d=f["~"])===h?h:d["$[]"](1))["$=="]("\\"))return this.unescape_next_line=!0,this.look_ahead=b(this.look_ahead,
1),a.$slice(1,a.$length());if(m(this.$preprocess_include_directive((d=f["~"])===h?h:d["$[]"](2),(d=f["~"])===h?h:d["$[]"](3))))return h;this.look_ahead=b(this.look_ahead,1);return a}this.look_ahead=b(this.look_ahead,1);return a}if(m(this.skipping))return this.$shift(),h;this.look_ahead=b(this.look_ahead,1);return a},V.$$arity=1);a.def(c,"$preprocess_conditional_directive",U=function(a,b,d,c){var g,l,p,r,v,u=h,y=h,w=h,z=h,x=z=u=h;m(u=b["$empty?"]())||(b=b.$downcase());if(a["$=="]("endif"))return m(c)?
this.$logger().$error(this.$message_with_context("malformed preprocessor directive - text not permitted: endif::"+b+"["+c+"]",t(["source_location"],{source_location:this.$cursor()}))):m(this.conditional_stack["$empty?"]())?this.$logger().$error(this.$message_with_context("unmatched preprocessor directive: endif::"+b+"[]",t(["source_location"],{source_location:this.$cursor()}))):m(m(g=u)?g:b["$=="]((y=this.conditional_stack["$[]"](-1))["$[]"]("target")))?(this.conditional_stack.$pop(),this.skipping=
m(this.conditional_stack["$empty?"]())?!1:this.conditional_stack["$[]"](-1)["$[]"]("skipping")):this.$logger().$error(this.$message_with_context("mismatched preprocessor directive: endif::"+b+"[], expected endif::"+y["$[]"]("target")+"[]",t(["source_location"],{source_location:this.$cursor()}))),!0;if(m(this.skipping))w=!1;else if(z=a,"ifdef"["$==="](z)){if(m(u))return this.$logger().$error(this.$message_with_context("malformed preprocessor directive - missing target: ifdef::["+c+"]",t(["source_location"],
{source_location:this.$cursor()}))),!0;z=d;w=","["$==="](z)?e(b.$split(",",-1),"none?",[],(l=function(a){var b=l.$$s||this;null==b.document&&(b.document=h);null==a&&(a=h);return b.document.$attributes()["$key?"](a)},l.$$s=this,l.$$arity=1,l)):"+"["$==="](z)?e(b.$split("+",-1),"any?",[],(p=function(a){var b=p.$$s||this;null==b.document&&(b.document=h);null==a&&(a=h);return b.document.$attributes()["$key?"](a)["$!"]()},p.$$s=this,p.$$arity=1,p)):this.document.$attributes()["$key?"](b)["$!"]()}else if("ifndef"["$==="](z)){if(m(u))return this.$logger().$error(this.$message_with_context("malformed preprocessor directive - missing target: ifndef::["+
c+"]",t(["source_location"],{source_location:this.$cursor()}))),!0;z=d;w=","["$==="](z)?e(b.$split(",",-1),"any?",[],(r=function(a){var b=r.$$s||this;null==b.document&&(b.document=h);null==a&&(a=h);return b.document.$attributes()["$key?"](a)},r.$$s=this,r.$$arity=1,r)):"+"["$==="](z)?e(b.$split("+",-1),"all?",[],(v=function(a){var b=v.$$s||this;null==b.document&&(b.document=h);null==a&&(a=h);return b.document.$attributes()["$key?"](a)},v.$$s=this,v.$$arity=1,v)):this.document.$attributes()["$key?"](b)}else if("ifeval"["$==="](z))if(m(u))if(m(m(g=
c)?n(q,"EvalExpressionRx")["$=~"](c.$strip()):g))u=(g=f["~"])===h?h:g["$[]"](1),z=(g=f["~"])===h?h:g["$[]"](2),x=(g=f["~"])===h?h:g["$[]"](3),w=m(this.$resolve_expr_val(u).$send(z,this.$resolve_expr_val(x)))?!1:!0;else return this.$logger().$error(this.$message_with_context("malformed preprocessor directive - "+(m(c)?"invalid expression":"missing expression")+": ifeval::["+c+"]",t(["source_location"],{source_location:this.$cursor()}))),!0;else return this.$logger().$error(this.$message_with_context("malformed preprocessor directive - target not permitted: ifeval::"+
b+"["+c+"]",t(["source_location"],{source_location:this.$cursor()}))),!0;m(m(g=a["$=="]("ifeval"))?g:c["$!"]())?(m(w)&&(this.skipping=!0),this.conditional_stack["$<<"](t(["target","skip","skipping"],{target:b,skip:w,skipping:this.skipping}))):m(m(g=this.skipping)?g:w)||(this.$replace_next_line(c.$rstrip()),this.$unshift(""),m(c["$start_with?"]("include::"))&&(this.look_ahead=k(this.look_ahead,1)));return!0},U.$$arity=4);a.def(c,"$preprocess_include_directive",I=function(c,p){var r,v,y,w,z,x,B,L,A,
C,D,J=this,E=h,G=h,ba=h,V=h,U=h,Z=h,I=h,S=h,X=h,fa=h,sa=h,H=h,O=sa=h,F=h,Q=h,pa=h,W=h,oa=h,aa=h,T=h,ca=h,K=h,ka=h,ra=h,M=h,ta=h;E=J.document;if(m(m(r=(G=c)["$include?"](n(q,"ATTR_REF_HEAD")))?(G=E.$sub_attributes(c,t(["attribute_missing"],{attribute_missing:(ba=m(v=E.$attributes()["$[]"]("attribute-missing"))?v:n(q,"Compliance").$attribute_missing())["$=="]("warn")?"drop-line":ba})))["$empty?"]():r)){if(m((r=ba["$=="]("drop-line"))?E.$sub_attributes(b(c," "),t(["attribute_missing","drop_line_severity"],
{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():ba["$=="]("drop-line")))return e(J.$logger(),"info",[],(y=function(){var a=y.$$s||this;return a.$message_with_context("include dropped due to missing attribute: include::"+c+"["+p+"]",t(["source_location"],{source_location:a.$cursor()}))},y.$$s=J,y.$$arity=0,y)),J.$shift(),!0;if(m(E.$parse_attributes(p,[],t(["sub_input"],{sub_input:!0}))["$[]"]("optional-option")))return e(J.$logger(),"info",[],(w=function(){var a=w.$$s||this;
return a.$message_with_context("optional include dropped "+(m(ba["$=="]("warn")?E.$sub_attributes(b(c," "),t(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():ba["$=="]("warn"))?"due to missing attribute":"because resolved target is blank")+": include::"+c+"["+p+"]",t(["source_location"],{source_location:a.$cursor()}))},w.$$s=J,w.$$arity=0,w)),J.$shift(),!0;J.$logger().$warn(J.$message_with_context("include dropped "+(m((r=ba["$=="]("warn"))?
E.$sub_attributes(b(c," "),t(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():ba["$=="]("warn"))?"due to missing attribute":"because resolved target is blank")+": include::"+c+"["+p+"]",t(["source_location"],{source_location:J.$cursor()})));return J.$replace_next_line("Unresolved directive in "+J.path+" - include::"+c+"["+p+"]")}if(m(m(r=J["$include_processors?"]())?V=e(J.include_processor_extensions,"find",[],(z=function(a){null==
a&&(a=h);return a.$instance()["$handles?"](G)},z.$$s=J,z.$$arity=1,z)):r))return J.$shift(),V.$process_method()["$[]"](E,J,G,E.$parse_attributes(p,[],t(["sub_input"],{sub_input:!0}))),!0;if(m(l(E.$safe(),d(n(q,"SafeMode"),"SECURE"))))return J.$replace_next_line("link:"+G+"[]");if(m(J.maxdepth)){if(m(l(J.include_stack.$size(),J.maxdepth["$[]"]("curr"))))return J.$logger().$error(J.$message_with_context("maximum include depth of "+J.maxdepth["$[]"]("rel")+" exceeded",t(["source_location"],{source_location:J.$cursor()}))),
h;U=E.$parse_attributes(p,[],t(["sub_input"],{sub_input:!0}));v=J.$resolve_include_path(G,p,U);r=a.to_ary(v);Z=null==r[0]?h:r[0];I=null==r[1]?h:r[1];S=null==r[2]?h:r[2];v;if(I["$=="]("file"))X=d("::","File").$method("open"),fa=n(q,"FILE_READ_MODE");else if(I["$=="]("uri"))X=d("::","OpenURI").$method("open_uri"),fa=n(q,"URI_READ_MODE");else return Z;if(!m(n(q,"RUBY_ENGINE_OPAL"))){if(m(r=sa=U["$[]"]("encoding")))a:{try{var N=d("::","Encoding").$find(sa);break a}catch(Ra){if(a.rescue(Ra,[n(q,"StandardError")]))try{N=
h;break a}finally{a.pop_exception()}else throw Ra;}N=void 0}else N=r;m(N)&&(H=[1,sa],e(sa=fa.$split(":"),"[]=",a.to_a(H)),H[k(H.length,1)],fa=sa.$join(":"))}O=F=h;m(p)&&(m(U["$key?"]("lines"))?(O=[],e(J.$split_delimited_value(U["$[]"]("lines")),"each",[],(x=function(d){null==d&&(d=h);if(m(d["$include?"](".."))){var e=d.$partition("..");var c=a.to_ary(e);d=null==c[0]?h:c[0];var f=null==c[2]?h:c[2];e;e=O;m(c=f["$empty?"]())||(c=f=f.$to_i(),c="number"===typeof c?0>c:c["$<"](0));d=m(c)?[d.$to_i(),1/0]:
a.Range.$new(d.$to_i(),f,!1).$to_a();return O=b(e,d)}return O["$<<"](d.$to_i())},x.$$s=J,x.$$arity=1,x)),O=m(O["$empty?"]())?h:O.$sort().$uniq()):m(U["$key?"]("tag"))?m(m(r=(Q=U["$[]"]("tag"))["$empty?"]())?r:Q["$=="]("!"))||(F=m(Q["$start_with?"]("!"))?u(Q.$slice(1,Q.$length()),!1):u(Q,!0)):m(U["$key?"]("tags"))&&(F=t([],{}),e(J.$split_delimited_value(U["$[]"]("tags")),"each",[],(B=function(b){var d;null==b&&(b=h);if(m(m(d=b["$empty?"]())?d:b["$=="]("!")))return h;H=m(b["$start_with?"]("!"))?[b.$slice(1,
b.$length()),!1]:[b,!0];e(F,"[]=",a.to_a(H));return H[k(H.length,1)]},B.$$s=J,B.$$arity=1,B)),m(F["$empty?"]())&&(F=h)));if(m(O)){r=[[],h,0];pa=r[0];W=r[1];oa=r[2];r;try{(function(){var c=a.new_brk();try{return e(X,"call",[Z,fa],(L=function(c){var f=L.$$s||this,g,k=h;null==c&&(c=h);k=h;return function(){var l=a.new_brk();try{return e(c,"each_line",[],(g=function(e){var c,f,g=h;null==e&&(e=h);oa=b(oa,1);if(m(m(c=k)?c:m(f=d("::","Float")["$==="](g=O["$[]"](0)))?k=g["$infinite?"]():f))return W=m(c=W)?
c:oa,pa["$<<"](e);g["$=="](oa)&&(W=m(c=W)?c:oa,pa["$<<"](e),O.$shift());if(m(O["$empty?"]()))a.brk(h,l);else return h},g.$$s=f,g.$$brk=l,g.$$arity=1,g))}catch(cb){if(cb===l)return cb.$v;throw cb;}}()},L.$$s=J,L.$$brk=c,L.$$arity=1,L))}catch(db){if(db===c)return db.$v;throw db;}})()}catch(Ra){if(a.rescue(Ra,[n(q,"StandardError")]))try{return J.$logger().$error(J.$message_with_context("include "+I+" not readable: "+Z,t(["source_location"],{source_location:J.$cursor()}))),J.$replace_next_line("Unresolved directive in "+
J.path+" - include::"+G+"["+p+"]")}finally{a.pop_exception()}else throw Ra;}J.$shift();m(W)&&(H=["partial-option",""],e(U,"[]=",a.to_a(H)),H[k(H.length,1)],J.$push_include(pa,Z,S,W,U))}else if(m(F)){r=[[],h,0,[],d("::","Set").$new(),h];pa=r[0];W=r[1];oa=r[2];aa=r[3];T=r[4];ca=r[5];r;m(F["$key?"]("**"))?m(F["$key?"]("*"))?(K=ka=F.$delete("**"),ra=F.$delete("*")):K=ka=ra=F.$delete("**"):K=m(F["$key?"]("*"))?ka=(ra=F.$delete("*"))["$!"]():ka=!1;try{e(X,"call",[Z,fa],(A=function(d){var c=A.$$s||this,
g,k=h,l=h;null==d&&(d=h);var p=["::","[]"];k=p[0];l=p[1];p;return e(d,"each_line",[],(g=function(d){var c=g.$$s||this,p,r,v,H=h,u=h,y=h;null==d&&(d=h);oa=b(oa,1);return m(m(p=m(r=d["$include?"](k))?d["$include?"](l):r)?n(q,"TagDirectiveRx")["$=~"](d):p)?(H=(p=f["~"])===h?h:p["$[]"](2),m((p=f["~"])===h?h:p["$[]"](1))?H["$=="](ca)?(aa.$pop(),r=m(aa["$empty?"]())?[h,ka]:aa["$[]"](-1),p=a.to_ary(r),ca=null==p[0]?h:p[0],K=null==p[1]?h:p[1],r):m(F["$key?"](H))?(u=c.$create_include_cursor(Z,G,oa),m(y=e(aa,
"rindex",[],(v=function(a){null==a&&(a=h);return a["$=="](H)},v.$$s=c,v.$$arity=1,v.$$has_trailing_comma_in_args=!0,v)))?(y["$=="](0)?aa.$shift():aa.$delete_at(y),c.$logger().$warn(c.$message_with_context("mismatched end tag (expected '"+ca+"' but found '"+H+"') at line "+oa+" of include "+I+": "+Z,t(["source_location","include_location"],{source_location:c.$cursor(),include_location:u})))):c.$logger().$warn(c.$message_with_context("unexpected end tag '"+H+"' at line "+oa+" of include "+I+": "+Z,
t(["source_location","include_location"],{source_location:c.$cursor(),include_location:u})))):h:m(F["$key?"](H))?(T["$<<"](H),aa["$<<"]([ca=H,K=F["$[]"](H),oa])):m(ra["$nil?"]()["$!"]())?(K=m(m(p=ca)?K["$!"]():p)?!1:ra,aa["$<<"]([ca=H,K,oa])):h):m(K)?(W=m(p=W)?p:oa,pa["$<<"](d)):h},g.$$s=c,g.$$arity=1,g))},A.$$s=J,A.$$arity=1,A))}catch(Ra){if(a.rescue(Ra,[n(q,"StandardError")]))try{return J.$logger().$error(J.$message_with_context("include "+I+" not readable: "+Z,t(["source_location"],{source_location:J.$cursor()}))),
J.$replace_next_line("Unresolved directive in "+J.path+" - include::"+G+"["+p+"]")}finally{a.pop_exception()}else throw Ra;}m(aa["$empty?"]())||e(aa,"each",[],(C=function(a,b,d){b=C.$$s||this;null==a&&(a=h);null==d&&(d=h);return b.$logger().$warn(b.$message_with_context("detected unclosed tag '"+a+"' starting at line "+d+" of include "+I+": "+Z,t(["source_location","include_location"],{source_location:b.$cursor(),include_location:b.$create_include_cursor(Z,G,d)})))},C.$$s=J,C.$$arity=3,C));m((M=k(F.$keys(),
T.$to_a()))["$empty?"]())||J.$logger().$warn(J.$message_with_context("tag"+(m(g(M.$size(),1))?"s":"")+" '"+M.$join(", ")+"' not found in include "+I+": "+Z,t(["source_location"],{source_location:J.$cursor()})));J.$shift();m(W)&&(m(m(r=m(v=ka)?ra:v)?F["$empty?"]():r)||(H=["partial-option",""],e(U,"[]=",a.to_a(H)),H[k(H.length,1)]),J.$push_include(pa,Z,S,W,U))}else try{ta=e(X,"call",[Z,fa],(D=function(a){null==a&&(a=h);return a.$read()},D.$$s=J,D.$$arity=1,D)),J.$shift(),J.$push_include(ta,Z,S,1,U)}catch(Ra){if(a.rescue(Ra,
[n(q,"StandardError")]))try{return J.$logger().$error(J.$message_with_context("include "+I+" not readable: "+Z,t(["source_location"],{source_location:J.$cursor()}))),J.$replace_next_line("Unresolved directive in "+J.path+" - include::"+G+"["+p+"]")}finally{a.pop_exception()}else throw Ra;}return!0}return h},I.$$arity=2);a.def(c,"$resolve_include_path",S=function(a,b,c){var f,g,k,l=h,p=h;l=h;l=this.document;if(m(m(f=n(q,"Helpers")["$uriish?"](a))?f:m(d("::","String")["$==="](this.dir))?h:a=""+this.dir+
"/"+a)){if(!m(l["$attr?"]("allow-uri-read")))return this.$replace_next_line("link:"+a+"["+b+"]");m(l["$attr?"]("cache-uri"))?m((g=d("::","OpenURI","skip_raise"))&&(f=d(g,"Cache","skip_raise"))?"constant":h)||n(q,"Helpers").$require_library("open-uri/cached","open-uri-cached"):m(n(q,"RUBY_ENGINE_OPAL")["$!"]())&&d("::","OpenURI");return[d("::","URI").$parse(a),"uri",a]}p=l.$normalize_system_path(a,this.dir,h,t(["target_name"],{target_name:"include file"}));if(!m(d("::","File")["$file?"](p))){if(m(c["$[]"]("optional-option")))return e(this.$logger(),
"info",[],(k=function(){var a=k.$$s||this;return a.$message_with_context("optional include dropped because include file not found: "+p,t(["source_location"],{source_location:a.$cursor()}))},k.$$s=this,k.$$arity=0,k)),this.$shift(),!0;this.$logger().$error(this.$message_with_context("include file not found: "+p,t(["source_location"],{source_location:this.$cursor()})));return this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+a+"["+b+"]")}l=l.$path_resolver().$relative_path(p,
l.$base_dir());return[p,"file",l]},S.$$arity=3);a.def(c,"$pop_include",aa=function(){if(m(g(this.include_stack.$size(),0))){var b=this.include_stack.$pop();var d=a.to_ary(b);this.lines=null==d[0]?h:d[0];this.file=null==d[1]?h:d[1];this.dir=null==d[2]?h:d[2];this.path=null==d[3]?h:d[3];this.lineno=null==d[4]?h:d[4];this.maxdepth=null==d[5]?h:d[5];this.process_lines=null==d[6]?h:d[6];b;this.look_ahead=0}return h},aa.$$arity=0);a.def(c,"$split_delimited_value",T=function(a){return m(a["$include?"](","))?
a.$split(","):a.$split(";")},T.$$arity=1);a.def(c,"$skip_front_matter!",ca=function(d,c){var f;null==c&&(c=!0);var g=h;if(d["$[]"](0)["$=="]("---")){var k=d.$drop(0);d.$shift();g=[];m(c)&&(this.lineno=b(this.lineno,1));for(;m(m(f=d["$empty?"]()["$!"]())?d["$[]"](0)["$!="]("---"):f);)g["$<<"](d.$shift()),m(c)&&(this.lineno=b(this.lineno,1));m(d["$empty?"]())?(e(d,"unshift",a.to_a(k)),m(c)&&(this.lineno=0),g=h):(d.$shift(),m(c)&&(this.lineno=b(this.lineno,1)))}return g},ca.$$arity=-2);return(a.def(c,
"$resolve_expr_val",K=function(a){var b,d;m(m(b=m(d=a["$start_with?"]('"'))?a["$end_with?"]('"'):d)?b:m(d=a["$start_with?"]("'"))?a["$end_with?"]("'"):d)?(b=!0,a=a.$slice(1,k(a.$length(),1))):b=!1;m(a["$include?"](n(q,"ATTR_REF_HEAD")))&&(a=this.document.$sub_attributes(a,t(["attribute_missing"],{attribute_missing:"drop"})));return m(b)?a:m(a["$empty?"]())?h:a["$=="]("true")?!0:a["$=="]("false")?!1:m(a.$rstrip()["$empty?"]())?" ":m(a["$include?"]("."))?a.$to_f():a.$to_i()},K.$$arity=1),h)&&"resolve_expr_val"})(c[0],
n(c,"Reader"),c)}(q[0],q)};Opal.modules["asciidoctor/section"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var g=[],k=a.nil,l=a.const_get_relative,q=a.module,h=a.klass,d=a.hash2,n=a.send,p=a.truthy;a.add_stubs("$attr_accessor $attr_reader $=== $+ $level $special $generate_id $title $== $> $sectnum $reftext $! $empty? $sub_placeholder $sub_quotes $compat_mode $[] $attributes $context $assign_numeral $class $object_id $inspect $size $length $chr $[]= $- $gsub $downcase $delete $tr_s $end_with? $chop $start_with? $slice $key? $catalog $unique_id_start_index".split(" "));
return function(c,g){c=[q(c,"Asciidoctor")].concat(g);(function(c,$super,f){c=h(c,$super,"Section");var g=[c].concat(f),m,q,r,v,t,u,w;c.$$prototype.document=c.$$prototype.level=c.$$prototype.parent=c.$$prototype.numeral=c.$$prototype.numbered=c.$$prototype.sectname=c.$$prototype.title=c.$$prototype.blocks=k;c.$attr_accessor("index");c.$attr_accessor("sectname");c.$attr_accessor("special");c.$attr_accessor("numbered");c.$attr_reader("caption");a.def(c,"$initialize",m=function(c,f,h,q){var r,v;m.$$p&&
(m.$$p=null);null==c&&(c=k);null==f&&(f=k);null==h&&(h=!1);null==q&&(q=d([],{}));n(this,a.find_super_dispatcher(this,"initialize",m,!1),[c,"section",q],null);p(l(g,"Section")["$==="](c))?(r=[p(v=f)?v:b(c.$level(),1),c.$special()],this.level=r[0],this.special=r[1]):(r=[p(v=f)?v:1,!1],this.level=r[0],this.special=r[1]);r;this.numbered=h;return this.index=0},m.$$arity=-1);a.alias(c,"name","title");a.def(c,"$generate_id",q=function(){return l(g,"Section").$generate_id(this.$title(),this.document)},q.$$arity=
0);a.def(c,"$sectnum",r=function(a,b){var d;null==a&&(a=".");null==b&&(b=k);b=p(d=b)?d:b["$=="](!1)?"":a;var c=this.level;c="number"===typeof c?1<c:c["$>"](1);return p(p(d=c)?l(g,"Section")["$==="](this.parent):d)?""+this.parent.$sectnum(a,a)+this.numeral+b:""+this.numeral+b},r.$$arity=-1);a.def(c,"$xreftext",v=function(a){var b,d=k,c=k,f=k;null==a&&(a=k);p(p(b=d=this.$reftext())?d["$empty?"]()["$!"]():b)?b=d:p(a)?(p(this.numbered)?"full"["$==="](a)?(a=p(p(b=(c=this.sectname)["$=="]("chapter"))?b:
c["$=="]("appendix"))?this.$sub_placeholder(this.$sub_quotes("_%s_"),this.$title()):this.$sub_placeholder(this.$sub_quotes(p(this.document.$compat_mode())?"``%s''":'"`%s`"'),this.$title()),a=p(f=this.document.$attributes()["$[]"](""+c+"-refsig"))?""+f+" "+this.$sectnum(".",",")+" "+a:""+this.$sectnum(".",",")+" "+a):a="short"["$==="](a)?p(f=this.document.$attributes()["$[]"](""+this.sectname+"-refsig"))?""+f+" "+this.$sectnum(".",""):this.$sectnum(".",""):p(p(b=(c=this.sectname)["$=="]("chapter"))?
b:c["$=="]("appendix"))?this.$sub_placeholder(this.$sub_quotes("_%s_"),this.$title()):this.$title():a=p(p(b=(c=this.sectname)["$=="]("chapter"))?b:c["$=="]("appendix"))?this.$sub_placeholder(this.$sub_quotes("_%s_"),this.$title()):this.$title(),b=a):b=this.$title();return b},v.$$arity=-1);a.def(c,"$<<",t=function(b){var d=t.$$p,c;d&&(t.$$p=null);var f=0;var g=arguments.length;for(c=Array(g);f<g;f++)c[f]=arguments[f];b.$context()["$=="]("section")&&this.$assign_numeral(b);return n(this,a.find_super_dispatcher(this,
"<<",t,!1),c,d)},t.$$arity=1);a.def(c,"$to_s",u=function(){var b=u.$$p,d;b&&(u.$$p=null);var c=0;var f=arguments.length;for(d=Array(f);c<f;c++)d[c]=arguments[c];return p(this.title)?(b=p(this.numbered)?""+this.$sectnum()+" "+this.title:this.title,"#<"+this.$class()+"@"+this.$object_id()+" {level: "+this.level+", title: "+b.$inspect()+", blocks: "+this.blocks.$size()+"}>"):n(this,a.find_super_dispatcher(this,"to_s",u,!1),d,b)},u.$$arity=0);return(a.defs(c,"$generate_id",w=function(d,c){var f,h,m,q=
k,r=h=k;var v=c.$attributes();var t=p(f=v["$[]"]("idprefix"))?f:"_";p(m=v["$[]"]("idseparator"))?(p(f=m.$length()["$=="](1))?v=f:p(h=(q=m["$empty?"]())["$!"]())?(h=["idseparator",m.$chr()],n(v,"[]=",a.to_a(h)),m=h,v=h.length,v="number"===typeof v?v-1:v["$-"](1),v=m=m[v]):v=h,p(v)&&(r=p(p(f=m["$=="]("-"))?f:m["$=="]("."))?" .-":" "+m+".-")):(f=["_"," _.-"],m=f[0],r=f[1],f);d=""+t+d.$downcase().$gsub(l(g,"InvalidSectionIdCharsRx"),"");p(q)?d=d.$delete(" "):(d=d.$tr_s(r,m),p(d["$end_with?"](m))&&(d=
d.$chop()),p(p(f=t["$empty?"]())?d["$start_with?"](m):f)&&(d=d.$slice(1,d.$length())));if(p(c.$catalog()["$[]"]("refs")["$key?"](d))){c=c.$catalog()["$[]"]("refs");for(f=l(g,"Compliance").$unique_id_start_index();p(c["$[]"](t=""+d+m+f));)f=b(f,1);return t}return d},w.$$arity=2),k)&&"generate_id"})(c[0],l(c,"AbstractBlock"),c)}(g[0],g)};Opal.modules["asciidoctor/stylesheets"]=function(a){var b=[],g=a.nil,k=a.const_get_qualified,l=a.const_get_relative,q=a.module,h=a.klass,d=a.truthy,n=a.hash2;a.add_stubs("$join $new $rstrip $read $primary_stylesheet_data $write $primary_stylesheet_name $stylesheet_basename $for $read_stylesheet $coderay_stylesheet_data $coderay_stylesheet_name $pygments_stylesheet_data $pygments_stylesheet_name".split(" "));
return function(b,c){b=[q(b,"Asciidoctor")].concat(c);(function(b,$super,e){b=h(b,$super,"Stylesheets");var c=[b].concat(e),p,q,r,v,t,u,y,w,z,x,B,A,L;b.$$prototype.primary_stylesheet_data=g;a.const_set(c[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.const_set(c[0],"STYLESHEETS_DIR",k("::","File").$join(l(c,"DATA_DIR"),"stylesheets"));b.__instance__=b.$new();a.defs(b,"$instance",p=function(){null==this.__instance__&&(this.__instance__=g);return this.__instance__},p.$$arity=0);a.def(b,"$primary_stylesheet_name",
q=function(){return l(c,"DEFAULT_STYLESHEET_NAME")},q.$$arity=0);a.def(b,"$primary_stylesheet_data",r=function(){var a;return this.primary_stylesheet_data=d(a=this.primary_stylesheet_data)?a:k("::","File").$read(k("::","File").$join(l(c,"STYLESHEETS_DIR"),"asciidoctor-default.css"),n(["mode"],{mode:l(c,"FILE_READ_MODE")})).$rstrip()},r.$$arity=0);a.def(b,"$embed_primary_stylesheet",v=function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"},v.$$arity=0);a.def(b,"$write_primary_stylesheet",
t=function(a){null==a&&(a=".");return k("::","File").$write(k("::","File").$join(a,this.$primary_stylesheet_name()),this.$primary_stylesheet_data(),n(["mode"],{mode:l(c,"FILE_WRITE_MODE")}))},t.$$arity=-1);a.def(b,"$coderay_stylesheet_name",u=function(){return l(c,"SyntaxHighlighter").$for("coderay").$stylesheet_basename()},u.$$arity=0);a.def(b,"$coderay_stylesheet_data",y=function(){return l(c,"SyntaxHighlighter").$for("coderay").$read_stylesheet()},y.$$arity=0);a.def(b,"$embed_coderay_stylesheet",
w=function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"},w.$$arity=0);a.def(b,"$write_coderay_stylesheet",z=function(a){null==a&&(a=".");return k("::","File").$write(k("::","File").$join(a,this.$coderay_stylesheet_name()),this.$coderay_stylesheet_data(),n(["mode"],{mode:l(c,"FILE_WRITE_MODE")}))},z.$$arity=-1);a.def(b,"$pygments_stylesheet_name",x=function(a){null==a&&(a=g);return l(c,"SyntaxHighlighter").$for("pygments").$stylesheet_basename(a)},x.$$arity=-1);a.def(b,"$pygments_stylesheet_data",
B=function(a){null==a&&(a=g);return l(c,"SyntaxHighlighter").$for("pygments").$read_stylesheet(a)},B.$$arity=-1);a.def(b,"$embed_pygments_stylesheet",A=function(a){null==a&&(a=g);return"<style>\n"+this.$pygments_stylesheet_data(a)+"\n</style>"},A.$$arity=-1);return(a.def(b,"$write_pygments_stylesheet",L=function(a,b){null==a&&(a=".");null==b&&(b=g);return k("::","File").$write(k("::","File").$join(a,this.$pygments_stylesheet_name(b)),this.$pygments_stylesheet_data(b),n(["mode"],{mode:l(c,"FILE_WRITE_MODE")}))},
L.$$arity=-1),g)&&"write_pygments_stylesheet"})(b[0],null,b)}(b[0],b)};Opal.modules["asciidoctor/table"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}
function h(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var d=[],n=a.nil,p=a.const_get_qualified,r=a.const_get_relative,t=a.module,m=a.klass,e=a.hash2,f=a.send,u=a.truthy,w=a.gvars;a.add_stubs("$attr_accessor $attr_reader $new $[] $> $to_i $< $== $[]= $- $attributes $truncate $* $/ $to_f $empty? $body $each $<< $size $+ $assign_column_widths $warn $logger $update_attributes $assign_width $round $map $shift $reinitialize $head= $nil? $unshift $pop $foot= $parent $sourcemap $dup $header_row? $table $style $merge $delete $start_with? $rstrip $slice $length $advance $lstrip $strip $split $include? $readlines $catalog_inline_anchor $=~ $apply_subs $convert $text $!= $file $lineno $to_s $include $to_set $mark $key? $nested? $document $error $message_with_context $cursor_at_prev_line $nil_or_empty? $escape $columns $match $chop $end_with? $gsub $! $push_cellspec $cell_open? $close_cell $take_cellspec $squeeze $upto $times $cursor_before_mark $rowspan $activate_rowspan $colspan $end_of_row? $close_row $private $rows $effective_column_visits".split(" "));
return function(d,c){d=[t(d,"Asciidoctor")].concat(c);(function(d,$super,c){d=m(d,$super,"Table");var p=[d].concat(c),v,t,y,w,z;d.$$prototype.attributes=d.$$prototype.document=d.$$prototype.has_header_option=d.$$prototype.rows=d.$$prototype.columns=n;a.const_set(p[0],"DEFAULT_PRECISION",4);(function(b,$super,d){b=m(b,$super,"Rows");[b].concat(d);var c,f,g;b.$$prototype.head=b.$$prototype.body=b.$$prototype.foot=n;b.$attr_accessor("head","foot","body");a.def(b,"$initialize",c=function(a,b,d){null==
a&&(a=[]);null==b&&(b=[]);null==d&&(d=[]);this.head=a;this.foot=b;return this.body=d},c.$$arity=-1);a.alias(b,"[]","send");a.def(b,"$by_section",f=function(){return[["head",this.head],["body",this.body],["foot",this.foot]]},f.$$arity=0);return(a.def(b,"$to_h",g=function(){return e(["head","body","foot"],{head:this.head,body:this.body,foot:this.foot})},g.$$arity=0),n)&&"to_h"})(p[0],null,p);d.$attr_accessor("columns");d.$attr_accessor("rows");d.$attr_accessor("has_header_option");d.$attr_reader("caption");
a.def(d,"$initialize",v=function(d,e){var c,h,m=n,t=n,y=n;v.$$p&&(v.$$p=null);f(this,a.find_super_dispatcher(this,"initialize",v,!1),[d,"table"],null);this.rows=r(p,"Rows").$new();this.columns=[];this.has_header_option=!1;u(m=e["$[]"]("width"))?u(u(c=b(t=m.$to_i(),100))?c:g(t,1))&&!u(t["$=="](0)?u(h=m["$=="]("0"))?h:m["$=="]("0%"):t["$=="](0))&&(t=100):t=100;d=["tablepcwidth",t];f(this.attributes,"[]=",a.to_a(d));d[k(d.length,1)];u(this.document.$attributes()["$[]"]("pagewidth"))&&(d=["tableabswidth",
(y=l(q(t,100),this.document.$attributes()["$[]"]("pagewidth").$to_f()).$truncate(r(p,"DEFAULT_PRECISION")))["$=="](y.$to_i())?y.$to_i():y],f(this.attributes,"[]=",a.to_a(d)),d[k(d.length,1)]);return u(e["$[]"]("rotate-option"))?(d=["orientation","landscape"],f(this.attributes,"[]=",a.to_a(d)),d[k(d.length,1)]):n},v.$$arity=2);a.def(d,"$header_row?",t=function(){var a,b;return u(u(a=b=this.has_header_option)?this.rows.$body()["$empty?"]():a)?b:n},t.$$arity=0);a.def(d,"$create_columns",y=function(d){var e,
c,m=n,l=n,q=n,v=n;v=n;m=[];l=n;q=0;f(d,"each",[],(e=function(a){var b=e.$$s||this,d;null==a&&(a=n);var c=a["$[]"]("width");m["$<<"](r(p,"Column").$new(b,m.$size(),a));return u(g(c,0))?(l=u(d=l)?d:[])["$<<"](m["$[]"](-1)):q=h(q,c)},e.$$s=this,e.$$arity=1,e));u(b(v=(this.columns=m).$size(),0))&&(v=["colcount",v],f(this.attributes,"[]=",a.to_a(v)),v[k(v.length,1)],u(u(c=b(q,0))?c:l)||(q=n),this.$assign_column_widths(q,l));return n},y.$$arity=1);a.def(d,"$assign_column_widths",w=function(a,d){var c,g,
m,l=n,v=n,t=n,y=n,w=n;null==a&&(a=n);null==d&&(d=n);l=r(p,"DEFAULT_PRECISION");v=t=0;u(a)?(u(d)&&(u(b(a,100))?(y=0,this.$logger().$warn("total column width must not exceed 100% when using autowidth columns; got "+a+"%")):(y=q(k(100,a),d.$size()).$truncate(l),y.$to_i()["$=="](y)&&(y=y.$to_i()),a=100),w=e(["width","autowidth-option"],{width:y,"autowidth-option":""}),f(d,"each",[],(c=function(a){null==a&&(a=n);return a.$update_attributes(w)},c.$$s=this,c.$$arity=1,c))),f(this.columns,"each",[],(g=function(b){null==
b&&(b=n);return v=h(v,t=b.$assign_width(n,a,l))},g.$$s=this,g.$$arity=1,g))):(t=q(100,this.columns.$size()).$truncate(l),t.$to_i()["$=="](t)&&(t=t.$to_i()),f(this.columns,"each",[],(m=function(a){null==a&&(a=n);return v=h(v,a.$assign_width(t,n,l))},m.$$s=this,m.$$arity=1,m)));v["$=="](100)||this.columns["$[]"](-1).$assign_width(h(k(100,v),t).$round(l),n,l);return n},w.$$arity=-1);return(a.def(d,"$partition_header_footer",z=function(d){var e,c,g,h=n,m=n,l=n;h=(m=["rowcount",(l=this.rows.$body()).$size()],
f(this.attributes,"[]=",a.to_a(m)),m[k(m.length,1)]);u(b(h,0))&&(u(this.has_header_option)?(m=[[f(l.$shift(),"map",[],(e=function(a){null==a&&(a=n);return a.$reinitialize(!0)},e.$$s=this,e.$$arity=1,e))]],f(this.rows,"head=",a.to_a(m)),m[k(m.length,1)],h=k(h,1)):u(this.has_header_option["$nil?"]())&&(this.has_header_option=!1,l.$unshift(f(l.$shift(),"map",[],(c=function(a){null==a&&(a=n);return a.$reinitialize(!1)},c.$$s=this,c.$$arity=1,c)))));u(u(g=b(h,0))?d["$[]"]("footer-option"):g)&&(m=[[l.$pop()]],
f(this.rows,"foot=",a.to_a(m)),m[k(m.length,1)]);return n},z.$$arity=1),n)&&"partition_header_footer"})(d[0],r(d,"AbstractBlock"),d);(function(b,$super,d){b=m(b,$super,"Column");[b].concat(d);var c,g,p,r;b.$$prototype.attributes=n;b.$attr_accessor("style");a.def(b,"$initialize",c=function(b,d,g){var m;c.$$p&&(c.$$p=null);null==g&&(g=e([],{}));f(this,a.find_super_dispatcher(this,"initialize",c,!1),[b,"table_column"],null);this.style=g["$[]"]("style");b=["colnumber",h(d,1)];f(g,"[]=",a.to_a(b));b[k(b.length,
1)];u(m=g["$[]"]("width"))?m:(b=["width",1],f(g,"[]=",a.to_a(b)),b[k(b.length,1)]);u(m=g["$[]"]("halign"))?m:(b=["halign","left"],f(g,"[]=",a.to_a(b)),b[k(b.length,1)]);u(m=g["$[]"]("valign"))?m:(b=["valign","top"],f(g,"[]=",a.to_a(b)),b[k(b.length,1)]);return this.$update_attributes(g)},c.$$arity=-3);a.alias(b,"table","parent");a.def(b,"$assign_width",g=function(b,d,e){var c=n;u(d)&&(b=q(l(this.attributes["$[]"]("width").$to_f(),100),d).$truncate(e),b.$to_i()["$=="](b)&&(b=b.$to_i()));u(this.$parent().$attributes()["$[]"]("tableabswidth"))&&
(d=["colabswidth",(c=l(q(b,100),this.$parent().$attributes()["$[]"]("tableabswidth")).$truncate(e))["$=="](c.$to_i())?c.$to_i():c],f(this.attributes,"[]=",a.to_a(d)),d[k(d.length,1)]);d=["colpcwidth",b];f(this.attributes,"[]=",a.to_a(d));return d[k(d.length,1)]},g.$$arity=3);a.def(b,"$block?",p=function(){return!1},p.$$arity=0);return(a.def(b,"$inline?",r=function(){return!1},r.$$arity=0),n)&&"inline?"})(r(d,"Table"),r(d,"AbstractNode"),d);(function(b,$super,d){b=m(b,$super,"Cell");var c=[b].concat(d),
q,v,t,y,z,x,B,R,A,L,J;b.$$prototype.document=b.$$prototype.reinitialize_args=b.$$prototype.attributes=b.$$prototype.cursor=b.$$prototype.text=b.$$prototype.subs=b.$$prototype.style=b.$$prototype.inner_document=b.$$prototype.source_location=b.$$prototype.colspan=b.$$prototype.rowspan=n;a.const_set(c[0],"DOUBLE_LF",l(r(c,"LF"),2));b.$attr_accessor("colspan");b.$attr_accessor("rowspan");a.alias(b,"column","parent");b.$attr_reader("inner_document");a.def(b,"$initialize",q=function(b,d,m,l){var p,v,t,
y=n,w=n,z=n,x=n,B=n,R=n,A=n;q.$$p&&(q.$$p=null);null==m&&(m=e([],{}));null==l&&(l=e([],{}));f(this,a.find_super_dispatcher(this,"initialize",q,!1),[b,"table_cell"],null);this.cursor=this.reinitialize_args=n;u(this.document.$sourcemap())&&(this.source_location=l["$[]"]("cursor").$dup());u(b)&&(u(y=b.$table()["$header_row?"]())?u((p=y["$=="]("implicit"))?w=u(v=b.$style())?v:u(t=m)?m["$[]"]("style"):t:y["$=="]("implicit"))&&(u(u(p=w["$=="]("asciidoc"))?p:w["$=="]("literal"))&&(this.reinitialize_args=
[b,d,u(p=m)?m.$merge():p,l]),w=n):w=b.$style(),this.$update_attributes(b.$attributes()));if(u(m))if(u(m["$empty?"]())?this.colspan=this.rowspan=n:(p=[m.$delete("colspan"),m.$delete("rowspan")],this.colspan=p[0],this.rowspan=p[1],p,u(y)||(w=u(p=m["$[]"]("style"))?p:w),this.$update_attributes(m)),w["$=="]("asciidoc"))if(z=!0,x=l["$[]"]("cursor"),u((d=d.$rstrip())["$start_with?"](r(c,"LF")))){for(b=1;u((d=d.$slice(1,d.$length()))["$start_with?"](r(c,"LF")));)b=h(b,1);x.$advance(b)}else d=d.$lstrip();
else if(w["$=="]("literal"))for(B=!0,d=d.$rstrip();u(d["$start_with?"](r(c,"LF")));)d=d.$slice(1,d.$length());else R=!0,d=u(d)?d.$strip():"";else this.colspan=this.rowspan=n,w["$=="]("asciidoc")&&(z=!0,x=l["$[]"]("cursor"));u(z)?(l=this.document.$attributes().$delete("doctitle"),y=d.$split(r(c,"LF"),-1),!u(y["$empty?"]())&&u((A=y["$[]"](0))["$include?"]("::"))&&(z=r(c,"PreprocessorReader").$new(this.document,[A]).$readlines(),u(A["$=="](z["$[]"](0))?g(z.$size(),2):A["$=="](z["$[]"](0)))||(y.$shift(),
u(z["$empty?"]())||f(y,"unshift",a.to_a(z)))),this.inner_document=r(c,"Document").$new(y,e(["standalone","parent","cursor"],{standalone:!1,parent:this.document,cursor:x})),u(l["$nil?"]())||(x=["doctitle",l],f(this.document.$attributes(),"[]=",a.to_a(x)),x[k(x.length,1)]),this.subs=n):u(B)?(this.content_model="verbatim",this.subs=r(c,"BASIC_SUBS")):(u(R)&&(u(y)?this.cursor=l["$[]"]("cursor"):this.$catalog_inline_anchor(d,l["$[]"]("cursor"))),this.content_model="simple",this.subs=r(c,"NORMAL_SUBS"));
this.text=d;return this.style=w},q.$$arity=-3);a.def(b,"$reinitialize",v=function(b){if(u(b))this.reinitialize_args=n;else{if(u(this.reinitialize_args))return f(p(r(c,"Table"),"Cell"),"new",a.to_a(this.reinitialize_args));this.style=this.attributes["$[]"]("style")}u(this.cursor)&&this.$catalog_inline_anchor();return this},v.$$arity=1);a.def(b,"$catalog_inline_anchor",t=function(a,b){null==a&&(a=this.text);null==b&&(b=n);if(!u(b)){var d=[this.cursor,n];b=d[0];this.cursor=d[1];d}return u(u(d=a["$start_with?"]("[["))?
r(c,"LeadingInlineAnchorRx")["$=~"](a):d)?r(c,"Parser").$catalog_inline_anchor((d=w["~"])===n?n:d["$[]"](1),(d=w["~"])===n?n:d["$[]"](2),this,b,this.document):n},t.$$arity=-1);a.def(b,"$text",y=function(){return this.$apply_subs(this.text,this.subs)},y.$$arity=0);a.def(b,"$text=",z=function(a){return this.text=a},z.$$arity=1);a.def(b,"$content",x=function(){var a,b,d=n,g=n;return(d=this.style)["$=="]("asciidoc")?this.inner_document.$convert():u(this.text["$include?"](r(c,"DOUBLE_LF")))?f(this.$text().$split(r(c,
"BlankLineRx")),"map",[],(a=function(b){var f=a.$$s||this,g;null==b&&(b=n);return u(u(g=d)?d["$!="]("header"):g)?r(c,"Inline").$new(f.$parent(),"quoted",b,e(["type"],{type:d})).$convert():b},a.$$s=this,a.$$arity=1,a)):u((g=this.$text())["$empty?"]())?[]:u(u(b=d)?d["$!="]("header"):b)?[r(c,"Inline").$new(this.$parent(),"quoted",g,e(["type"],{type:d})).$convert()]:[g]},x.$$arity=0);a.def(b,"$lines",B=function(){return this.text.$split(r(c,"LF"))},B.$$arity=0);a.def(b,"$source",R=function(){return this.text},
R.$$arity=0);a.def(b,"$file",A=function(){var a;return u(a=this.source_location)?this.source_location.$file():a},A.$$arity=0);a.def(b,"$lineno",L=function(){var a;return u(a=this.source_location)?this.source_location.$lineno():a},L.$$arity=0);return(a.def(b,"$to_s",J=function(){var b,d=J.$$p,c;d&&(J.$$p=null);var e=0;var g=arguments.length;for(c=Array(g);e<g;e++)c[e]=arguments[e];return""+f(this,a.find_super_dispatcher(this,"to_s",J,!1),c,d).$to_s()+" - [text: "+this.text+", colspan: "+(u(b=this.colspan)?
b:1)+", rowspan: "+(u(b=this.rowspan)?b:1)+", attributes: "+this.attributes+"]"},J.$$arity=0),n)&&"to_s"})(r(d,"Table"),r(d,"AbstractBlock"),d);(function(d,$super,c){d=m(d,$super,"ParserContext");var g=[d].concat(c),l,q,v,t,y,w,z,x,B,A,L,J,C,R,D,E,G,I,V;d.$$prototype.delimiter=d.$$prototype.delimiter_rx=d.$$prototype.buffer=d.$$prototype.cellspecs=d.$$prototype.cell_open=d.$$prototype.format=d.$$prototype.start_cursor_data=d.$$prototype.reader=d.$$prototype.table=d.$$prototype.current_row=d.$$prototype.colcount=
d.$$prototype.column_visits=d.$$prototype.active_rowspans=d.$$prototype.linenum=n;d.$include(r(g,"Logging"));a.const_set(g[0],"FORMATS",["psv","csv","dsv","tsv"].$to_set());a.const_set(g[0],"DELIMITERS",e(["psv","csv","dsv","tsv","!sv"],{psv:["|",/\|/],csv:[",",/,/],dsv:[":",/:/],tsv:["\t",/\t/],"!sv":["!",/!/]}));d.$attr_accessor("table");d.$attr_accessor("format");d.$attr_reader("colcount");d.$attr_accessor("buffer");d.$attr_reader("delimiter");d.$attr_reader("delimiter_re");a.def(d,"$initialize",
l=function(b,d,c){var f;null==c&&(c=e([],{}));this.start_cursor_data=(this.reader=b).$mark();this.table=d;u(c["$key?"]("format"))?u(r(g,"FORMATS")["$include?"](f=c["$[]"]("format")))?f["$=="]("tsv")?this.format="csv":u((this.format=f)["$=="]("psv")?d.$document()["$nested?"]():(this.format=f)["$=="]("psv"))&&(f="!sv"):(this.$logger().$error(this.$message_with_context("illegal table format: "+f,e(["source_location"],{source_location:b.$cursor_at_prev_line()}))),b=["psv",u(d.$document()["$nested?"]())?
"!sv":"psv"],this.format=b[0],f=b[1],b):(b=["psv",u(d.$document()["$nested?"]())?"!sv":"psv"],this.format=b[0],f=b[1],b);u(c["$key?"]("separator"))?u((c=c["$[]"]("separator"))["$nil_or_empty?"]())?(f=r(g,"DELIMITERS")["$[]"](f),b=a.to_ary(f),this.delimiter=null==b[0]?n:b[0],this.delimiter_rx=null==b[1]?n:b[1],f):c["$=="]("\\t")?(f=r(g,"DELIMITERS")["$[]"]("tsv"),b=a.to_ary(f),this.delimiter=null==b[0]?n:b[0],this.delimiter_rx=null==b[1]?n:b[1],f):(b=[c,new RegExp(p("::","Regexp").$escape(c))],this.delimiter=
b[0],this.delimiter_rx=b[1],b):(f=r(g,"DELIMITERS")["$[]"](f),b=a.to_ary(f),this.delimiter=null==b[0]?n:b[0],this.delimiter_rx=null==b[1]?n:b[1],f);this.colcount=u(d.$columns()["$empty?"]())?-1:d.$columns().$size();this.buffer="";this.cellspecs=[];this.cell_open=!1;this.active_rowspans=[0];this.column_visits=0;this.current_row=[];return this.linenum=-1},l.$$arity=-3);a.def(d,"$starts_with_delimiter?",q=function(a){return a["$start_with?"](this.delimiter)},q.$$arity=1);a.def(d,"$match_delimiter",v=
function(a){return this.delimiter_rx.$match(a)},v.$$arity=1);a.def(d,"$skip_past_delimiter",t=function(a){this.buffer=""+this.buffer+a+this.delimiter;return n},t.$$arity=1);a.def(d,"$skip_past_escaped_delimiter",y=function(a){this.buffer=""+this.buffer+a.$chop()+this.delimiter;return n},y.$$arity=1);a.def(d,"$buffer_has_unclosed_quotes?",w=function(a){var b,d,c=n,e=n;null==a&&(a=n);return(c=u(a)?h(this.buffer,a).$strip():this.buffer.$strip())["$=="]('"')?!0:u(c["$start_with?"]('"'))?u(u(b=u(d=e=c["$end_with?"]('"'))?
c["$end_with?"]('""'):d)?b:c["$start_with?"]('""'))?u(b=(c=c.$gsub('""',""))["$start_with?"]('"'))?c["$end_with?"]('"')["$!"]():b:e["$!"]():!1},w.$$arity=-1);a.def(d,"$take_cellspec",z=function(){return this.cellspecs.$shift()},z.$$arity=0);a.def(d,"$push_cellspec",x=function(a){var b;null==a&&(a=e([],{}));this.cellspecs["$<<"](u(b=a)?b:e([],{}));return n},x.$$arity=-1);a.def(d,"$keep_cell_open",B=function(){this.cell_open=!0;return n},B.$$arity=0);a.def(d,"$mark_cell_closed",A=function(){this.cell_open=
!1;return n},A.$$arity=0);a.def(d,"$cell_open?",L=function(){return this.cell_open},L.$$arity=0);a.def(d,"$cell_closed?",J=function(){return this.cell_open["$!"]()},J.$$arity=0);a.def(d,"$close_open_cell",C=function(a){null==a&&(a=e([],{}));this.$push_cellspec(a);u(this["$cell_open?"]())&&this.$close_cell(!0);this.$advance();return n},C.$$arity=-1);a.def(d,"$close_cell",R=function(d){try{var c,m,l=n,q=n,v=n;null==d&&(d=!1);this.format["$=="]("psv")?(l=this.buffer,this.buffer="",u(q=this.$take_cellspec())?
v=u(c=q.$delete("repeatcol"))?c:1:(this.$logger().$error(this.$message_with_context("table missing leading separator; recovering automatically",e(["source_location"],{source_location:f(p(r(g,"Reader"),"Cursor"),"new",a.to_a(this.start_cursor_data))}))),q=e([],{}),v=1)):(l=this.buffer.$strip(),this.buffer="",q=n,v=1,u(u(c=this.format["$=="]("csv")?l["$empty?"]()["$!"]():this.format["$=="]("csv"))?l["$include?"]('"'):c)&&(u(u(c=l["$start_with?"]('"'))?l["$end_with?"]('"'):c)?u(l=l.$slice(1,k(l.$length(),
2)))?l=l.$strip().$squeeze('"'):(this.$logger().$error(this.$message_with_context("unclosed quote in CSV data; setting cell to empty",e(["source_location"],{source_location:this.reader.$cursor_at_prev_line()}))),l=""):l=l.$squeeze('"')));f(1,"upto",[v],(m=function(c){var t=m.$$s||this,y,w,z,x,B=n,A=n,L=n;B=n;null==t.colcount&&(t.colcount=n);null==t.table&&(t.table=n);null==t.current_row&&(t.current_row=n);null==t.reader&&(t.reader=n);null==t.column_visits&&(t.column_visits=n);null==t.linenum&&(t.linenum=
n);null==c&&(c=n);t.colcount["$=="](-1)?(t.table.$columns()["$<<"](B=p(r(g,"Table"),"Column").$new(t.table,k(h(t.table.$columns().$size(),c),1))),u(u(y=u(w=q)?q["$key?"]("colspan"):w)?b(A=k(q["$[]"]("colspan").$to_i(),1),0):y)&&(L=t.table.$columns().$size(),f(A,"times",[],(z=function(a){var b=z.$$s||this;null==b.table&&(b.table=n);null==a&&(a=n);return b.table.$columns()["$<<"](p(r(g,"Table"),"Column").$new(b.table,h(L,a)))},z.$$s=t,z.$$arity=1,z)))):u(B=t.table.$columns()["$[]"](t.current_row.$size()))||
(t.$logger().$error(t.$message_with_context("dropping cell because it exceeds specified number of columns",e(["source_location"],{source_location:t.reader.$cursor_before_mark()}))),a.ret(n));B=p(r(g,"Table"),"Cell").$new(B,l,q,e(["cursor"],{cursor:t.reader.$cursor_before_mark()}));t.reader.$mark();u(u(y=B.$rowspan()["$!"]())?y:B.$rowspan()["$=="](1))||t.$activate_rowspan(B.$rowspan(),u(y=B.$colspan())?y:1);t.column_visits=h(t.column_visits,u(y=B.$colspan())?y:1);t.current_row["$<<"](B);return u(u(y=
t["$end_of_row?"]())?u(w=u(x=t.colcount["$!="](-1))?x:b(t.linenum,0))?w:u(x=d)?c["$=="](v):x:y)?t.$close_row():n},m.$$s=this,m.$$arity=1,m));this.cell_open=!1;return n}catch(ha){if(ha===a.returner)return ha.$v;throw ha;}},R.$$arity=-1);d.$private();a.def(d,"$close_row",D=function(){var b,d=n;this.table.$rows().$body()["$<<"](this.current_row);this.colcount["$=="](-1)&&(this.colcount=this.column_visits);this.column_visits=0;this.current_row=[];this.active_rowspans.$shift();u(b=this.active_rowspans["$[]"](0))?
b:(d=[0,0],f(this.active_rowspans,"[]=",a.to_a(d)),d[k(d.length,1)]);return n},D.$$arity=0);a.def(d,"$activate_rowspan",E=function(b,d){var c;f(1,"upto",[k(b,1)],(c=function(b){var e=c.$$s||this,g;null==e.active_rowspans&&(e.active_rowspans=n);null==b&&(b=n);b=[b,h(u(g=e.active_rowspans["$[]"](b))?g:0,d)];f(e.active_rowspans,"[]=",a.to_a(b));return b[k(b.length,1)]},c.$$s=this,c.$$arity=1,c));return n},E.$$arity=2);a.def(d,"$end_of_row?",G=function(){var a;return u(a=this.colcount["$=="](-1))?a:this.$effective_column_visits()["$=="](this.colcount)},
G.$$arity=0);a.def(d,"$effective_column_visits",I=function(){return h(this.column_visits,this.active_rowspans["$[]"](0))},I.$$arity=0);return(a.def(d,"$advance",V=function(){return this.linenum=h(this.linenum,1)},V.$$arity=0),n)&&"advance"})(r(d,"Table"),null,d)}(d[0],d)};Opal.modules["asciidoctor/writer"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var g=[],k=a.nil,l=a.const_get_qualified,q=a.const_get_relative,h=a.module,d=a.truthy,n=a.hash2;a.add_stubs(["$respond_to?",
"$write","$+","$chomp","$include"]);return function(c,g){c=[h(c,"Asciidoctor")].concat(g);(function(c,g){c=h(c,"Writer");var e=[c].concat(g),f;a.def(c,"$write",f=function(a,c){d(c["$respond_to?"]("write"))?c.$write(b(a.$chomp(),q(e,"LF"))):l("::","File").$write(c,a,n(["mode"],{mode:q(e,"FILE_WRITE_MODE")}));return k},f.$$arity=2)})(c[0],c);(function(b,d){b=h(b,"VoidWriter");d=[b].concat(d);var c;b.$include(q(d,"Writer"));a.def(b,"$write",c=function(a,b){return k},c.$$arity=2)})(c[0],c)}(g[0],g)};
Opal.modules["asciidoctor/load"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var k=[],l=a.nil,q=a.const_get_qualified,h=a.const_get_relative,d=a.module,n=a.hash2,p=a.truthy,r=a.send;a.add_stubs("$merge $[] $start $key? $!= $logger $new $logger= $- $! $=== $dup $tap $each $partition $[]= $split $gsub $+ $respond_to? $keys $raise $join $ancestors $class $== $at $to_i $mtime $absolute_path $path $dirname $basename $extname $read $rewind $drop $record $parse $exception $message $set_backtrace $backtrace $stack_trace $stack_trace= $open $load".split(" "));
return function(c,m){c=d(c,"Asciidoctor");m=[c].concat(m);(function(d,c){var e=[d].concat(c),f,m;a.def(d,"$load",f=function(d,c){var f,m,k,v,t,u,w=l,z=l,x=l,B=l,A=l,C=l,L=l,J=l,R=l,D=l;null==c&&(c=n([],{}));try{c=c.$merge();p(w=c["$[]"]("timings"))&&w.$start("read");p(p(f=c["$key?"]("logger"))?(z=c["$[]"]("logger"))["$!="](h(e,"LoggerManager").$logger()):f)&&(x=[p(f=z)?f:h(e,"NullLogger").$new()],r(h(e,"LoggerManager"),"logger=",a.to_a(x)),x[b(x.length,1)]);p((B=c["$[]"]("attributes"))["$!"]())?B=
n([],{}):p(q("::","Hash")["$==="](B))?B=B.$merge():p(p(f=(k=q("::","Java","skip_raise"))&&(m=q(k,"JavaUtil","skip_raise"))&&q(m,"Map","skip_raise")?"constant":l)?q(q(q("::","Java"),"JavaUtil"),"Map")["$==="](B):f)?B=B.$dup():p(q("::","Array")["$==="](B))?B=r(n([],{}),"tap",[],(v=function(d){var c=v.$$s||this,e;null==d&&(d=l);return r(B,"each",[],(e=function(c){null==c&&(c=l);c=c.$partition("=");var e=a.to_ary(c);var f=null==e[0]?l:e[0];e=null==e[2]?l:e[2];c;x=[f,e];r(d,"[]=",a.to_a(x));return x[b(x.length,
1)]},e.$$s=c,e.$$arity=1,e))},v.$$s=this,v.$$arity=1,v)):p(q("::","String")["$==="](B))?B=r(n([],{}),"tap",[],(t=function(d){var c=t.$$s||this,f;null==d&&(d=l);return r(B.$gsub(h(e,"SpaceDelimiterRx"),g("\\1",h(e,"NULL"))).$gsub(h(e,"EscapedSpaceRx"),"\\1").$split(h(e,"NULL")),"each",[],(f=function(c){null==c&&(c=l);c=c.$partition("=");var e=a.to_ary(c);var f=null==e[0]?l:e[0];e=null==e[2]?l:e[2];c;x=[f,e];r(d,"[]=",a.to_a(x));return x[b(x.length,1)]},f.$$s=c,f.$$arity=1,f))},t.$$s=this,t.$$arity=
1,t)):p(p(f=B["$respond_to?"]("keys"))?B["$respond_to?"]("[]"):f)?B=r(n([],{}),"tap",[],(u=function(d){var c=u.$$s||this,e;null==d&&(d=l);return r(B.$keys(),"each",[],(e=function(c){null==c&&(c=l);x=[c,B["$[]"](c)];r(d,"[]=",a.to_a(x));return x[b(x.length,1)]},e.$$s=c,e.$$arity=1,e))},u.$$s=this,u.$$arity=1,u)):this.$raise(q("::","ArgumentError"),"illegal type for attributes option: "+B.$class().$ancestors().$join(" < "));if(p(q("::","File")["$==="](d)))x=["input_mtime",h(e,"RUBY_ENGINE")["$=="]("jruby")?
q("::","Time").$at(d.$mtime().$to_i()):d.$mtime()],r(c,"[]=",a.to_a(x)),x[b(x.length,1)],x=["docfile",A=q("::","File").$absolute_path(d.$path())],r(B,"[]=",a.to_a(x)),x[b(x.length,1)],x=["docdir",q("::","File").$dirname(A)],r(B,"[]=",a.to_a(x)),x[b(x.length,1)],x=["docname",h(e,"Helpers").$basename(A,(x=["docfilesuffix",h(e,"Helpers").$extname(A)],r(B,"[]=",a.to_a(x)),x[b(x.length,1)]))],r(B,"[]=",a.to_a(x)),x[b(x.length,1)],C=d.$read();else if(p(d["$respond_to?"]("read"))){try{d.$rewind()}catch(W){if(a.rescue(W,
[h(e,"StandardError")]))try{l}finally{a.pop_exception()}else throw W;}C=d.$read()}else p(q("::","String")["$==="](d))?C=d:p(q("::","Array")["$==="](d))?C=d.$drop(0):p(d)&&this.$raise(q("::","ArgumentError"),"unsupported input type: "+d.$class());p(w)&&(w.$record("read"),w.$start("parse"));x=["attributes",B];r(c,"[]=",a.to_a(x));x[b(x.length,1)];L=c["$[]"]("parse")["$=="](!1)?h(e,"Document").$new(C,c):h(e,"Document").$new(C,c).$parse();p(w)&&w.$record("parse");return L}catch(W){if(a.rescue(W,[h(e,
"StandardError")])){J=W;try{try{R="asciidoctor: FAILED: "+(p(f=B["$[]"]("docfile"))?f:"<stdin>")+": Failed to load AsciiDoc document",p(J["$respond_to?"]("exception"))?(D=J.$exception(""+R+" - "+J.$message()),D.$set_backtrace(J.$backtrace()),D.stack=J.stack):(D=J.$class().$new(R,J),x=[J.$stack_trace()],r(D,"stack_trace=",a.to_a(x)),x[b(x.length,1)])}catch(ma){if(a.rescue(ma,[h(e,"StandardError")]))try{D=J}finally{a.pop_exception()}else throw ma;}return this.$raise(D)}finally{a.pop_exception()}}else throw W;
}},f.$$arity=-2);return(a.def(d,"$load_file",m=function(a,b){var d;null==b&&(b=n([],{}));return r(q("::","File"),"open",[a,h(e,"FILE_READ_MODE")],(d=function(a){var c=d.$$s||this;null==a&&(a=l);return c.$load(a,b)},d.$$s=this,d.$$arity=1,d))},m.$$arity=-2),l)&&"load_file"})(a.get_singleton_class(c),m)}(k[0],k)};Opal.modules["asciidoctor/convert"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?
a>=b:a["$>="](b)}var k=[],l=a.nil,n=a.const_get_qualified,h=a.const_get_relative,d=a.module,r=a.hash2,p=a.truthy,t=a.send;a.add_stubs("$delete $merge $=== $absolute_path $path $load $respond_to? $[]= $- $key? $fetch $[] $dirname $expand_path $join $attributes $outfilesuffix $== $raise $pwd $>= $safe $normalize_system_path $mkdir_p $directory? $! $convert $write $< $attr? $basebackend? $attr $uriish? $include? $syntax_highlighter $write_stylesheet? $write_primary_stylesheet $instance $to_s $!= $read_asset $file? $write_stylesheet $open".split(" "));
return function(c,m){c=d(c,"Asciidoctor");m=[c].concat(m);(function(d,c){var e=[d].concat(c),f,m;a.def(d,"$convert",f=function(d,c){var f,m,k,q,v,u,w=l,x=l,z=v=l,B=l,A=l,C=l,D=l,L=l,J=l,R=l,E=l,G=l;null==c&&(c=r([],{}));(c=c.$merge()).$delete("parse");var I=c.$delete("to_dir");var V=c.$delete("mkdirs");var K=u=c.$delete("to_file");if((!0)["$==="](K)||l["$==="](K))p(w=I)||p(n("::","File")["$==="](d))&&(x=n("::","File").$absolute_path(d.$path())),u=l;else if((!1)["$==="](K))u=l;else{if("/dev/null"["$==="](K))return this.$load(d,
c);p(v=u["$respond_to?"]("write"))||(K=["to_file",w=u],t(c,"[]=",a.to_a(K)),K[b(K.length,1)])}p(c["$key?"]("standalone"))||(p(p(f=x)?f:w)?(K=["standalone",c.$fetch("header_footer",!0)],t(c,"[]=",a.to_a(K)),K[b(K.length,1)]):p(c["$key?"]("header_footer"))&&(K=["standalone",c["$[]"]("header_footer")],t(c,"[]=",a.to_a(K)),K[b(K.length,1)]));p(x)?(K=["to_dir",z=n("::","File").$dirname(x)],t(c,"[]=",a.to_a(K)),K[b(K.length,1)]):p(w)&&(p(I)?(K=p(u)?["to_dir",n("::","File").$dirname(n("::","File").$expand_path(u,
I))]:["to_dir",n("::","File").$expand_path(I)],t(c,"[]=",a.to_a(K)),K[b(K.length,1)]):p(u)&&(K=["to_dir",n("::","File").$dirname(n("::","File").$expand_path(u))],t(c,"[]=",a.to_a(K)),K[b(K.length,1)]));K=this.$load(d,c);p(x)?(B=n("::","File").$join(z,""+K.$attributes()["$[]"]("docname")+K.$outfilesuffix()),B["$=="](x)&&this.$raise(n("::","IOError"),"input file and output file cannot be the same: "+B)):p(w)?(c=p(c["$key?"]("base_dir"))?n("::","File").$expand_path(c["$[]"]("base_dir")):n("::","Dir").$pwd(),
w=p(g(K.$safe(),n(h(e,"SafeMode"),"SAFE")))?c:l,p(I)?(z=K.$normalize_system_path(I,c,w,r(["target_name","recover"],{target_name:"to_dir",recover:!1})),p(u)?(B=K.$normalize_system_path(u,z,l,r(["target_name","recover"],{target_name:"to_dir",recover:!1})),z=n("::","File").$dirname(B)):B=n("::","File").$join(z,""+K.$attributes()["$[]"]("docname")+K.$outfilesuffix())):p(u)&&(B=K.$normalize_system_path(u,c,w,r(["target_name","recover"],{target_name:"to_dir",recover:!1})),z=n("::","File").$dirname(B)),
p(p(f=n("::","File")["$==="](d))?B["$=="](n("::","File").$absolute_path(d.$path())):f)&&this.$raise(n("::","IOError"),"input file and output file cannot be the same: "+B),p(V)?h(e,"Helpers").$mkdir_p(z):p(n("::","File")["$directory?"](z))||this.$raise(n("::","IOError"),"target directory does not exist: "+I+" (hint: set :mkdirs option)")):(B=u,z=l);d=p(p(f=B)?v["$!"]():f)?K.$convert(r(["outfile","outdir"],{outfile:B,outdir:z})):K.$convert();return p(B)?(K.$write(d,B),p(v=v["$!"]())&&(v=K.$safe(),B=
n(h(e,"SafeMode"),"SECURE"),v="number"===typeof v&&"number"===typeof B?v<B:v["$<"](B)),p(p(f=p(m=p(k=p(q=v)?K["$attr?"]("linkcss"):q)?K["$attr?"]("copycss"):k)?K["$basebackend?"]("html"):m)?(p(m=A=K.$attr("stylesdir"))?h(e,"Helpers")["$uriish?"](A):m)["$!"]():f)&&(p(C=K.$attr("stylesheet"))&&(p(h(e,"DEFAULT_STYLESHEET_KEYS")["$include?"](C))?D=!0:p(h(e,"Helpers")["$uriish?"](C)["$!"]())&&(L=!0)),k=p(f=J=K.$syntax_highlighter())?J["$write_stylesheet?"](K):f,p(p(f=p(m=D)?m:L)?f:k)&&(m=K.$normalize_system_path(A,
z,p(g(K.$safe(),n(h(e,"SafeMode"),"SAFE")))?z:l),p(V)?h(e,"Helpers").$mkdir_p(m):p(n("::","File")["$directory?"](m))||this.$raise(n("::","IOError"),"target stylesheet directory does not exist: "+m+" (hint: set :mkdirs option)"),p(D)?h(e,"Stylesheets").$instance().$write_primary_stylesheet(m):p(L)&&(R=p(p(f=(R=K.$attr("copycss"))["$=="](""))?f:R["$=="](!0))?K.$normalize_system_path(C):K.$normalize_system_path(R.$to_s()),z=K.$normalize_system_path(C,m,p(g(K.$safe(),n(h(e,"SafeMode"),"SAFE")))?z:l),
p(p(f=R["$!="](z))?E=K.$read_asset(R,r(["warn_on_failure","label"],{warn_on_failure:n("::","File")["$file?"](z)["$!"](),label:"stylesheet"})):f)&&(p(p(f=(G=n("::","File").$dirname(z))["$!="](m))?n("::","File")["$directory?"](G)["$!"]():f)&&(p(V)?h(e,"Helpers").$mkdir_p(G):this.$raise(n("::","IOError"),"target stylesheet directory does not exist: "+G+" (hint: set :mkdirs option)")),n("::","File").$write(z,E,r(["mode"],{mode:h(e,"FILE_WRITE_MODE")})))),p(k)&&J.$write_stylesheet(K,m))),K):d},f.$$arity=
-2);a.def(d,"$convert_file",m=function(a,b){var d;null==b&&(b=r([],{}));return t(n("::","File"),"open",[a,h(e,"FILE_READ_MODE")],(d=function(a){var c=d.$$s||this;null==a&&(a=l);return c.$convert(a,b)},d.$$s=this,d.$$arity=1,d))},m.$$arity=-2);a.alias(d,"render","convert");return a.alias(d,"render_file","convert_file")})(a.get_singleton_class(c),m)}(k[0],k)};Opal.modules["asciidoctor/syntax_highlighter/highlightjs"]=function(a){var b=[],g=a.nil,k=a.const_get_qualified,l=a.const_get_relative,n=a.module,
h=a.klass,d=a.send,r=a.hash2,p=a.truthy;a.add_stubs("$register_for $merge $proc $[]= $- $attr $[] $== $attr? $join $map $split $lstrip".split(" "));return function(b,c){b=[n(b,"Asciidoctor")].concat(c);(function(b,$super,c){b=h(b,$super,"HighlightJsAdapter");var f=[b].concat(c),m,k,n,q;b.$register_for("highlightjs","highlight.js");a.def(b,"$initialize",m=function(b){var c=m.$$p,f;c&&(m.$$p=null);var g=0;var h=arguments.length;for(f=Array(h);g<h;g++)f[g]=arguments[g];a.slice.call(arguments,0,arguments.length);
d(this,a.find_super_dispatcher(this,"initialize",m,!1),f,c);return this.name=this.pre_class="highlightjs"},m.$$arity=-1);a.def(b,"$format",k=function(b,c,f){var h;k.$$p&&(k.$$p=null);return d(this,a.find_super_dispatcher(this,"format",k,!1),[b,c,f.$merge(r(["transform"],{transform:d(this,"proc",[],(h=function(b,f){null==f&&(f=g);b=["class","language-"+(p(c)?c:"none")+" hljs"];d(f,"[]=",a.to_a(b));f=b.length;f="number"===typeof f?f-1:f["$-"](1);return b[f]},h.$$s=this,h.$$arity=2,h))}))],null)},k.$$arity=
3);a.def(b,"$docinfo?",n=function(a){return!0},n.$$arity=1);return(a.def(b,"$docinfo",q=function(a,b,c){var h,m=this,k=g;k=b.$attr("highlightjsdir",""+c["$[]"]("cdn_base_url")+"/highlight.js/"+l(f,"HIGHLIGHT_JS_VERSION"));return a["$=="]("head")?'<link rel="stylesheet" href="'+k+"/styles/"+b.$attr("highlightjs-theme","github")+'.min.css"'+c["$[]"]("self_closing_tag_slash")+">":'<script src="'+k+'/highlight.min.js">\x3c/script>\n'+function(){return p(b["$attr?"]("highlightjs-languages"))?d(b.$attr("highlightjs-languages").$split(","),
"map",[],(h=function(a){null==a&&(a=g);return'<script src="'+k+"/languages/"+a.$lstrip()+'.min.js">\x3c/script>\n'},h.$$s=m,h.$$arity=1,h)).$join():""}()+"<script>\nif (!hljs.initHighlighting.called) {\n  hljs.initHighlighting.called = true\n  ;[].slice.call(document.querySelectorAll('pre.highlight > code')).forEach(function (el) { hljs.highlightBlock(el) })\n}\n\x3c/script>"},q.$$arity=3),g)&&"docinfo"})(l(b,"SyntaxHighlighter"),k(l(b,"SyntaxHighlighter"),"Base"),b)}(b[0],b)};Opal.modules["asciidoctor/syntax_highlighter"]=
function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var g=a.top,k=[],l=a.nil,n=a.const_get_qualified,h=a.const_get_relative,d=a.module,r=a.hash2,p=a.truthy,t=a.send,u=a.klass;a.add_stubs("$attr_reader $raise $class $private_class_method $extend $register $map $to_s $each $[]= $registry $- $[] $for $=== $new $name $private $include $== $delete $join $content".split(" "));(function(c,e){c=[d(c,"Asciidoctor")].concat(e);(function(c,e){c=d(c,"SyntaxHighlighter");
var f=[c].concat(e),g,m,k,q,v,w,x,z,B,A;c.$attr_reader("name");a.def(c,"$initialize",g=function(a,b,d){null==d&&r([],{});return this.name=this.pre_class=a},g.$$arity=-2);a.def(c,"$docinfo?",m=function(a){return l},m.$$arity=1);a.def(c,"$docinfo",k=function(a,b,d){return this.$raise(n("::","NotImplementedError"),""+h(f,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #docinfo method since #docinfo? returns true")},k.$$arity=3);a.def(c,"$highlight?",q=function(){return l},q.$$arity=
0);a.def(c,"$highlight",v=function(a,b,d,c){return this.$raise(n("::","NotImplementedError"),""+h(f,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #highlight method since #highlight? returns true")},v.$$arity=4);a.def(c,"$format",w=function(a,b,d){return this.$raise(n("::","NotImplementedError"),""+h(f,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #format method")},w.$$arity=3);a.def(c,"$write_stylesheet?",x=function(a){return l},x.$$arity=1);a.def(c,"$write_stylesheet",
z=function(a,b){return this.$raise(n("::","NotImplementedError"),""+h(f,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #write_stylesheet method since #write_stylesheet? returns true")},z.$$arity=2);c.$private_class_method(p(B=(a.defs(c,"$included",A=function(a){return a.$extend(h(f,"Config"))},A.$$arity=1),l)&&"included")?B:"included");(function(b,c){b=d(b,"Config");var e=[b].concat(c),f;a.def(b,"$register_for",f=function(b){var d;var c=a.slice.call(arguments,0,arguments.length);
return t(h(e,"SyntaxHighlighter"),"register",[this].concat(a.to_a(t(c,"map",[],(d=function(a){null==a&&(a=l);return a.$to_s()},d.$$s=this,d.$$arity=1,d)))))},f.$$arity=-1)})(f[0],f);(function(c,e){c=d(c,"Factory");var f=[c].concat(e),g,m,k,q;a.def(c,"$register",g=function(d,c){var e;var f=a.slice.call(arguments,1,arguments.length);return t(f,"each",[],(e=function(c){var f=e.$$s||this;null==c&&(c=l);c=[c,d];t(f.$registry(),"[]=",a.to_a(c));return c[b(c.length,1)]},e.$$s=this,e.$$arity=1,e))},g.$$arity=
-2);a.def(c,"$for",m=function(a){return this.$registry()["$[]"](a)},m.$$arity=1);a.def(c,"$create",k=function(a,b,d){var c;null==b&&(b="html5");null==d&&(d=r([],{}));return p(c=this.$for(a))?(p(n("::","Class")["$==="](c))&&(c=c.$new(a,b,d)),p(c.$name())||this.$raise(n("::","NameError"),""+c.$class()+" must specify a value for `name'"),c):l},k.$$arity=-2);c.$private();a.def(c,"$registry",q=function(){return this.$raise(n("::","NotImplementedError"),""+h(f,"Factory")+" subclass "+this.$class()+" must implement the #registry method")},
q.$$arity=0)})(f[0],f);(function(b,$super,d){b=u(b,$super,"CustomFactory");d=[b].concat(d);var c,e;b.$$prototype.registry=l;b.$include(h(d,"Factory"));a.def(b,"$initialize",c=function(a){var b;null==a&&(a=l);return this.registry=p(b=a)?b:r([],{})},c.$$arity=-1);b.$private();return(a.def(b,"$registry",e=function(){return this.registry},e.$$arity=0),l)&&"registry"})(f[0],null,f);(function(b,c){b=d(b,"DefaultFactory");var e=[b].concat(c),f;b.$include(h(e,"Factory"));b.$private();a.class_variable_set(e[0],
"@@registry",r([],{}));a.def(b,"$registry",f=function(){var a;return null==(a=e[0].$$cvars["@@registry"])?l:a},f.$$arity=0);h(e,"RUBY_ENGINE")["$=="]("opal")||l})(f[0],f);(function(a,$super,b){a=u(a,$super,"DefaultFactoryProxy");b=[a].concat(b);a.$include(h(b,"DefaultFactory"));h(b,"RUBY_ENGINE")["$=="]("opal");return l})(f[0],h(f,"CustomFactory"),f);(function(d,$super,c){d=u(d,$super,"Base");c=[d].concat(c);var e;d.$$prototype.pre_class=l;d.$include(h(c,"SyntaxHighlighter"));return(a.def(d,"$format",
e=function(d,c,e){var f,g,h=l,m=l,k=m=h=l;h=p(e["$[]"]("nowrap"))?""+this.pre_class+" highlight nowrap":""+this.pre_class+" highlight";return p(m=e["$[]"]("transform"))?(m["$[]"](h=r(["class"],{"class":h}),m=p(c)?r(["data-lang"],{"data-lang":c}):r([],{})),p(c=m.$delete("data-lang"))&&(k=["data-lang",c],t(m,"[]=",a.to_a(k)),k[b(k.length,1)]),"<pre"+t(h,"map",[],(f=function(a,b){null==a&&(a=l);null==b&&(b=l);return" "+a+'="'+b+'"'},f.$$s=this,f.$$arity=2,f)).$join()+"><code"+t(m,"map",[],(g=function(a,
b){null==a&&(a=l);null==b&&(b=l);return" "+a+'="'+b+'"'},g.$$s=this,g.$$arity=2,g)).$join()+">"+d.$content()+"</code></pre>"):'<pre class="'+h+'"><code'+(p(c)?' data-lang="'+c+'"':"")+">"+d.$content()+"</code></pre>"},e.$$arity=3),l)&&"format"})(f[0],null,f);c.$extend(h(f,"DefaultFactory"))})(c[0],c)})(k[0],k);g.$require("asciidoctor/syntax_highlighter.rb/../syntax_highlighter/highlightjs");h(k,"RUBY_ENGINE")["$=="]("opal");return l};Opal.modules["asciidoctor/timings"]=function(a){function b(a,b){return"number"===
typeof a&&"number"===typeof b?a-b:a["$-"](b)}var g=[],k=a.nil,l=a.const_get_qualified,n=a.const_get_relative,h=a.module,d=a.klass,r=a.hash2,p=a.send,t=a.truthy,u=a.gvars;a.add_stubs("$now $[]= $- $delete $reduce $+ $[] $> $time $puts $% $to_f $read_parse $convert $read_parse_convert $private $const_defined? $== $clock_gettime".split(" "));return function(c,e){c=[h(c,"Asciidoctor")].concat(e);(function(c,$super,e){c=d(c,$super,"Timings");var f=[c].concat(e),g,h,m,q,v,w,x,z,B,A,C,D,L,E,J,G,I,K,M;c.$$prototype.timers=
c.$$prototype.log=k;a.def(c,"$initialize",g=function(){this.log=r([],{});return this.timers=r([],{})},g.$$arity=0);a.def(c,"$start",h=function(d){d=[d,this.$now()];p(this.timers,"[]=",a.to_a(d));return d[b(d.length,1)]},h.$$arity=1);a.def(c,"$record",m=function(d){d=[d,b(this.$now(),this.timers.$delete(d))];p(this.log,"[]=",a.to_a(d));return d[b(d.length,1)]},m.$$arity=1);a.def(c,"$time",q=function(b){var d;var c=k;c=a.slice.call(arguments,0,arguments.length);c=p(c,"reduce",[0],(d=function(a,b){var c=
d.$$s||this,e;null==c.log&&(c.log=k);null==a&&(a=k);null==b&&(b=k);b=t(e=c.log["$[]"](b))?e:0;return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)},d.$$s=this,d.$$arity=2,d));return t("number"===typeof c?0<c:c["$>"](0))?c:k},q.$$arity=-1);a.def(c,"$read",v=function(){return this.$time("read")},v.$$arity=0);a.def(c,"$parse",w=function(){return this.$time("parse")},w.$$arity=0);a.def(c,"$read_parse",x=function(){return this.$time("read","parse")},x.$$arity=0);a.def(c,"$convert",z=function(){return this.$time("convert")},
z.$$arity=0);a.def(c,"$read_parse_convert",B=function(){return this.$time("read","parse","convert")},B.$$arity=0);a.def(c,"$write",A=function(){return this.$time("write")},A.$$arity=0);a.def(c,"$total",C=function(){return this.$time("read","parse","convert","write")},C.$$arity=0);a.def(c,"$print_report",D=function(a,b){null==u.stdout&&(u.stdout=k);null==a&&(a=u.stdout);null==b&&(b=k);t(b)&&a.$puts("Input file: "+b);a.$puts("  Time to read and parse source: "+"%05.5f"["$%"](this.$read_parse().$to_f()));
a.$puts("  Time to convert document: "+"%05.5f"["$%"](this.$convert().$to_f()));return a.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](this.$read_parse_convert().$to_f()))},D.$$arity=-1);c.$private();return t(t(L=l("::","Process")["$const_defined?"]("CLOCK_MONOTONIC",!1))?((E=l("::","Process","skip_raise"))&&(J=E,J)&&(G=J)&&((I=G.$clock_gettime)&&!I.$$stub||G["$respond_to_missing?"]("clock_gettime"))?"method":k)["$=="]("method"):L)?(a.const_set(f[0],"CLOCK_ID",l(l("::","Process"),
"CLOCK_MONOTONIC")),(a.def(c,"$now",K=function(){return l("::","Process").$clock_gettime(n(f,"CLOCK_ID"))},K.$$arity=0),k)&&"now"):(a.def(c,"$now",M=function(){return l("::","Time").$now()},M.$$arity=0),k)&&"now"})(c[0],null,c)}(g[0],g)};Opal.modules["asciidoctor/converter/composite"]=function(a){var b=[],g=a.nil,k=a.const_get_qualified,l=a.const_get_relative,n=a.module,h=a.klass,d=a.hash2,r=a.send,p=a.truthy;a.add_stubs("$attr_reader $each $respond_to? $composed $init_backend_traits $backend_traits $new $find_converter $[]= $- $convert $converter_for $node_name $[] $handles? $raise".split(" "));
return function(b,c){b=[n(b,"Asciidoctor")].concat(c);(function(b,$super,c){b=h(b,$super,"CompositeConverter");[b].concat(c);var f,m,l,n;b.$$prototype.converter_cache=b.$$prototype.converters=g;b.$attr_reader("converters");a.def(b,"$initialize",f=function(b,c,f){var h,m;var l=a.slice.call(arguments,1,arguments.length);var n=a.extract_kwargs(l);if(null==n)n=d([],{});else if(!n.$$is_hash)throw a.ArgumentError.$new("expected kwargs");n=n.$$smap.backend_traits_source;null==n&&(n=g);this.backend=b;r(this.converters=
l,"each",[],(h=function(a){var b=h.$$s||this;null==a&&(a=g);return p(a["$respond_to?"]("composed"))?a.$composed(b):g},h.$$s=this,h.$$arity=1,h));p(n)&&this.$init_backend_traits(n.$backend_traits());return this.converter_cache=r(k("::","Hash"),"new",[],(m=function(b,d){var c=m.$$s||this;null==b&&(b=g);null==d&&(d=g);d=[d,c.$find_converter(d)];r(b,"[]=",a.to_a(d));b=d.length;b="number"===typeof b?b-1:b["$-"](1);return d[b]},m.$$s=this,m.$$arity=2,m))},f.$$arity=-2);a.def(b,"$convert",m=function(a,b,
d){var c;null==b&&(b=g);null==d&&(d=g);return this.$converter_for(b=p(c=b)?c:a.$node_name()).$convert(a,b,d)},m.$$arity=-2);a.def(b,"$converter_for",l=function(a){return this.converter_cache["$[]"](a)},l.$$arity=1);return(a.def(b,"$find_converter",n=function(b){try{var d;r(this.converters,"each",[],(d=function(d){null==d&&(d=g);if(p(d["$handles?"](b)))a.ret(d);else return g},d.$$s=this,d.$$arity=1,d));return this.$raise("Could not find a converter to handle transform: "+b)}catch(y){if(y===a.returner)return y.$v;
throw y;}},n.$$arity=1),g)&&"find_converter"})(l(b,"Converter"),k(l(b,"Converter"),"Base"),b)}(b[0],b)};Opal.modules["asciidoctor/converter/html5"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function n(a,b){return"number"===
typeof a&&"number"===typeof b?a<b:a["$<"](b)}var h=[],d=a.nil,r=a.const_get_qualified,p=a.const_get_relative,t=a.module,u=a.klass,m=a.send,e=a.hash2,f=a.truthy,w=a.gvars;a.add_stubs("$register_for $default= $- $== $[] $init_backend_traits $node_name $convert_inline_quoted $convert_paragraph $convert_inline_anchor $convert_section $convert_listing $convert_literal $convert_ulist $convert_olist $convert_dlist $convert_admonition $convert_colist $convert_embedded $convert_example $convert_floating_title $convert_image $convert_inline_break $convert_inline_button $convert_inline_callout $convert_inline_footnote $convert_inline_image $convert_inline_indexterm $convert_inline_kbd $convert_inline_menu $convert_open $convert_page_break $convert_preamble $convert_quote $convert_sidebar $convert_stem $convert_table $convert_thematic_break $convert_verse $convert_video $convert_document $convert_toc $convert_pass $convert_audio $empty? $attr $attr? $<< $include? $sub_replacements $gsub $extname $slice $length $doctitle $normalize_web_path $primary_stylesheet_data $instance $read_contents $syntax_highlighter $size $docinfo $id $sections? $doctype $role? $role $join $noheader $convert $converter $generate_manname_section $header? $notitle $title $header $each $authors $> $name $email $sub_macros $+ $downcase $concat $content $footnotes? $! $footnotes $index $text $nofooter $docinfo? $[]= $delete_at $inspect $!= $to_i $attributes $document $sections $level $caption $captioned_title $numbered $<= $< $sectname $sectnum $convert_outline $title? $icon_uri $compact $media_uri $option? $append_boolean_attribute $style $items $blocks? $=== $text? $chomp $safe $read_svg_contents $alt $image_uri $encode_attribute_value $append_link_constraint_attrs $highlight? $to_sym $format $* $count $start_with? $end_with? $list_marker_keyword $parent $warn $logger $context $error $new $columns $to_h $rows $colspan $rowspan $unshift $shift $pop $split $nil_or_empty? $type $catalog $xreftext $target $reftext $map $chop $sub $match $private $upcase $to_s $handles? $send".split(" "));
return function(c,h){c=[t(c,"Asciidoctor")].concat(h);(function(c,$super,h){c=u(c,$super,"Html5Converter");var q=[c].concat(h),t,v,x,z,B,A,C,D,L,E,J,G,I,K,M,N,V,P,S,U,T,ca,ia,Y,ea,la,ha,ua,da,va,Aa,qa,Ia,Ha,Ja,Wa,Qa,Ma,Da,Ka,Xa,Sa,Ya,Za,$a;h=d;c.$$prototype.void_element_slash=c.$$prototype.xml_mode=c.$$prototype.refs=c.$$prototype.resolving_xref=d;c.$register_for("html5");h=[["",""]];m(a.const_set(q[0],"QUOTE_TAGS",e("monospaced emphasis strong double single mark superscript subscript asciimath latexmath".split(" "),
{monospaced:["<code>","</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],"double":["&#8220;","&#8221;"],single:["&#8216;","&#8217;"],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),"default=",a.to_a(h));h[b(h.length,1)];a.const_set(q[0],"DropAnchorRx",/<(?:a\b[^>]*|\/a)>/);a.const_set(q[0],"StemBreakRx",/ *\\\n(?:\\?\n)*|\n\n+/);p(q,"RUBY_ENGINE")["$=="]("opal")?(a.const_set(q[0],
"SvgPreambleRx",new RegExp("^"+p(q,"CC_ALL")+"*?(?=<svg[\\s>])")),a.const_set(q[0],"SvgStartTagRx",/^<svg(?:\s[^>]*)?>/)):d;a.const_set(q[0],"DimensionAttributeRx",new RegExp("\\s(?:width|height|style)=([\"'])"+p(q,"CC_ANY")+"*?\\1"));a.def(c,"$initialize",t=function(a,b){null==b&&(b=e([],{}));this.backend=a;b["$[]"]("htmlsyntax")["$=="]("xml")?(a="xml",this.xml_mode=!0,this.void_element_slash="/"):(a="html",this.xml_mode=d,this.void_element_slash="");return this.$init_backend_traits(e(["basebackend",
"filetype","htmlsyntax","outfilesuffix","supports_templates"],{basebackend:"html",filetype:"html",htmlsyntax:a,outfilesuffix:".html",supports_templates:!0}))},t.$$arity=-2);a.def(c,"$convert",v=function(b,c,e){var f=v.$$p,g;f&&(v.$$p=null);var h=0;var k=arguments.length;for(g=Array(k);h<k;h++)g[h]=arguments[h];null==c&&(c=b.$node_name());null==e&&(e=d);return c["$=="]("inline_quoted")?this.$convert_inline_quoted(b):c["$=="]("paragraph")?this.$convert_paragraph(b):c["$=="]("inline_anchor")?this.$convert_inline_anchor(b):
c["$=="]("section")?this.$convert_section(b):c["$=="]("listing")?this.$convert_listing(b):c["$=="]("literal")?this.$convert_literal(b):c["$=="]("ulist")?this.$convert_ulist(b):c["$=="]("olist")?this.$convert_olist(b):c["$=="]("dlist")?this.$convert_dlist(b):c["$=="]("admonition")?this.$convert_admonition(b):c["$=="]("colist")?this.$convert_colist(b):c["$=="]("embedded")?this.$convert_embedded(b):c["$=="]("example")?this.$convert_example(b):c["$=="]("floating_title")?this.$convert_floating_title(b):
c["$=="]("image")?this.$convert_image(b):c["$=="]("inline_break")?this.$convert_inline_break(b):c["$=="]("inline_button")?this.$convert_inline_button(b):c["$=="]("inline_callout")?this.$convert_inline_callout(b):c["$=="]("inline_footnote")?this.$convert_inline_footnote(b):c["$=="]("inline_image")?this.$convert_inline_image(b):c["$=="]("inline_indexterm")?this.$convert_inline_indexterm(b):c["$=="]("inline_kbd")?this.$convert_inline_kbd(b):c["$=="]("inline_menu")?this.$convert_inline_menu(b):c["$=="]("open")?
this.$convert_open(b):c["$=="]("page_break")?this.$convert_page_break(b):c["$=="]("preamble")?this.$convert_preamble(b):c["$=="]("quote")?this.$convert_quote(b):c["$=="]("sidebar")?this.$convert_sidebar(b):c["$=="]("stem")?this.$convert_stem(b):c["$=="]("table")?this.$convert_table(b):c["$=="]("thematic_break")?this.$convert_thematic_break(b):c["$=="]("verse")?this.$convert_verse(b):c["$=="]("video")?this.$convert_video(b):c["$=="]("document")?this.$convert_document(b):c["$=="]("toc")?this.$convert_toc(b):
c["$=="]("pass")?this.$convert_pass(b):c["$=="]("audio")?this.$convert_audio(b):m(this,a.find_super_dispatcher(this,"convert",v,!1),g,f)},v.$$arity=-2);a.def(c,"$convert_document",x=function(c){var h,l,n,r,t,v=d,u=d,w=d,H=d,y=d,x=d,z=d,B=d,A=d,C=B=d,D=d,L=B=B=B=d,E=d,J=C=E=d,G=d,I=d;u=u=x=d;v="<br"+(u=this.void_element_slash)+">";f((w=c.$attr("asset-uri-scheme","https"))["$empty?"]())||(w=""+w+":");H=""+w+"//cdnjs.cloudflare.com/ajax/libs";y=c["$attr?"]("linkcss");x=f(c["$attr?"]("max-width"))?' style="max-width: '+
c.$attr("max-width")+';"':"";z=["<!DOCTYPE html>"];B=f(c["$attr?"]("nolang"))?"":' lang="'+c.$attr("lang","en")+'"';z["$<<"]("<html"+(f(this.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':"")+B+">");z["$<<"]('<head>\n<meta charset="'+c.$attr("encoding","UTF-8")+'"'+u+'>\n<meta http-equiv="X-UA-Compatible" content="IE=edge"'+u+'>\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+u+'>\n<meta name="generator" content="Asciidoctor '+c.$attr("asciidoctor-version")+'"'+u+">");if(f(c["$attr?"]("app-name")))z["$<<"]('<meta name="application-name" content="'+
c.$attr("app-name")+'"'+u+">");if(f(c["$attr?"]("description")))z["$<<"]('<meta name="description" content="'+c.$attr("description")+'"'+u+">");if(f(c["$attr?"]("keywords")))z["$<<"]('<meta name="keywords" content="'+c.$attr("keywords")+'"'+u+">");if(f(c["$attr?"]("authors")))z["$<<"]('<meta name="author" content="'+(f((A=c.$sub_replacements(c.$attr("authors")))["$include?"]("<"))?A.$gsub(p(q,"XmlSanitizeRx"),""):A)+'"'+u+">");if(f(c["$attr?"]("copyright")))z["$<<"]('<meta name="copyright" content="'+
c.$attr("copyright")+'"'+u+">");f(c["$attr?"]("favicon"))&&(f((B=c.$attr("favicon"))["$empty?"]())?(B="favicon.ico",C="image/x-icon"):C=f(D=p(q,"Helpers").$extname(B,d))?D["$=="](".ico")?"image/x-icon":"image/"+D.$slice(1,D.$length()):"image/x-icon",z["$<<"]('<link rel="icon" type="'+C+'" href="'+B+'"'+u+">"));z["$<<"]("<title>"+c.$doctitle(e(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>");if(f(p(q,"DEFAULT_STYLESHEET_KEYS")["$include?"](c.$attr("stylesheet")))){if(f(B=c.$attr("webfonts")))z["$<<"]('<link rel="stylesheet" href="'+
w+"//fonts.googleapis.com/css?family="+(f(B["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":B)+'"'+u+">");if(f(y))z["$<<"]('<link rel="stylesheet" href="'+c.$normalize_web_path(p(q,"DEFAULT_STYLESHEET_NAME"),c.$attr("stylesdir",""),!1)+'"'+u+">");else z["$<<"]("<style>\n"+p(q,"Stylesheets").$instance().$primary_stylesheet_data()+"\n</style>")}else if(f(c["$attr?"]("stylesheet")))if(f(y))z["$<<"]('<link rel="stylesheet" href="'+
c.$normalize_web_path(c.$attr("stylesheet"),c.$attr("stylesdir",""))+'"'+u+">");else z["$<<"]("<style>\n"+c.$read_contents(c.$attr("stylesheet"),e(["start","warn_on_failure","label"],{start:c.$attr("stylesdir"),warn_on_failure:!0,label:"stylesheet"}))+"\n</style>");if(f(c["$attr?"]("icons","font")))if(f(c["$attr?"]("iconfont-remote")))z["$<<"]('<link rel="stylesheet" href="'+c.$attr("iconfont-cdn",""+H+"/font-awesome/"+p(q,"FONT_AWESOME_VERSION")+"/css/font-awesome.min.css")+'"'+u+">");else B=""+
c.$attr("iconfont-name","font-awesome")+".css",z["$<<"]('<link rel="stylesheet" href="'+c.$normalize_web_path(B,c.$attr("stylesdir",""),!1)+'"'+u+">");if(f(B=c.$syntax_highlighter()))z["$<<"](L=z.$size());if(!f((E=c.$docinfo())["$empty?"]()))z["$<<"](E);z["$<<"]("</head>");E=f(c.$id())?' id="'+c.$id()+'"':"";J=f(f(h=f(l=f(n=C=c["$sections?"]())?c["$attr?"]("toc-class"):n)?c["$attr?"]("toc"):l)?c["$attr?"]("toc-placement","auto"):h)?[c.$doctype(),c.$attr("toc-class"),"toc-"+c.$attr("toc-position",
"header")]:[c.$doctype()];if(f(c["$role?"]()))J["$<<"](c.$role());z["$<<"]("<body"+E+' class="'+J.$join(" ")+'">');if(!f((E=c.$docinfo("header"))["$empty?"]()))z["$<<"](E);if(!f(c.$noheader())){z["$<<"]('<div id="header"'+x+">");if(c.$doctype()["$=="]("manpage")){z["$<<"]("<h1>"+c.$doctitle()+" Manual Page</h1>");if(f(f(h=f(l=C)?c["$attr?"]("toc"):l)?c["$attr?"]("toc-placement","auto"):h))z["$<<"]('<div id="toc" class="'+c.$attr("toc-class","toc")+'">\n<div id="toctitle">'+c.$attr("toc-title")+"</div>\n"+
c.$converter().$convert(c,"outline")+"\n</div>");if(f(c["$attr?"]("manpurpose")))z["$<<"](this.$generate_manname_section(c))}else{if(f(c["$header?"]())){if(!f(c.$notitle()))z["$<<"]("<h1>"+c.$header().$title()+"</h1>");G=[];I=1;m(c.$authors(),"each",[],(r=function(a){null==a&&(a=d);G["$<<"]('<span id="author'+(f(g(I,1))?I:"")+'" class="author">'+c.$sub_replacements(a.$name())+"</span>"+v);if(f(a.$email()))G["$<<"]('<span id="email'+(f(g(I,1))?I:"")+'" class="email">'+c.$sub_macros(a.$email())+"</span>"+
v);return I=k(I,1)},r.$$s=this,r.$$arity=1,r));if(f(c["$attr?"]("revnumber")))G["$<<"]('<span id="revnumber">'+(f(h=c.$attr("version-label"))?h:"").$downcase()+" "+c.$attr("revnumber")+(f(c["$attr?"]("revdate"))?",":"")+"</span>");if(f(c["$attr?"]("revdate")))G["$<<"]('<span id="revdate">'+c.$attr("revdate")+"</span>");if(f(c["$attr?"]("revremark")))G["$<<"](""+v+'<span id="revremark">'+c.$attr("revremark")+"</span>");f(G["$empty?"]())||(z["$<<"]('<div class="details">'),z.$concat(G),z["$<<"]("</div>"))}if(f(f(h=
f(l=C)?c["$attr?"]("toc"):l)?c["$attr?"]("toc-placement","auto"):h))z["$<<"]('<div id="toc" class="'+c.$attr("toc-class","toc")+'">\n<div id="toctitle">'+c.$attr("toc-title")+"</div>\n"+c.$converter().$convert(c,"outline")+"\n</div>")}z["$<<"]("</div>")}z["$<<"]('<div id="content"'+x+">\n"+c.$content()+"\n</div>");f(f(h=c["$footnotes?"]())?c["$attr?"]("nofootnotes")["$!"]():h)&&(z["$<<"]('<div id="footnotes"'+x+">\n<hr"+u+">"),m(c.$footnotes(),"each",[],(t=function(a){null==a&&(a=d);return z["$<<"]('<div class="footnote" id="_footnotedef_'+
a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},t.$$s=this,t.$$arity=1,t)),z["$<<"]("</div>"));if(!f(c.$nofooter())){z["$<<"]('<div id="footer"'+x+">");z["$<<"]('<div id="footer-text">');if(f(c["$attr?"]("revnumber")))z["$<<"](""+c.$attr("version-label")+" "+c.$attr("revnumber")+v);if(f(f(h=c["$attr?"]("last-update-label"))?c["$attr?"]("reproducible")["$!"]():h))z["$<<"](""+c.$attr("last-update-label")+" "+c.$attr("docdatetime"));z["$<<"]("</div>");
z["$<<"]("</div>")}if(f(B)&&(f(B["$docinfo?"]("head"))?(x=[L,B.$docinfo("head",c,e(["cdn_base_url","linkcss","self_closing_tag_slash"],{cdn_base_url:H,linkcss:y,self_closing_tag_slash:u}))],m(z,"[]=",a.to_a(x)),x[b(x.length,1)]):z.$delete_at(L),f(B["$docinfo?"]("footer"))))z["$<<"](B.$docinfo("footer",c,e(["cdn_base_url","linkcss","self_closing_tag_slash"],{cdn_base_url:H,linkcss:y,self_closing_tag_slash:u})));f(c["$attr?"]("stem"))&&(u=c.$attr("eqnums","none"),f(u["$empty?"]())&&(u="AMS"),u=' equationNumbers: { autoNumber: "'+
u+'" } ',z["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+p(q,"INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+p(q,"BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+p(q,"BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+u+'}\n})\nMathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {\n  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {\n    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains("stemblock")) {\n      data.math.root.display = "block"\n    }\n    return data\n  })\n})\n\x3c/script>\n<script src="'+
H+"/mathjax/"+p(q,"MATHJAX_VERSION")+'/MathJax.js?config=TeX-MML-AM_HTMLorMML">\x3c/script>'));if(!f((E=c.$docinfo("footer"))["$empty?"]()))z["$<<"](E);z["$<<"]("</body>");z["$<<"]("</html>");return z.$join(p(q,"LF"))},x.$$arity=1);a.def(c,"$convert_embedded",z=function(a){var b,c,e,g,h=d,k=d,l=d;h=[];if(a.$doctype()["$=="]("manpage")){if(f(a.$notitle())||(k=f(a.$id())?' id="'+a.$id()+'"':"",h["$<<"]("<h1"+k+">"+a.$doctitle()+" Manual Page</h1>")),f(a["$attr?"]("manpurpose")))h["$<<"](this.$generate_manname_section(a))}else f(f(b=
a["$header?"]())?a.$notitle()["$!"]():b)&&(k=f(a.$id())?' id="'+a.$id()+'"':"",h["$<<"]("<h1"+k+">"+a.$header().$title()+"</h1>"));if(f(f(b=f(c=f(e=a["$sections?"]())?a["$attr?"]("toc"):e)?(l=a.$attr("toc-placement"))["$!="]("macro"):c)?l["$!="]("preamble"):b))h["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+a.$converter().$convert(a,"outline")+"\n</div>");h["$<<"](a.$content());f(f(b=a["$footnotes?"]())?a["$attr?"]("nofootnotes")["$!"]():b)&&(h["$<<"]('<div id="footnotes">\n<hr'+
this.void_element_slash+">"),m(a.$footnotes(),"each",[],(g=function(a){null==a&&(a=d);return h["$<<"]('<div class="footnote" id="_footnotedef_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},g.$$s=this,g.$$arity=1,g)),h["$<<"]("</div>"));return h.$join(p(q,"LF"))},z.$$arity=1);a.def(c,"$convert_outline",B=function(a,b){var c,g,h,k=d,r=d,t=d,v=d;null==b&&(b=e([],{}));if(!f(a["$sections?"]()))return d;k=f(c=b["$[]"]("sectnumlevels"))?c:(f(g=a.$document().$attributes()["$[]"]("sectnumlevels"))?
g:3).$to_i();r=f(c=b["$[]"]("toclevels"))?c:(f(g=a.$document().$attributes()["$[]"]("toclevels"))?g:2).$to_i();t=a.$sections();v=['<ul class="sectlevel'+t["$[]"](0).$level()+'">'];m(t,"each",[],(h=function(b){var c=h.$$s||this,g,m=d,t=d;null==b&&(b=d);var u=b.$level();var w=f(b.$caption())?b.$captioned_title():f(f(g=b.$numbered())?l(u,k):g)?f(f(g=n(u,2))?a.$document().$doctype()["$=="]("book"):g)?b.$sectname()["$=="]("chapter")?(f(m=a.$document().$attributes()["$[]"]("chapter-signifier"))?""+m+" ":
"")+b.$sectnum()+" "+b.$title():b.$sectname()["$=="]("part")?(f(m=a.$document().$attributes()["$[]"]("part-signifier"))?""+m+" ":"")+b.$sectnum(d,":")+" "+b.$title():""+b.$sectnum()+" "+b.$title():""+b.$sectnum()+" "+b.$title():b.$title();f(w["$include?"]("<a"))&&(w=w.$gsub(p(q,"DropAnchorRx"),""));return f(f(g=n(u,r))?t=c.$convert_outline(b,e(["toclevels","sectnumlevels"],{toclevels:r,sectnumlevels:k})):g)?(v["$<<"]('<li><a href="#'+b.$id()+'">'+w+"</a>"),v["$<<"](t),v["$<<"]("</li>")):v["$<<"]('<li><a href="#'+
b.$id()+'">'+w+"</a></li>")},h.$$s=this,h.$$arity=1,h));v["$<<"]("</ul>");return v.$join(p(q,"LF"))},B.$$arity=-2);a.def(c,"$convert_section",A=function(a){var b,c,e=d,g=d;var h=a.$document().$attributes();var m=a.$level();var p=f(a.$caption())?a.$captioned_title():f(f(b=a.$numbered())?l(m,(f(c=h["$[]"]("sectnumlevels"))?c:3).$to_i()):b)?f(f(b=n(m,2))?a.$document().$doctype()["$=="]("book"):b)?a.$sectname()["$=="]("chapter")?(f(e=h["$[]"]("chapter-signifier"))?""+e+" ":"")+a.$sectnum()+" "+a.$title():
a.$sectname()["$=="]("part")?(f(e=h["$[]"]("part-signifier"))?""+e+" ":"")+a.$sectnum(d,":")+" "+a.$title():""+a.$sectnum()+" "+a.$title():""+a.$sectnum()+" "+a.$title():a.$title();f(a.$id())?(b=' id="'+(c=a.$id())+'"',f(h["$[]"]("sectlinks"))&&(p='<a class="link" href="#'+c+'">'+p+"</a>"),f(h["$[]"]("sectanchors"))&&(p=h["$[]"]("sectanchors")["$=="]("after")?""+p+'<a class="anchor" href="#'+c+'"></a>':'<a class="anchor" href="#'+c+'"></a>'+p)):b="";return m["$=="](0)?"<h1"+b+' class="sect0'+(f(g=
a.$role())?" "+g:"")+'">'+p+"</h1>\n"+a.$content():'<div class="sect'+m+(f(g=a.$role())?" "+g:"")+'">\n<h'+k(m,1)+b+">"+p+"</h"+k(m,1)+">\n"+(m["$=="](1)?'<div class="sectionbody">\n'+a.$content()+"\n</div>":a.$content())+"\n</div>"},A.$$arity=1);a.def(c,"$convert_admonition",C=function(a){var b,c=d;var e=f(a.$id())?' id="'+a.$id()+'"':"";var g=a.$attr("name");var h=f(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";var k=f(a.$document()["$attr?"]("icons"))?f(f(b=a.$document()["$attr?"]("icons",
"font"))?a["$attr?"]("icon")["$!"]():b)?'<i class="fa icon-'+g+'" title="'+a.$attr("textlabel")+'"></i>':'<img src="'+a.$icon_uri(g)+'" alt="'+a.$attr("textlabel")+'"'+this.void_element_slash+">":'<div class="title">'+a.$attr("textlabel")+"</div>";return"<div"+e+' class="admonitionblock '+g+(f(c=a.$role())?" "+c:"")+'">\n<table>\n<tr>\n<td class="icon">\n'+k+'\n</td>\n<td class="content">\n'+h+a.$content()+"\n</td>\n</tr>\n</table>\n</div>"},C.$$arity=1);a.def(c,"$convert_audio",D=function(a){var b;
var d=this.xml_mode;var c=f(a.$id())?' id="'+a.$id()+'"':"";var e=' class="'+["audioblock",a.$role()].$compact().$join(" ")+'"';var g=f(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";var h=a.$attr("start");var k=a.$attr("end");h=f(f(b=h)?b:k)?"#t="+(f(b=h)?b:"")+(f(k)?","+k:""):"";return"<div"+c+e+">\n"+g+'<div class="content">\n<audio src="'+a.$media_uri(a.$attr("target"))+h+'"'+(f(a["$option?"]("autoplay"))?this.$append_boolean_attribute("autoplay",d):"")+(f(a["$option?"]("nocontrols"))?
"":this.$append_boolean_attribute("controls",d))+(f(a["$option?"]("loop"))?this.$append_boolean_attribute("loop",d):"")+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},D.$$arity=1);a.def(c,"$convert_colist",L=function(a){var b,c=d,e=d,g=d,h=g=d,l=d;c=[];e=f(a.$id())?' id="'+a.$id()+'"':"";g=["colist",a.$style(),a.$role()].$compact();g=' class="'+g.$join(" ")+'"';c["$<<"]("<div"+e+g+">");if(f(a["$title?"]()))c["$<<"]('<div class="title">'+a.$title()+"</div>");if(f(a.$document()["$attr?"]("icons"))){c["$<<"]("<table>");
var n=[a.$document()["$attr?"]("icons","font"),0];h=n[0];l=n[1];n;m(a.$items(),"each",[],(b=function(e){var g=b.$$s||this;null==g.void_element_slash&&(g.void_element_slash=d);null==e&&(e=d);l=k(l,1);g=f(h)?'<i class="conum" data-value="'+l+'"></i><b>'+l+"</b>":'<img src="'+a.$icon_uri("callouts/"+l)+'" alt="'+l+'"'+g.void_element_slash+">";return c["$<<"]("<tr>\n<td>"+g+"</td>\n<td>"+e.$text()+(f(e["$blocks?"]())?k(p(q,"LF"),e.$content()):"")+"</td>\n</tr>")},b.$$s=this,b.$$arity=1,b));c["$<<"]("</table>")}else c["$<<"]("<ol>"),
m(a.$items(),"each",[],(n=function(a){null==a&&(a=d);return c["$<<"]("<li>\n<p>"+a.$text()+"</p>"+(f(a["$blocks?"]())?k(p(q,"LF"),a.$content()):"")+"\n</li>")},n.$$s=this,n.$$arity=1,n)),c["$<<"]("</ol>");c["$<<"]("</div>");return c.$join(p(q,"LF"))},L.$$arity=1);a.def(c,"$convert_dlist",E=function(a){var b,c,e,g,h=d,k=d,l=d,n=l=l=d,r=k=d;h=[];k=f(a.$id())?' id="'+a.$id()+'"':"";l=a.$style();l=("qanda"["$==="](l)?["qlist","qanda",a.$role()]:"horizontal"["$==="](l)?["hdlist",a.$role()]:["dlist",a.$style(),
a.$role()]).$compact();l=' class="'+l.$join(" ")+'"';h["$<<"]("<div"+k+l+">");if(f(a["$title?"]()))h["$<<"]('<div class="title">'+a.$title()+"</div>");l=a.$style();"qanda"["$==="](l)?(h["$<<"]("<ol>"),m(a.$items(),"each",[],(b=function(a,c){var e=b.$$s||this,g;null==a&&(a=d);null==c&&(c=d);h["$<<"]("<li>");m(a,"each",[],(g=function(a){null==a&&(a=d);return h["$<<"]("<p><em>"+a.$text()+"</em></p>")},g.$$s=e,g.$$arity=1,g));if(f(c)){if(f(c["$text?"]()))h["$<<"]("<p>"+c.$text()+"</p>");if(f(c["$blocks?"]()))h["$<<"](c.$content())}return h["$<<"]("</li>")},
b.$$s=this,b.$$arity=2,b)),h["$<<"]("</ol>")):"horizontal"["$==="](l)?(n=this.void_element_slash,h["$<<"]("<table>"),f(f(c=a["$attr?"]("labelwidth"))?c:a["$attr?"]("itemwidth"))&&(h["$<<"]("<colgroup>"),k=f(a["$attr?"]("labelwidth"))?' style="width: '+a.$attr("labelwidth").$chomp("%")+'%;"':"",h["$<<"]("<col"+k+n+">"),k=f(a["$attr?"]("itemwidth"))?' style="width: '+a.$attr("itemwidth").$chomp("%")+'%;"':"",h["$<<"]("<col"+k+n+">"),h["$<<"]("</colgroup>")),m(a.$items(),"each",[],(e=function(b,c){var g=
e.$$s||this,k,l=d;null==b&&(b=d);null==c&&(c=d);h["$<<"]("<tr>");h["$<<"]('<td class="hdlist1'+(f(a["$option?"]("strong"))?" strong":"")+'">');l=!0;m(b,"each",[],(k=function(a){null==a&&(a=d);if(!f(l))h["$<<"]("<br"+n+">");h["$<<"](a.$text());return l=d},k.$$s=g,k.$$arity=1,k));h["$<<"]("</td>");h["$<<"]('<td class="hdlist2">');if(f(c)){if(f(c["$text?"]()))h["$<<"]("<p>"+c.$text()+"</p>");if(f(c["$blocks?"]()))h["$<<"](c.$content())}h["$<<"]("</td>");return h["$<<"]("</tr>")},e.$$s=this,e.$$arity=
2,e)),h["$<<"]("</table>")):(h["$<<"]("<dl>"),r=f(a.$style())?"":' class="hdlist1"',m(a.$items(),"each",[],(g=function(a,b){var c=g.$$s||this,e;null==a&&(a=d);null==b&&(b=d);m(a,"each",[],(e=function(a){null==a&&(a=d);return h["$<<"]("<dt"+r+">"+a.$text()+"</dt>")},e.$$s=c,e.$$arity=1,e));if(f(b)){h["$<<"]("<dd>");if(f(b["$text?"]()))h["$<<"]("<p>"+b.$text()+"</p>");if(f(b["$blocks?"]()))h["$<<"](b.$content());return h["$<<"]("</dd>")}return d},g.$$s=this,g.$$arity=2,g)),h["$<<"]("</dl>"));h["$<<"]("</div>");
return h.$join(p(q,"LF"))},E.$$arity=1);a.def(c,"$convert_example",J=function(a){var b=d;var c=f(a.$id())?' id="'+a.$id()+'"':"";if(f(a["$option?"]("collapsible"))){var e=f(a.$role())?' class="'+a.$role()+'"':"";b=f(a["$title?"]())?'<summary class="title">'+a.$title()+"</summary>":'<summary class="title">Details</summary>';return"<details"+c+e+(f(a["$option?"]("open"))?" open":"")+">\n"+b+'\n<div class="content">\n'+a.$content()+"\n</div>\n</details>"}e=f(a["$title?"]())?'<div class="title">'+a.$captioned_title()+
"</div>\n":"";return"<div"+c+' class="exampleblock'+(f(b=a.$role())?" "+b:"")+'">\n'+e+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"},J.$$arity=1);a.def(c,"$convert_floating_title",G=function(a){var b="h"+k(a.$level(),1);var d=f(a.$id())?' id="'+a.$id()+'"':"";var c=[a.$style(),a.$role()].$compact();return"<"+b+d+' class="'+c.$join(" ")+'">'+a.$title()+"</"+b+">"},G.$$arity=1);a.def(c,"$convert_image",I=function(a){var b,c,e,g=d,h=d,k=d;var m=a.$attr("target");var l=f(a["$attr?"]("width"))?
' width="'+a.$attr("width")+'"':"";var t=f(a["$attr?"]("height"))?' height="'+a.$attr("height")+'"':"";f(f(b=f(c=f(e=a["$attr?"]("format","svg"))?e:m["$include?"](".svg"))?n(a.$document().$safe(),r(p(q,"SafeMode"),"SECURE")):c)?f(c=g=a["$option?"]("inline"))?c:h=a["$option?"]("interactive"):b)&&(f(g)?k=f(b=this.$read_svg_contents(a,m))?b:'<span class="alt">'+a.$alt()+"</span>":f(h)&&(k=f(a["$attr?"]("fallback"))?'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+this.$encode_attribute_value(a.$alt())+
'"'+l+t+this.void_element_slash+">":'<span class="alt">'+a.$alt()+"</span>",k='<object type="image/svg+xml" data="'+a.$image_uri(m)+'"'+l+t+">"+k+"</object>"));k=f(b=k)?b:'<img src="'+a.$image_uri(m)+'" alt="'+this.$encode_attribute_value(a.$alt())+'"'+l+t+this.void_element_slash+">";f(a["$attr?"]("link"))&&(k='<a class="image" href="'+a.$attr("link")+'"'+this.$append_link_constraint_attrs(a).$join()+">"+k+"</a>");b=f(a.$id())?' id="'+a.$id()+'"':"";m=["imageblock"];if(f(a["$attr?"]("float")))m["$<<"](a.$attr("float"));
if(f(a["$attr?"]("align")))m["$<<"]("text-"+a.$attr("align"));if(f(a.$role()))m["$<<"](a.$role());m=' class="'+m.$join(" ")+'"';a=f(a["$title?"]())?'\n<div class="title">'+a.$captioned_title()+"</div>":"";return"<div"+b+m+'>\n<div class="content">\n'+k+"\n</div>"+a+"\n</div>"},I.$$arity=1);a.def(c,"$convert_listing",K=function(c){var g,h=d,l=d,p=d,n=d,q=d,r=d,t=d;var v=f(g=c["$option?"]("nowrap"))?g:c.$document()["$attr?"]("prewrap")["$!"]();c.$style()["$=="]("source")?(h=c.$attr("language"),f(l=
c.$document().$syntax_highlighter())?(p=f(l["$highlight?"]())?e(["css_mode","style"],{css_mode:(f(g=(n=c.$document().$attributes())["$[]"](""+l.$name()+"-css"))?g:"class").$to_sym(),style:n["$[]"](""+l.$name()+"-style")}):e([],{}),v=["nowrap",v],m(p,"[]=",a.to_a(v)),v[b(v.length,1)]):(q='<pre class="highlight'+(f(v)?" nowrap":"")+'"><code'+(f(h)?' class="language-'+h+'" data-lang="'+h+'"':"")+">",r="</code></pre>")):(q="<pre"+(f(v)?' class="nowrap"':"")+">",r="</pre>");v=f(c.$id())?' id="'+c.$id()+
'"':"";n=f(c["$title?"]())?'<div class="title">'+c.$captioned_title()+"</div>\n":"";return"<div"+v+' class="listingblock'+(f(t=c.$role())?" "+t:"")+'">\n'+n+'<div class="content">\n'+(f(l)?l.$format(c,h,p):k(k(q,f(g=c.$content())?g:""),r))+"\n</div>\n</div>"},K.$$arity=1);a.def(c,"$convert_literal",M=function(a){var b,c=d;var e=f(a.$id())?' id="'+a.$id()+'"':"";var g=f(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";var h=f(b=a.$document()["$attr?"]("prewrap")["$!"]())?b:a["$option?"]("nowrap");
return"<div"+e+' class="literalblock'+(f(c=a.$role())?" "+c:"")+'">\n'+g+'<div class="content">\n<pre'+(f(h)?' class="nowrap"':"")+">"+a.$content()+"</pre>\n</div>\n</div>"},M.$$arity=1);a.def(c,"$convert_stem",N=function(c){var e,g,h=d,k=d,l=d,n=d,r=d,t=e=d,v=d;h=f(c.$id())?' id="'+c.$id()+'"':"";k=f(c["$title?"]())?'<div class="title">'+c.$title()+"</div>\n":"";e=p(q,"BLOCK_MATH_DELIMITERS")["$[]"](l=c.$style().$to_sym());var u=a.to_ary(e);n=null==u[0]?d:u[0];r=null==u[1]?d:u[1];e;f(e=c.$content())?
(f((u=l["$=="]("asciimath"))?e["$include?"](p(q,"LF")):l["$=="]("asciimath"))&&(t=""+p(q,"LF")+"<br"+this.void_element_slash+">",e=m(e,"gsub",[p(q,"StemBreakRx")],(g=function(){var a,c=""+r,e=b(((a=w["~"])===d?d:a["$[]"](0)).$count(p(q,"LF")),1);a="number"===typeof t&&"number"===typeof e?t*e:t["$*"](e);return c+a+p(q,"LF")+n},g.$$s=this,g.$$arity=0,g))),f(f(u=e["$start_with?"](n))?e["$end_with?"](r):u)||(e=""+n+e+r)):e="";return"<div"+h+' class="stemblock'+(f(v=c.$role())?" "+v:"")+'">\n'+k+'<div class="content">\n'+
e+"\n</div>\n</div>"},N.$$arity=1);a.def(c,"$convert_olist",V=function(a){var b,c=d,e=d,g=d,h=e=g=d,k=g=d;c=[];e=f(a.$id())?' id="'+a.$id()+'"':"";g=["olist",a.$style(),a.$role()].$compact();g=' class="'+g.$join(" ")+'"';c["$<<"]("<div"+e+g+">");if(f(a["$title?"]()))c["$<<"]('<div class="title">'+a.$title()+"</div>");e=f(h=a.$list_marker_keyword())?' type="'+h+'"':"";g=f(a["$attr?"]("start"))?' start="'+a.$attr("start")+'"':"";k=f(a["$option?"]("reversed"))?this.$append_boolean_attribute("reversed",
this.xml_mode):"";c["$<<"]('<ol class="'+a.$style()+'"'+e+g+k+">");m(a.$items(),"each",[],(b=function(a){null==a&&(a=d);if(f(a.$id()))c["$<<"]('<li id="'+a.$id()+'"'+(f(a.$role())?' class="'+a.$role()+'"':"")+">");else if(f(a.$role()))c["$<<"]('<li class="'+a.$role()+'">');else c["$<<"]("<li>");c["$<<"]("<p>"+a.$text()+"</p>");if(f(a["$blocks?"]()))c["$<<"](a.$content());return c["$<<"]("</li>")},b.$$s=this,b.$$arity=1,b));c["$<<"]("</ol>");c["$<<"]("</div>");return c.$join(p(q,"LF"))},V.$$arity=
1);a.def(c,"$convert_open",P=function(a){var b,c,e=d;if((c=a.$style())["$=="]("abstract")){if(f(a.$parent()["$=="](a.$document())?a.$document().$doctype()["$=="]("book"):a.$parent()["$=="](a.$document())))return this.$logger().$warn("abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),"";var h=f(a.$id())?' id="'+a.$id()+'"':"";var k=f(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";return"<div"+h+' class="quoteblock abstract'+
(f(e=a.$role())?" "+e:"")+'">\n'+k+"<blockquote>\n"+a.$content()+"\n</blockquote>\n</div>"}if(f((b=c["$=="]("partintro"))?f(h=f(k=g(a.$level(),0))?k:a.$parent().$context()["$!="]("section"))?h:a.$document().$doctype()["$!="]("book"):c["$=="]("partintro")))return this.$logger().$error("partintro block can only be used when doctype is book and must be a child of a book part. Excluding block content."),"";h=f(a.$id())?' id="'+a.$id()+'"':"";k=f(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":
"";return"<div"+h+' class="openblock'+(f(f(b=c)?c["$!="]("open"):b)?" "+c:"")+(f(e=a.$role())?" "+e:"")+'">\n'+k+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"},P.$$arity=1);a.def(c,"$convert_page_break",S=function(a){return'<div style="page-break-after: always;"></div>'},S.$$arity=1);a.def(c,"$convert_paragraph",U=function(a){var b=f(a.$role())?(f(a.$id())?' id="'+a.$id()+'"':"")+' class="paragraph '+a.$role()+'"':f(a.$id())?' id="'+a.$id()+'" class="paragraph"':' class="paragraph"';return f(a["$title?"]())?
"<div"+b+'>\n<div class="title">'+a.$title()+"</div>\n<p>"+a.$content()+"</p>\n</div>":"<div"+b+">\n<p>"+a.$content()+"</p>\n</div>"},U.$$arity=1);a.alias(c,"convert_pass","content_only");a.def(c,"$convert_preamble",T=function(a){var b,c,e=d;var g=f(f(b=f(c=(e=a.$document())["$attr?"]("toc-placement","preamble"))?e["$sections?"]():c)?e["$attr?"]("toc"):b)?'\n<div id="toc" class="'+e.$attr("toc-class","toc")+'">\n<div id="toctitle">'+e.$attr("toc-title")+"</div>\n"+e.$converter().$convert(e,"outline")+
"\n</div>":"";return'<div id="preamble">\n<div class="sectionbody">\n'+a.$content()+"\n</div>"+g+"\n</div>"},T.$$arity=1);a.def(c,"$convert_quote",ca=function(a){var b=f(a.$id())?' id="'+a.$id()+'"':"";var c=' class="'+["quoteblock",a.$role()].$compact().$join(" ")+'"';var e=f(a["$title?"]())?'\n<div class="title">'+a.$title()+"</div>":"";var g=f(a["$attr?"]("attribution"))?a.$attr("attribution"):d;var h=f(a["$attr?"]("citetitle"))?a.$attr("citetitle"):d;if(f(f(g)?g:h)){var k=f(h)?"<cite>"+h+"</cite>":
"";g=f(g)?"&#8212; "+g+(f(h)?"<br"+this.void_element_slash+">\n":""):"";k='\n<div class="attribution">\n'+g+k+"\n</div>"}else k="";return"<div"+b+c+">"+e+"\n<blockquote>\n"+a.$content()+"\n</blockquote>"+k+"\n</div>"},ca.$$arity=1);a.def(c,"$convert_thematic_break",ia=function(a){return"<hr"+this.void_element_slash+">"},ia.$$arity=1);a.def(c,"$convert_sidebar",Y=function(a){var b=d;var c=f(a.$id())?' id="'+a.$id()+'"':"";var e=f(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";return"<div"+
c+' class="sidebarblock'+(f(b=a.$role())?" "+b:"")+'">\n<div class="content">\n'+e+a.$content()+"\n</div>\n</div>"},Y.$$arity=1);a.def(c,"$convert_table",ea=function(a){var b,c,e,h=d,l=d,n=d,r=d,t=n=d,v=n=d,u=t=r=v=d;h=[];l=f(a.$id())?' id="'+a.$id()+'"':"";(n=a.$attr("frame","all","table-frame"))["$=="]("topbot")&&(n="ends");r=["tableblock","frame-"+n,"grid-"+a.$attr("grid","all","table-grid")];if(f(n=a.$attr("stripes",d,"table-stripes")))r["$<<"]("stripes-"+n);t=[];if(f(f(b=n=a["$option?"]("autowidth"))?
a["$attr?"]("width")["$!"]():b))r["$<<"]("fit-content");else if((v=a.$attr("tablepcwidth"))["$=="](100))r["$<<"]("stretch");else t["$<<"]("width: "+v+"%;");if(f(a["$attr?"]("float")))r["$<<"](a.$attr("float"));if(f(v=a.$role()))r["$<<"](v);r=' class="'+r.$join(" ")+'"';t=f(t["$empty?"]())?"":' style="'+t.$join(" ")+'"';h["$<<"]("<table"+l+r+t+">");if(f(a["$title?"]()))h["$<<"]('<caption class="title">'+a.$captioned_title()+"</caption>");f(g(a.$attr("rowcount"),0))&&(u=this.void_element_slash,h["$<<"]("<colgroup>"),
f(n)?h=k(h,p(q,"Array").$new(a.$columns().$size(),"<col"+u+">")):m(a.$columns(),"each",[],(c=function(a){null==a&&(a=d);return h["$<<"](f(a["$option?"]("autowidth"))?"<col"+u+">":'<col style="width: '+a.$attr("colpcwidth")+'%;"'+u+">")},c.$$s=this,c.$$arity=1,c)),h["$<<"]("</colgroup>"),m(a.$rows().$to_h(),"each",[],(e=function(b,c){var g=e.$$s||this,k;null==b&&(b=d);null==c&&(c=d);if(f(c["$empty?"]()))return d;h["$<<"]("<t"+b+">");m(c,"each",[],(k=function(c){var e=k.$$s||this,g;null==c&&(c=d);h["$<<"]("<tr>");
m(c,"each",[],(g=function(c){var e,g=d;null==c&&(c=d);if(b["$=="]("head"))g=c.$text();else{var k=c.$style();g="asciidoc"["$==="](k)?'<div class="content">'+c.$content()+"</div>":"literal"["$==="](k)?'<div class="literal"><pre>'+c.$text()+"</pre></div>":f((g=c.$content())["$empty?"]())?"":'<p class="tableblock">'+g.$join('</p>\n<p class="tableblock">')+"</p>"}k=f(f(e=b["$=="]("head"))?e:c.$style()["$=="]("header"))?"th":"td";e=' class="tableblock halign-'+c.$attr("halign")+" valign-"+c.$attr("valign")+
'"';var m=f(c.$colspan())?' colspan="'+c.$colspan()+'"':"";c=f(c.$rowspan())?' rowspan="'+c.$rowspan()+'"':"";var l=f(a.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+a.$document().$attr("cellbgcolor")+';"':"";return h["$<<"]("<"+k+e+m+c+l+">"+g+"</"+k+">")},g.$$s=e,g.$$arity=1,g));return h["$<<"]("</tr>")},k.$$s=g,k.$$arity=1,k));return h["$<<"]("</t"+b+">")},e.$$s=this,e.$$arity=2,e)));h["$<<"]("</table>");return h.$join(p(q,"LF"))},ea.$$arity=1);a.def(c,"$convert_toc",la=function(a){var b,
c,g=d;if(!f(f(b=f(c=(g=a.$document())["$attr?"]("toc-placement","macro"))?g["$sections?"]():c)?g["$attr?"]("toc"):b))return"\x3c!-- toc disabled --\x3e";f(a.$id())?(b=' id="'+a.$id()+'"',c=' id="'+a.$id()+'title"'):(b=' id="toc"',c=' id="toctitle"');var h=f(a["$title?"]())?a.$title():g.$attr("toc-title");var k=f(a["$attr?"]("levels"))?a.$attr("levels").$to_i():d;a=f(a["$role?"]())?a.$role():g.$attr("toc-class","toc");return"<div"+b+' class="'+a+'">\n<div'+c+' class="title">'+h+"</div>\n"+g.$converter().$convert(g,
"outline",e(["toclevels"],{toclevels:k}))+"\n</div>"},la.$$arity=1);a.def(c,"$convert_ulist",ha=function(a){var b,c=d,e=d,g=d,h=d,k=d,l=d,n=d;c=[];e=f(a.$id())?' id="'+a.$id()+'"':"";g=["ulist",a.$style(),a.$role()].$compact();h=k="";f(l=a["$option?"]("checklist"))?(g.$unshift(g.$shift(),"checklist"),n=' class="checklist"',f(a["$option?"]("interactive"))?f(this.xml_mode)?(h='<input type="checkbox" data-item-complete="1" checked="checked"/> ',k='<input type="checkbox" data-item-complete="0"/> '):(h=
'<input type="checkbox" data-item-complete="1" checked> ',k='<input type="checkbox" data-item-complete="0"> '):f(a.$document()["$attr?"]("icons","font"))?(h='<i class="fa fa-check-square-o"></i> ',k='<i class="fa fa-square-o"></i> '):(h="&#10003; ",k="&#10063; ")):n=f(a.$style())?' class="'+a.$style()+'"':"";c["$<<"]("<div"+e+' class="'+g.$join(" ")+'">');if(f(a["$title?"]()))c["$<<"]('<div class="title">'+a.$title()+"</div>");c["$<<"]("<ul"+n+">");m(a.$items(),"each",[],(b=function(a){var b;null==
a&&(a=d);if(f(a.$id()))c["$<<"]('<li id="'+a.$id()+'"'+(f(a.$role())?' class="'+a.$role()+'"':"")+">");else if(f(a.$role()))c["$<<"]('<li class="'+a.$role()+'">');else c["$<<"]("<li>");if(f(f(b=l)?a["$attr?"]("checkbox"):b))c["$<<"]("<p>"+(f(a["$attr?"]("checked"))?h:k)+a.$text()+"</p>");else c["$<<"]("<p>"+a.$text()+"</p>");if(f(a["$blocks?"]()))c["$<<"](a.$content());return c["$<<"]("</li>")},b.$$s=this,b.$$arity=1,b));c["$<<"]("</ul>");c["$<<"]("</div>");return c.$join(p(q,"LF"))},ha.$$arity=1);
a.def(c,"$convert_verse",ua=function(a){var b=f(a.$id())?' id="'+a.$id()+'"':"";var c=' class="'+["verseblock",a.$role()].$compact().$join(" ")+'"';var e=f(a["$title?"]())?'\n<div class="title">'+a.$title()+"</div>":"";var g=f(a["$attr?"]("attribution"))?a.$attr("attribution"):d;var h=f(a["$attr?"]("citetitle"))?a.$attr("citetitle"):d;if(f(f(g)?g:h)){var k=f(h)?"<cite>"+h+"</cite>":"";g=f(g)?"&#8212; "+g+(f(h)?"<br"+this.void_element_slash+">\n":""):"";k='\n<div class="attribution">\n'+g+k+"\n</div>"}else k=
"";return"<div"+b+c+">"+e+'\n<pre class="content">'+a.$content()+"</pre>"+k+"\n</div>"},ua.$$arity=1);a.def(c,"$convert_video",da=function(b){var c,e,g=this,h=d,k=d,m=d,l=d,p=d,n=d,q=d,r=d,t=d,v=d,u=d,w=d,y=d,z=d,x=d,B=d,A=d,H=d,C=d,D=d,L=d,E=d,J=d,G=d,I=d,K=d,M=d,N=d,Z=d,V=d,P=d,fa=d,S=d,W=d,U=d;h=g.xml_mode;k=f(b.$id())?' id="'+b.$id()+'"':"";m=["videoblock"];if(f(b["$attr?"]("float")))m["$<<"](b.$attr("float"));if(f(b["$attr?"]("align")))m["$<<"]("text-"+b.$attr("align"));if(f(b.$role()))m["$<<"](b.$role());
l=' class="'+m.$join(" ")+'"';p=f(b["$title?"]())?'\n<div class="title">'+b.$title()+"</div>":"";n=f(b["$attr?"]("width"))?' width="'+b.$attr("width")+'"':"";q=f(b["$attr?"]("height"))?' height="'+b.$attr("height")+'"':"";return function(){r=b.$attr("poster");if("vimeo"["$==="](r))return f((t=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(t=""+t+":"),v=f(b["$attr?"]("start"))?"#at="+b.$attr("start"):"",u=["?"],w=f(b["$option?"]("autoplay"))?""+(f(c=u.$pop())?c:"&amp;")+"autoplay=1":
"",y=f(b["$option?"]("loop"))?""+(f(c=u.$pop())?c:"&amp;")+"loop=1":"",z=f(b["$option?"]("muted"))?""+(f(c=u.$pop())?c:"&amp;")+"muted=1":"","<div"+k+l+">"+p+'\n<div class="content">\n<iframe'+n+q+' src="'+t+"//player.vimeo.com/video/"+b.$attr("target")+w+y+z+v+'" frameborder="0"'+(f(b["$option?"]("nofullscreen"))?"":g.$append_boolean_attribute("allowfullscreen",h))+"></iframe>\n</div>\n</div>";if("youtube"["$==="](r))return f((t=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(t=
""+t+":"),x=f(b["$option?"]("related"))?1:0,B=f(b["$attr?"]("start"))?"&amp;start="+b.$attr("start"):"",A=f(b["$attr?"]("end"))?"&amp;end="+b.$attr("end"):"",w=f(b["$option?"]("autoplay"))?"&amp;autoplay=1":"",y=f(H=b["$option?"]("loop"))?"&amp;loop=1":"",C=f(b["$option?"]("muted"))?"&amp;mute=1":"",D=f(b["$option?"]("nocontrols"))?"&amp;controls=0":"",f(b["$option?"]("nofullscreen"))?(L="&amp;fs=0",E=""):(L="",E=g.$append_boolean_attribute("allowfullscreen",h)),J=f(b["$option?"]("modest"))?"&amp;modestbranding=1":
"",G=f(b["$attr?"]("theme"))?"&amp;theme="+b.$attr("theme"):"",I=f(b["$attr?"]("lang"))?"&amp;hl="+b.$attr("lang"):"",e=b.$attr("target").$split("/",2),c=a.to_ary(e),K=null==c[0]?d:c[0],M=null==c[1]?d:c[1],e,f(M=f(c=M)?c:b.$attr("list"))?N="&amp;list="+M:(e=K.$split(",",2),c=a.to_ary(e),K=null==c[0]?d:c[0],Z=null==c[1]?d:c[1],e,N=f(Z=f(c=Z)?c:b.$attr("playlist"))?"&amp;playlist="+Z:f(H)?"&amp;playlist="+K:""),"<div"+k+l+">"+p+'\n<div class="content">\n<iframe'+n+q+' src="'+t+"//www.youtube.com/embed/"+
K+"?rel="+x+B+A+w+y+C+D+N+L+J+G+I+'" frameborder="0"'+E+"></iframe>\n</div>\n</div>";V=f((P=b.$attr("poster"))["$nil_or_empty?"]())?"":' poster="'+b.$media_uri(P)+'"';fa=f((P=b.$attr("preload"))["$nil_or_empty?"]())?"":' preload="'+P+'"';S=b.$attr("start");W=b.$attr("end");U=f(f(c=S)?c:W)?"#t="+(f(c=S)?c:"")+(f(W)?","+W:""):"";return"<div"+k+l+">"+p+'\n<div class="content">\n<video src="'+b.$media_uri(b.$attr("target"))+U+'"'+n+q+V+(f(b["$option?"]("autoplay"))?g.$append_boolean_attribute("autoplay",
h):"")+(f(b["$option?"]("muted"))?g.$append_boolean_attribute("muted",h):"")+(f(b["$option?"]("nocontrols"))?"":g.$append_boolean_attribute("controls",h))+(f(b["$option?"]("loop"))?g.$append_boolean_attribute("loop",h):"")+fa+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>"}()},da.$$arity=1);a.def(c,"$convert_inline_anchor",va=function(a){var b,c,e,g=this,h=d,k=d,m=d,l=d,n=d,r=d,t=d;return function(){h=a.$type();if("xref"["$==="](h))return f(k=a.$attributes()["$[]"]("path"))?
(m=g.$append_link_constraint_attrs(a,f(a.$role())?[' class="'+a.$role()+'"']:[]).$join(),l=f(b=a.$text())?b:k):(m=f(a.$role())?' class="'+a.$role()+'"':"",f(l=a.$text())||(n=a.$attributes()["$[]"]("refid"),f(f(b=f(c=p(q,"AbstractNode")["$==="](r=(g.refs=f(e=g.refs)?e:a.$document().$catalog()["$[]"]("refs"))["$[]"](n)))?g.resolving_xref=f(e=g.resolving_xref)?e:t=!0:c)?t:b)?(f((l=r.$xreftext(a.$attr("xrefstyle",d,!0)))["$!"]())?l="["+n+"]":f(l["$include?"]("<a"))&&(l=l.$gsub(p(q,"DropAnchorRx"),"")),
g.resolving_xref=d):l="["+n+"]")),'<a href="'+a.$target()+'"'+m+">"+l+"</a>";if("ref"["$==="](h))return'<a id="'+a.$id()+'"></a>';if("link"["$==="](h)){m=f(a.$id())?[' id="'+a.$id()+'"']:[];if(f(a.$role()))m["$<<"](' class="'+a.$role()+'"');if(f(a["$attr?"]("title")))m["$<<"](' title="'+a.$attr("title")+'"');return'<a href="'+a.$target()+'"'+g.$append_link_constraint_attrs(a,m).$join()+">"+a.$text()+"</a>"}if("bibref"["$==="](h))return'<a id="'+a.$id()+'"></a>['+(f(b=a.$reftext())?b:a.$id())+"]";
g.$logger().$warn("unknown anchor type: "+a.$type().$inspect());return d}()},va.$$arity=1);a.def(c,"$convert_inline_break",Aa=function(a){return""+a.$text()+"<br"+this.void_element_slash+">"},Aa.$$arity=1);a.def(c,"$convert_inline_button",qa=function(a){return'<b class="button">'+a.$text()+"</b>"},qa.$$arity=1);a.def(c,"$convert_inline_callout",Ia=function(a){if(f(a.$document()["$attr?"]("icons","font")))return'<i class="conum" data-value="'+a.$text()+'"></i><b>('+a.$text()+")</b>";if(f(a.$document()["$attr?"]("icons"))){var b=
a.$icon_uri("callouts/"+a.$text());return'<img src="'+b+'" alt="'+a.$text()+'"'+this.void_element_slash+">"}return f(r("::","Array")["$==="](b=a.$attributes()["$[]"]("guard")))?'&lt;!--<b class="conum">('+a.$text()+")</b>--&gt;":""+b+'<b class="conum">('+a.$text()+")</b>"},Ia.$$arity=1);a.def(c,"$convert_inline_footnote",Ha=function(a){var b;if(f(b=a.$attr("index"))){if(a.$type()["$=="]("xref"))return'<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_'+b+'" title="View footnote.">'+
b+"</a>]</sup>";a=f(a.$id())?' id="_footnote_'+a.$id()+'"':"";return'<sup class="footnote"'+a+'>[<a id="_footnoteref_'+b+'" class="footnote" href="#_footnotedef_'+b+'" title="View footnote.">'+b+"</a>]</sup>"}return a.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+a.$text()+"]</sup>":d},Ha.$$arity=1);a.def(c,"$convert_inline_image",Ja=function(a){var b,c,g,h,k,l,t=d,v=d,u=b=d,w=d,y=d,z=d,x=d,B=d,A=d;f((b=(t=f(c=a.$type())?c:"image")["$=="]("icon"))?
a.$document()["$attr?"]("icons","font"):(t=f(c=a.$type())?c:"image")["$=="]("icon"))?(v="fa fa-"+a.$target(),m(e(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"}),"each",[],(g=function(b,c){null==b&&(b=d);null==c&&(c=d);return f(a["$attr?"](b))?v=""+v+" "+c+a.$attr(b):d},g.$$s=this,g.$$arity=2,g)),b=f(a["$attr?"]("title"))?' title="'+a.$attr("title")+'"':"",u='<i class="'+v+'"'+b+"></i>"):f((b=t["$=="]("icon"))?a.$document()["$attr?"]("icons")["$!"]():t["$=="]("icon"))?u=
"["+a.$alt()+"]":(w=a.$target(),y=m(["width","height","title"],"map",[],(h=function(b){null==b&&(b=d);return f(a["$attr?"](b))?" "+b+'="'+a.$attr(b)+'"':""},h.$$s=this,h.$$arity=1,h)).$join(),f(f(b=f(c=f(k=t["$!="]("icon"))?f(l=a["$attr?"]("format","svg"))?l:w["$include?"](".svg"):k)?n(a.$document().$safe(),r(p(q,"SafeMode"),"SECURE")):c)?f(c=z=a["$option?"]("inline"))?c:x=a["$option?"]("interactive"):b)&&(f(z)?u=f(b=this.$read_svg_contents(a,w))?b:'<span class="alt">'+a.$alt()+"</span>":f(x)&&(B=
f(a["$attr?"]("fallback"))?'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+this.$encode_attribute_value(a.$alt())+'"'+y+this.void_element_slash+">":'<span class="alt">'+a.$alt()+"</span>",u='<object type="image/svg+xml" data="'+a.$image_uri(w)+'"'+y+">"+B+"</object>")),u=f(b=u)?b:'<img src="'+(t["$=="]("icon")?a.$icon_uri(w):a.$image_uri(w))+'" alt="'+this.$encode_attribute_value(a.$alt())+'"'+y+this.void_element_slash+">");f(a["$attr?"]("link"))&&(u='<a class="image" href="'+a.$attr("link")+
'"'+this.$append_link_constraint_attrs(a).$join()+">"+u+"</a>");v=f(A=a.$role())?f(a["$attr?"]("float"))?""+t+" "+a.$attr("float")+" "+A:""+t+" "+A:f(a["$attr?"]("float"))?""+t+" "+a.$attr("float"):t;return'<span class="'+v+'">'+u+"</span>"},Ja.$$arity=1);a.def(c,"$convert_inline_indexterm",Wa=function(a){return a.$type()["$=="]("visible")?a.$text():""},Wa.$$arity=1);a.def(c,"$convert_inline_kbd",Qa=function(a){var b;return(b=a.$attr("keys")).$size()["$=="](1)?"<kbd>"+b["$[]"](0)+"</kbd>":'<span class="keyseq"><kbd>'+
b.$join("</kbd>+<kbd>")+"</kbd></span>"},Qa.$$arity=1);a.def(c,"$convert_inline_menu",Ma=function(a){var b=d,c=d;var e=f(a.$document()["$attr?"]("icons","font"))?'&#160;<i class="fa fa-angle-right caret"></i> ':'&#160;<b class="caret">&#8250;</b> ';var g="</b>"+e+'<b class="submenu">';var h=a.$attr("menu");return f((b=a.$attr("submenus"))["$empty?"]())?f(c=a.$attr("menuitem"))?'<span class="menuseq"><b class="menu">'+h+"</b>"+e+'<b class="menuitem">'+c+"</b></span>":'<b class="menuref">'+h+"</b>":
'<span class="menuseq"><b class="menu">'+h+"</b>"+e+'<b class="submenu">'+b.$join(g)+"</b>"+e+'<b class="menuitem">'+a.$attr("menuitem")+"</b></span>"},Ma.$$arity=1);a.def(c,"$convert_inline_quoted",Da=function(b){var c=p(q,"QUOTE_TAGS")["$[]"](b.$type());var e=a.to_ary(c);var g=null==e[0]?d:e[0];var h=null==e[1]?d:e[1];e=null==e[2]?d:e[2];c;return f(b.$id())?(c=f(b.$role())?' class="'+b.$role()+'"':"",f(e)?""+g.$chop()+' id="'+b.$id()+'"'+c+">"+b.$text()+h:'<span id="'+b.$id()+'"'+c+">"+g+b.$text()+
h+"</span>"):f(b.$role())?f(e)?""+g.$chop()+' class="'+b.$role()+'">'+b.$text()+h:'<span class="'+b.$role()+'">'+g+b.$text()+h+"</span>":""+g+b.$text()+h},Da.$$arity=1);a.def(c,"$read_svg_contents",Ka=function(b,c){var g,h=d,k=d,l=d,n=d;if(f(h=b.$read_contents(c,e(["start","normalize","label","warn_if_empty"],{start:b.$document().$attr("imagesdir"),normalize:!0,label:"SVG",warn_if_empty:!0})))){if(f(h["$empty?"]()))return d;f(h["$start_with?"]("<svg"))||(h=h.$sub(p(q,"SvgPreambleRx"),""));k=l=n=d;
m(["width","height"],"each",[],(g=function(a){var c,e;null==a&&(a=d);if(!f(b["$attr?"](a)))return d;if(!f(l)){if((n=f(c=n)?c:f(e=h.$match(p(q,"SvgStartTagRx")))?e:"no_match")["$=="]("no_match"))return d;l=(k=n["$[]"](0)).$gsub(p(q,"DimensionAttributeRx"),"")}return l=""+l.$chop()+" "+a+'="'+b.$attr(a)+'">'},g.$$s=this,g.$$arity=1,g));f(l)&&(h=""+l+h["$[]"](a.Range.$new(k.$length(),-1,!1)))}return h},Ka.$$arity=2);c.$private();a.def(c,"$append_boolean_attribute",Xa=function(a,b){return f(b)?" "+a+
'="'+a+'"':" "+a},Xa.$$arity=2);a.def(c,"$append_link_constraint_attrs",Sa=function(a,b){var c,e=d,g;null==b&&(b=[]);f(a["$option?"]("nofollow"))&&(e="nofollow");if(f(g=a.$attributes()["$[]"]("window"))){if(b["$<<"](' target="'+g+'"'),f(f(c=g["$=="]("_blank"))?c:a["$option?"]("noopener")))b["$<<"](f(e)?' rel="'+e+' noopener"':' rel="noopener"')}else if(f(e))b["$<<"](' rel="'+e+'"');return b},Sa.$$arity=-2);a.def(c,"$encode_attribute_value",Ya=function(a){return f(a["$include?"]('"'))?a.$gsub('"',
"&quot;"):a},Ya.$$arity=1);a.def(c,"$generate_manname_section",Za=function(a){var b,c=d,e=d,g=d;var h=a.$attr("manname-title","Name");f(f(b=c=a.$sections()["$[]"](0))?(e=c.$title())["$=="](e.$upcase()):b)&&(h=h.$upcase());return"<h2"+(f(g=a.$attr("manname-id"))?' id="'+g+'"':"")+">"+h+'</h2>\n<div class="sectionbody">\n<p>'+a.$attr("mannames").$join(", ")+" - "+a.$attr("manpurpose")+"</p>\n</div>"},Za.$$arity=1);return(a.def(c,"$method_missing",$a=function(b,c){var e,g=$a.$$p,h=d,k;g&&($a.$$p=null);
var l=0;var p=arguments.length;for(k=Array(p);l<p;l++)k[l]=arguments[l];l=a.slice.call(arguments,1,arguments.length);return f(f(e=(h=b.$to_s())["$start_with?"]("convert_")["$!"]())?this["$handles?"](h):e)?m(this,"send",["convert_"+h].concat(a.to_a(l))):m(this,a.find_super_dispatcher(this,"method_missing",$a,!1),k,g)},$a.$$arity=-2),d)&&"method_missing"})(p(c,"Converter"),r(p(c,"Converter"),"Base"),c)}(h[0],h)};Opal.modules["asciidoctor/extensions"]=function(a){function b(a,b){return"number"===typeof a&&
"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var n=[],h=a.nil,d=a.const_get_qualified,r=a.const_get_relative,p=a.module,t=a.klass,u=a.truthy,m=a.hash2,e=a.send,f=a.hash;a.add_stubs("$== $[]= $config $- $const_defined? $singleton_class? $include $const_get $extend $attr_reader $merge $class $update $raise $document $doctype $[] $+ $level $delete $> $casecmp $new $title= $sectname= $special= $fetch $numbered= $! $key? $attr? $special $numbered $generate_id $title $id= $update_attributes $tr $basename $create_block $assign_caption $=== $parse_blocks $empty? $include? $sub_attributes $parse $each $define_method $unshift $shift $send $size $binding $receiver $define_singleton_method $instance_exec $to_proc $call $option $flatten $respond_to? $to_s $partition $to_i $<< $compact $inspect $attr_accessor $to_set $match? $resolve_regexp $method $register $values $groups $arity $activate $add_document_processor $any? $select $add_syntax_processor $to_sym $instance_variable_get $kind $private $join $map $split $capitalize $instance_variable_set $resolve_args $enable_dsl $singleton_class $process_block_given? $source_location $freeze $resolve_class $< $update_config $as_symbol $name $name= $pop $-@ $next_auto_id $generate_name".split(" "));
r(n,"RUBY_ENGINE")["$=="]("opal")||h;return function(c,n){c=[p(c,"Asciidoctor")].concat(n);(function(c,n){c=p(c,"Extensions");n=[c].concat(n);(function(c,$super,f){c=t(c,$super,"Processor");var l=[c].concat(f),n,p,q,v,w,y,x,z,B,A,C,D;c.$$prototype.config=h;(function(c,d){[c].concat(d);var f,g,k;a.def(c,"$config",f=function(){var a;null==this.config&&(this.config=h);return this.config=u(a=this.config)?a:m([],{})},f.$$arity=0);a.def(c,"$option",g=function(c,d){c=[c,d];e(this.$config(),"[]=",a.to_a(c));
return c[b(c.length,1)]},g.$$arity=2);a.def(c,"$enable_dsl",k=function(){return u(this["$const_defined?"]("DSL"))?u(this["$singleton_class?"]())?this.$include(this.$const_get("DSL")):this.$extend(this.$const_get("DSL")):h},k.$$arity=0);return a.alias(c,"use_dsl","enable_dsl")})(a.get_singleton_class(c),l);c.$attr_reader("config");a.def(c,"$initialize",n=function(a){null==a&&(a=m([],{}));return this.config=this.$class().$config().$merge(a)},n.$$arity=-1);a.def(c,"$update_config",p=function(a){return this.config.$update(a)},
p.$$arity=1);a.def(c,"$process",q=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise(d("::","NotImplementedError"),""+r(l,"Processor")+" subclass "+this.$class()+" must implement the #process method")},q.$$arity=-1);a.def(c,"$create_section",v=function(c,d,f,n){var p,q,t,v=h,w=h;null==n&&(n=m([],{}));var y=c.$document();var x=(q=y.$doctype())["$=="]("book");var z=u(p=n["$[]"]("level"))?p:g(c.$level(),1);if(u(t=f.$delete("style")))if(u(u(p=x)?t["$=="]("abstract"):p)){p=["chapter",
1];var B=p[0];z=p[1];p}else p=[t,!0],B=p[0],v=p[1],p,z["$=="](0)&&(z=1);else u(x)?B=z["$=="](0)?"part":u(k(z,1))?"section":"chapter":u(q["$=="]("manpage")?d.$casecmp("synopsis")["$=="](0):q["$=="]("manpage"))?(p=["synopsis",!0],B=p[0],v=p[1],p):B="section";q=r(l,"Section").$new(c,z);p=[d,B];q["$title="](p[0]);q["$sectname="](p[1]);p;u(v)?(w=[!0],e(q,"special=",a.to_a(w)),w[b(w.length,1)],u(n.$fetch("numbered",t["$=="]("appendix")))?(w=[!0],e(q,"numbered=",a.to_a(w)),w[b(w.length,1)]):u(u(p=n["$key?"]("numbered")["$!"]())?
y["$attr?"]("sectnums","all"):p)&&(w=[u(u(p=x)?z["$=="](1):p)?"chapter":!0],e(q,"numbered=",a.to_a(w)),w[b(w.length,1)])):u(k(z,0))?u(n.$fetch("numbered",y["$attr?"]("sectnums")))&&(w=[u(q.$special())?u(p=c.$numbered())?!0:p:!0],e(q,"numbered=",a.to_a(w)),w[b(w.length,1)]):u(n.$fetch("numbered",u(p=x)?y["$attr?"]("partnums"):p))&&(w=[!0],e(q,"numbered=",a.to_a(w)),w[b(w.length,1)]);(c=f["$[]"]("id"))["$=="](!1)?f.$delete("id"):(w=[(w=["id",u(p=c)?p:u(y["$attr?"]("sectids"))?r(l,"Section").$generate_id(q.$title(),
y):h],e(f,"[]=",a.to_a(w)),w[b(w.length,1)])],e(q,"id=",a.to_a(w)),w[b(w.length,1)]);q.$update_attributes(f);return q},v.$$arity=-4);a.def(c,"$create_block",w=function(a,b,c,d,e){null==e&&(e=m([],{}));return r(l,"Block").$new(a,b,m(["source","attributes"],{source:c,attributes:d}).$merge(e))},w.$$arity=-5);a.def(c,"$create_list",y=function(a,b,c){null==c&&(c=h);a=r(l,"List").$new(a,b);u(c)&&a.$update_attributes(c);return a},y.$$arity=-3);a.def(c,"$create_list_item",x=function(a,b){null==b&&(b=h);return r(l,
"ListItem").$new(a,b)},x.$$arity=-2);a.def(c,"$create_image_block",z=function(c,f,g){var k,n,p=h;null==g&&(g=m([],{}));u(n=f["$[]"]("target"))||this.$raise(d("::","ArgumentError"),"Unable to create an image block, target attribute is required");u(k=f["$[]"]("alt"))?k:(p=["alt",(p=["default-alt",r(l,"Helpers").$basename(n,!0).$tr("_-"," ")],e(f,"[]=",a.to_a(p)),p[b(p.length,1)])],e(f,"[]=",a.to_a(p)),p[b(p.length,1)]);p=u(f["$key?"]("title"))?f.$delete("title"):h;c=this.$create_block(c,"image",h,f,
g);u(p)&&(p=[p],e(c,"title=",a.to_a(p)),p[b(p.length,1)],c.$assign_caption(f.$delete("caption"),"figure"));return c},z.$$arity=-3);a.def(c,"$create_inline",B=function(a,b,c,d){null==d&&(d=m([],{}));return r(l,"Inline").$new(a,b,c,b["$=="]("quoted")?m(["type"],{type:"unquoted"}).$merge(d):d)},B.$$arity=-4);a.def(c,"$parse_content",A=function(a,b,c){null==c&&(c=h);b=u(r(l,"Reader")["$==="](b))?b:r(l,"Reader").$new(b);r(l,"Parser").$parse_blocks(b,a,c);return a},A.$$arity=-3);a.def(c,"$parse_attributes",
C=function(a,b,c){var d;null==c&&(c=m([],{}));if(u(u(b)?b["$empty?"]():!0))return m([],{});u(u(d=c["$[]"]("sub_attributes"))?b["$include?"](r(l,"ATTR_REF_HEAD")):d)&&(b=a.$sub_attributes(b));return r(l,"AttributeList").$new(b).$parse(u(d=c["$[]"]("positional_attributes"))?d:[])},C.$$arity=-3);return e([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block",
"create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"],["create_inline_pass","create_inline","quoted"]],"each",[],(D=function(b,c,d){var f=D.$$s||this,g;null==b&&(b=h);null==c&&(c=h);null==d&&(d=h);return e(f,"define_method",[b],(g=function(b){var f=g.$$s||this;var h=a.slice.call(arguments,0,arguments.length);h.$unshift(h.$shift(),d);return e(f,"send",[c].concat(a.to_a(h)))},g.$$s=f,g.$$arity=-1,g))},D.$$s=c,D.$$arity=3,D))})(n[0],null,
n);(function(c,f){c=p(c,"ProcessorDsl");[c].concat(f);var g,k,l;a.def(c,"$option",g=function(c,d){c=[c,d];e(this.$config(),"[]=",a.to_a(c));return c[b(c.length,1)]},g.$$arity=2);a.def(c,"$process",k=function(b){var c=k.$$p,f=c||h,g,l,m=h;null==this.process_block&&(this.process_block=h);c&&(k.$$p=null);c&&(k.$$p=null);c=a.slice.call(arguments,0,arguments.length);return f!==h?(u(c["$empty?"]())||this.$raise(d("::","ArgumentError"),"wrong number of arguments (given "+c.$size()+", expected 0)"),u(u(g=
f.$binding())?this["$=="](f.$binding().$receiver()):g)||(m=this,e(f,"define_singleton_method",["call"],(l=function(b){var c=a.slice.call(arguments,0,arguments.length);return e(m,"instance_exec",a.to_a(c),f.$to_proc())},l.$$s=this,l.$$arity=-1,l))),this.process_block=f):u((g=this.process_block,null!=g&&g!==h)?"instance-variable":h)?e(this.process_block,"call",a.to_a(c)):this.$raise(d("::","NotImplementedError"),""+this.$class()+" #process method called before being registered")},k.$$arity=-1);a.def(c,
"$process_block_given?",l=function(){var a;return(a=this.process_block,null!=a&&a!==h)?"instance-variable":h},l.$$arity=0)})(n[0],n);(function(b,c){b=p(b,"DocumentProcessorDsl");c=[b].concat(c);var d;b.$include(r(c,"ProcessorDsl"));a.def(b,"$prefer",d=function(){return this.$option("position",">>")},d.$$arity=0)})(n[0],n);(function(c,f){c=p(c,"SyntaxProcessorDsl");var g=[c].concat(f),l,n,q,t,v;c.$include(r(g,"ProcessorDsl"));a.def(c,"$named",l=function(a){return u(r(g,"Processor")["$==="](this))?
this.name=a:this.$option("name",a)},l.$$arity=1);a.def(c,"$content_model",n=function(a){return this.$option("content_model",a)},n.$$arity=1);a.alias(c,"parse_content_as","content_model");a.def(c,"$positional_attributes",q=function(b){var c=a.slice.call(arguments,0,arguments.length);return this.$option("positional_attrs",c.$flatten())},q.$$arity=-1);a.alias(c,"name_positional_attributes","positional_attributes");a.alias(c,"positional_attrs","positional_attributes");a.def(c,"$default_attributes",t=
function(a){return this.$option("default_attrs",a)},t.$$arity=1);a.alias(c,"default_attrs","default_attributes");a.def(c,"$resolve_attributes",v=function(c){var f,g,l,n=this,p=h,q=h,r=h;var t=a.slice.call(arguments,0,arguments.length);u(k(t.$size(),1))||u((t=t.$fetch(0,!0))["$respond_to?"]("to_sym"))&&(t=[t]);return function(){p=t;return(!0)["$==="](p)?(n.$option("positional_attrs",[]),n.$option("default_attrs",m([],{}))):d("::","Array")["$==="](p)?(f=[[],m([],{})],q=f[0],r=f[1],f,e(t,"each",[],(g=
function(c){null==c&&(c=h);if(u((c=c.$to_s())["$include?"]("="))){var d=c.$partition("=");var f=a.to_ary(d);c=null==f[0]?h:f[0];var g=null==f[2]?h:f[2];d;if(u(c["$include?"](":"))){d=c.$partition(":");f=a.to_ary(d);var k=null==f[0]?h:f[0];c=null==f[2]?h:f[2];d;k=k["$=="]("@")?q.$size():k.$to_i();f=[k,c];e(q,"[]=",a.to_a(f));f[b(f.length,1)]}f=[c,g];e(r,"[]=",a.to_a(f));return f[b(f.length,1)]}return u(c["$include?"](":"))?(d=c.$partition(":"),f=a.to_ary(d),k=null==f[0]?h:f[0],c=null==f[2]?h:f[2],
d,k=k["$=="]("@")?q.$size():k.$to_i(),f=[k,c],e(q,"[]=",a.to_a(f)),f[b(f.length,1)]):q["$<<"](c)},g.$$s=n,g.$$arity=1,g)),n.$option("positional_attrs",q.$compact()),n.$option("default_attrs",r)):d("::","Hash")["$==="](p)?(f=[[],m([],{})],q=f[0],r=f[1],f,e(t,"each",[],(l=function(c,d){var f;null==c&&(c=h);null==d&&(d=h);if(u((f=c.$to_s())["$include?"](":"))){c=f.$partition(":");f=a.to_ary(c);var g=null==f[0]?h:f[0];f=null==f[2]?h:f[2];c;g=g["$=="]("@")?q.$size():g.$to_i();c=[g,f];e(q,"[]=",a.to_a(c));
c[b(c.length,1)]}return u(d)?(c=[f,d],e(r,"[]=",a.to_a(c)),c[b(c.length,1)]):h},l.$$s=n,l.$$arity=2,l)),n.$option("positional_attrs",q.$compact()),n.$option("default_attrs",r)):n.$raise(d("::","ArgumentError"),"unsupported attributes specification for macro: "+t.$inspect())}()},v.$$arity=-1);a.alias(c,"resolves_attributes","resolve_attributes")})(n[0],n);(function(b,$super,c){b=t(b,$super,"Preprocessor");var e=[b].concat(c),f;return(a.def(b,"$process",f=function(a,b){return this.$raise(d("::","NotImplementedError"),
""+r(e,"Preprocessor")+" subclass "+this.$class()+" must implement the #process method")},f.$$arity=2),h)&&"process"})(n[0],r(n,"Processor"),n);a.const_set(r(n,"Preprocessor"),"DSL",r(n,"DocumentProcessorDsl"));(function(b,$super,c){b=t(b,$super,"TreeProcessor");var e=[b].concat(c),f;return(a.def(b,"$process",f=function(a){return this.$raise(d("::","NotImplementedError"),""+r(e,"TreeProcessor")+" subclass "+this.$class()+" must implement the #process method")},f.$$arity=1),h)&&"process"})(n[0],r(n,
"Processor"),n);a.const_set(r(n,"TreeProcessor"),"DSL",r(n,"DocumentProcessorDsl"));a.const_set(n[0],"Treeprocessor",r(n,"TreeProcessor"));(function(b,$super,c){b=t(b,$super,"Postprocessor");var e=[b].concat(c),f;return(a.def(b,"$process",f=function(a,b){return this.$raise(d("::","NotImplementedError"),""+r(e,"Postprocessor")+" subclass "+this.$class()+" must implement the #process method")},f.$$arity=2),h)&&"process"})(n[0],r(n,"Processor"),n);a.const_set(r(n,"Postprocessor"),"DSL",r(n,"DocumentProcessorDsl"));
(function(b,$super,c){b=t(b,$super,"IncludeProcessor");var e=[b].concat(c),f,g;a.def(b,"$process",f=function(a,b,c,f){return this.$raise(d("::","NotImplementedError"),""+r(e,"IncludeProcessor")+" subclass "+this.$class()+" must implement the #process method")},f.$$arity=4);return(a.def(b,"$handles?",g=function(a){return!0},g.$$arity=1),h)&&"handles?"})(n[0],r(n,"Processor"),n);(function(b,c){b=p(b,"IncludeProcessorDsl");c=[b].concat(c);var e;b.$include(r(c,"DocumentProcessorDsl"));a.def(b,"$handles?",
e=function(b){var c=e.$$p,f=c||h,g;null==this.handles_block&&(this.handles_block=h);c&&(e.$$p=null);c&&(e.$$p=null);c=a.slice.call(arguments,0,arguments.length);return f!==h?(u(c["$empty?"]())||this.$raise(d("::","ArgumentError"),"wrong number of arguments (given "+c.$size()+", expected 0)"),this.handles_block=f):u((g=this.handles_block,null!=g&&g!==h)?"instance-variable":h)?this.handles_block.$call(c["$[]"](0)):!0},e.$$arity=-1)})(n[0],n);a.const_set(r(n,"IncludeProcessor"),"DSL",r(n,"IncludeProcessorDsl"));
(function(c,$super,f){c=t(c,$super,"DocinfoProcessor");var g=[c].concat(f),k,l;c.$$prototype.config=h;a.def(c,"$initialize",k=function(c){var d,f=h;k.$$p&&(k.$$p=null);null==c&&(c=m([],{}));e(this,a.find_super_dispatcher(this,"initialize",k,!1),[c],null);return u(d=this.config["$[]"]("location"))?d:(f=["location","head"],e(this.config,"[]=",a.to_a(f)),f[b(f.length,1)])},k.$$arity=-1);return(a.def(c,"$process",l=function(a){return this.$raise(d("::","NotImplementedError"),""+r(g,"DocinfoProcessor")+
" subclass "+this.$class()+" must implement the #process method")},l.$$arity=1),h)&&"process"})(n[0],r(n,"Processor"),n);(function(b,c){b=p(b,"DocinfoProcessorDsl");c=[b].concat(c);var d;b.$include(r(c,"DocumentProcessorDsl"));a.def(b,"$at_location",d=function(a){return this.$option("location",a)},d.$$arity=1)})(n[0],n);a.const_set(r(n,"DocinfoProcessor"),"DSL",r(n,"DocinfoProcessorDsl"));(function(c,$super,f){c=t(c,$super,"BlockProcessor");var g=[c].concat(f),k,l;c.$$prototype.config=h;c.$attr_accessor("name");
a.def(c,"$initialize",k=function(c,f){var g,l=h;k.$$p&&(k.$$p=null);null==c&&(c=h);null==f&&(f=m([],{}));e(this,a.find_super_dispatcher(this,"initialize",k,!1),[f],null);this.name=u(g=c)?g:this.config["$[]"]("name");c=this.config["$[]"]("contexts");d("::","NilClass")["$==="](c)?u(g=this.config["$[]"]("contexts"))?g:(l=["contexts",["open","paragraph"].$to_set()],e(this.config,"[]=",a.to_a(l)),l[b(l.length,1)]):(l=d("::","Symbol")["$==="](c)?["contexts",[this.config["$[]"]("contexts")].$to_set()]:["contexts",
this.config["$[]"]("contexts").$to_set()],e(this.config,"[]=",a.to_a(l)),l[b(l.length,1)]);return u(g=this.config["$[]"]("content_model"))?g:(l=["content_model","compound"],e(this.config,"[]=",a.to_a(l)),l[b(l.length,1)])},k.$$arity=-1);return(a.def(c,"$process",l=function(a,b,c){return this.$raise(d("::","NotImplementedError"),""+r(g,"BlockProcessor")+" subclass "+this.$class()+" must implement the #process method")},l.$$arity=3),h)&&"process"})(n[0],r(n,"Processor"),n);(function(b,c){b=p(b,"BlockProcessorDsl");
c=[b].concat(c);var d;b.$include(r(c,"SyntaxProcessorDsl"));a.def(b,"$contexts",d=function(b){var c=a.slice.call(arguments,0,arguments.length);return this.$option("contexts",c.$flatten().$to_set())},d.$$arity=-1);a.alias(b,"on_contexts","contexts");a.alias(b,"on_context","contexts");a.alias(b,"bind_to","contexts")})(n[0],n);a.const_set(r(n,"BlockProcessor"),"DSL",r(n,"BlockProcessorDsl"));(function(c,$super,f){c=t(c,$super,"MacroProcessor");var g=[c].concat(f),k,l;c.$$prototype.config=h;c.$attr_accessor("name");
a.def(c,"$initialize",k=function(c,d){var f,g=h;k.$$p&&(k.$$p=null);null==c&&(c=h);null==d&&(d=m([],{}));e(this,a.find_super_dispatcher(this,"initialize",k,!1),[d],null);this.name=u(f=c)?f:this.config["$[]"]("name");return u(f=this.config["$[]"]("content_model"))?f:(g=["content_model","attributes"],e(this.config,"[]=",a.to_a(g)),g[b(g.length,1)])},k.$$arity=-1);return(a.def(c,"$process",l=function(a,b,c){return this.$raise(d("::","NotImplementedError"),""+r(g,"MacroProcessor")+" subclass "+this.$class()+
" must implement the #process method")},l.$$arity=3),h)&&"process"})(n[0],r(n,"Processor"),n);(function(b,c){b=p(b,"MacroProcessorDsl");c=[b].concat(c);var d;b.$include(r(c,"SyntaxProcessorDsl"));a.def(b,"$resolve_attributes",d=function(b){var c=d.$$p,f;c&&(d.$$p=null);var g=0;var h=arguments.length;for(f=Array(h);g<h;g++)f[g]=arguments[g];g=a.slice.call(arguments,0,arguments.length);if(u(g.$size()["$=="](1)?g["$[]"](0)["$!"]():g.$size()["$=="](1)))return this.$option("content_model","text");e(this,
a.find_super_dispatcher(this,"resolve_attributes",d,!1),f,c);return this.$option("content_model","attributes")},d.$$arity=-1);a.alias(b,"resolves_attributes","resolve_attributes")})(n[0],n);(function(b,$super,c){b=t(b,$super,"BlockMacroProcessor");var e=[b].concat(c),f;b.$$prototype.name=h;return(a.def(b,"$name",f=function(){u(r(e,"MacroNameRx")["$match?"](this.name.$to_s()))||this.$raise(d("::","ArgumentError"),"invalid name for block macro: "+this.name);return this.name},f.$$arity=0),h)&&"name"})(n[0],
r(n,"MacroProcessor"),n);a.const_set(r(n,"BlockMacroProcessor"),"DSL",r(n,"MacroProcessorDsl"));(function(c,$super,f){c=t(c,$super,"InlineMacroProcessor");var g=[c].concat(f),k,l;c.$$prototype.config=c.$$prototype.name=h;a.class_variable_set(g[0],"@@rx_cache",m([],{}));a.def(c,"$regexp",k=function(){var c,d=h;return u(c=this.config["$[]"]("regexp"))?c:(d=["regexp",this.$resolve_regexp(this.name.$to_s(),this.config["$[]"]("format"))],e(this.config,"[]=",a.to_a(d)),d[b(d.length,1)])},k.$$arity=0);return(a.def(c,
"$resolve_regexp",l=function(c,f){var k,l,m=h;u(r(g,"MacroNameRx")["$match?"](c))||this.$raise(d("::","ArgumentError"),"invalid name for inline macro: "+c);return u(k=(null==(l=g[0].$$cvars["@@rx_cache"])?h:l)["$[]"]([c,f]))?k:(m=[[c,f],new RegExp("\\\\?"+c+":"+(f["$=="]("short")?"(){0}":"(\\S+?)")+"\\[(|"+r(g,"CC_ANY")+"*?[^\\\\])\\]")],e(null==(l=g[0].$$cvars["@@rx_cache"])?h:l,"[]=",a.to_a(m)),m[b(m.length,1)])},l.$$arity=2),h)&&"resolve_regexp"})(n[0],r(n,"MacroProcessor"),n);(function(b,c){b=
p(b,"InlineMacroProcessorDsl");c=[b].concat(c);var d,e;b.$include(r(c,"MacroProcessorDsl"));a.def(b,"$format",d=function(a){return this.$option("format",a)},d.$$arity=1);a.alias(b,"match_format","format");a.alias(b,"using_format","format");a.def(b,"$match",e=function(a){return this.$option("regexp",a)},e.$$arity=1)})(n[0],n);a.const_set(r(n,"InlineMacroProcessor"),"DSL",r(n,"InlineMacroProcessorDsl"));(function(b,$super,c){b=t(b,$super,"Extension");[b].concat(c);var d;b.$attr_reader("kind");b.$attr_reader("config");
b.$attr_reader("instance");return(a.def(b,"$initialize",d=function(a,b,c){this.kind=a;this.instance=b;return this.config=c},d.$$arity=3),h)&&"initialize"})(n[0],null,n);(function(b,$super,c){b=t(b,$super,"ProcessorExtension");[b].concat(c);var d;b.$attr_reader("process_method");return(a.def(b,"$initialize",d=function(b,c,f){var g;d.$$p&&(d.$$p=null);null==f&&(f=h);e(this,a.find_super_dispatcher(this,"initialize",d,!1),[b,c,c.$config()],null);return this.process_method=u(g=f)?g:c.$method("process")},
d.$$arity=-3),h)&&"initialize"})(n[0],r(n,"Extension"),n);(function(b,$super,c){b=t(b,$super,"Group");c=[b].concat(c);var e;(function(b,c){var d=[b].concat(c),e;return(a.def(b,"$register",e=function(a){null==a&&(a=h);return r(d,"Extensions").$register(a,this)},e.$$arity=-1),h)&&"register"})(a.get_singleton_class(b),c);return(a.def(b,"$activate",e=function(a){return this.$raise(d("::","NotImplementedError"))},e.$$arity=1),h)&&"activate"})(n[0],null,n);(function(c,$super,f){c=t(c,$super,"Registry");
var n=[c].concat(f),p,q,v,w,x,y,z,B,A,C,D,E,J,G,L,I,K,M,N,P,R,S,U,T,V,ia,Y,da,ea,la,qa,Ia,Ha,Ja,Wa;c.$$prototype.groups=c.$$prototype.preprocessor_extensions=c.$$prototype.tree_processor_extensions=c.$$prototype.postprocessor_extensions=c.$$prototype.include_processor_extensions=c.$$prototype.docinfo_processor_extensions=c.$$prototype.block_extensions=c.$$prototype.block_macro_extensions=c.$$prototype.inline_macro_extensions=h;c.$attr_reader("document");c.$attr_reader("groups");a.def(c,"$initialize",
p=function(a){null==a&&(a=m([],{}));this.groups=a;return this.document=this.preprocessor_extensions=this.tree_processor_extensions=this.postprocessor_extensions=this.include_processor_extensions=this.docinfo_processor_extensions=this.block_extensions=this.block_macro_extensions=this.inline_macro_extensions=h},p.$$arity=-1);a.def(c,"$activate",q=function(a){var b,c=h;this.document=a;u((c=g(r(n,"Extensions").$groups().$values(),this.groups.$values()))["$empty?"]())||e(c,"each",[],(b=function(a){var c=
b.$$s||this;null==a&&(a=h);var f=a;d("::","Proc")["$==="](f)?(f=a.$arity(),a=0["$==="](f)||-1["$==="](f)?e(c,"instance_exec",[],a.$to_proc()):1["$==="](f)?a.$call(c):h):a=d("::","Class")["$==="](f)?a.$new().$activate(c):a.$activate(c);return a},b.$$s=this,b.$$arity=1,b));return this},q.$$arity=1);a.def(c,"$preprocessor",v=function(b){var c=v.$$p,d=c||h;c&&(v.$$p=null);c&&(v.$$p=null);c=a.slice.call(arguments,0,arguments.length);return e(this,"add_document_processor",["preprocessor",c],d.$to_proc())},
v.$$arity=-1);a.def(c,"$preprocessors?",w=function(){return this.preprocessor_extensions["$!"]()["$!"]()},w.$$arity=0);a.def(c,"$preprocessors",x=function(){return this.preprocessor_extensions},x.$$arity=0);a.def(c,"$tree_processor",y=function(b){var c=y.$$p,d=c||h;c&&(y.$$p=null);c&&(y.$$p=null);c=a.slice.call(arguments,0,arguments.length);return e(this,"add_document_processor",["tree_processor",c],d.$to_proc())},y.$$arity=-1);a.def(c,"$tree_processors?",z=function(){return this.tree_processor_extensions["$!"]()["$!"]()},
z.$$arity=0);a.def(c,"$tree_processors",B=function(){return this.tree_processor_extensions},B.$$arity=0);a.alias(c,"treeprocessor","tree_processor");a.alias(c,"treeprocessors?","tree_processors?");a.alias(c,"treeprocessors","tree_processors");a.def(c,"$postprocessor",A=function(b){var c=A.$$p,d=c||h;c&&(A.$$p=null);c&&(A.$$p=null);c=a.slice.call(arguments,0,arguments.length);return e(this,"add_document_processor",["postprocessor",c],d.$to_proc())},A.$$arity=-1);a.def(c,"$postprocessors?",C=function(){return this.postprocessor_extensions["$!"]()["$!"]()},
C.$$arity=0);a.def(c,"$postprocessors",D=function(){return this.postprocessor_extensions},D.$$arity=0);a.def(c,"$include_processor",E=function(b){var c=E.$$p,d=c||h;c&&(E.$$p=null);c&&(E.$$p=null);c=a.slice.call(arguments,0,arguments.length);return e(this,"add_document_processor",["include_processor",c],d.$to_proc())},E.$$arity=-1);a.def(c,"$include_processors?",J=function(){return this.include_processor_extensions["$!"]()["$!"]()},J.$$arity=0);a.def(c,"$include_processors",G=function(){return this.include_processor_extensions},
G.$$arity=0);a.def(c,"$docinfo_processor",L=function(b){var c=L.$$p,d=c||h;c&&(L.$$p=null);c&&(L.$$p=null);c=a.slice.call(arguments,0,arguments.length);return e(this,"add_document_processor",["docinfo_processor",c],d.$to_proc())},L.$$arity=-1);a.def(c,"$docinfo_processors?",I=function(a){var b;null==a&&(a=h);return u(this.docinfo_processor_extensions)?u(a)?e(this.docinfo_processor_extensions,"any?",[],(b=function(b){null==b&&(b=h);return b.$config()["$[]"]("location")["$=="](a)},b.$$s=this,b.$$arity=
1,b)):!0:!1},I.$$arity=-1);a.def(c,"$docinfo_processors",K=function(a){var b;null==a&&(a=h);return u(this.docinfo_processor_extensions)?u(a)?e(this.docinfo_processor_extensions,"select",[],(b=function(b){null==b&&(b=h);return b.$config()["$[]"]("location")["$=="](a)},b.$$s=this,b.$$arity=1,b)):this.docinfo_processor_extensions:h},K.$$arity=-1);a.def(c,"$block",M=function(b){var c=M.$$p,d=c||h;c&&(M.$$p=null);c&&(M.$$p=null);c=a.slice.call(arguments,0,arguments.length);return e(this,"add_syntax_processor",
["block",c],d.$to_proc())},M.$$arity=-1);a.def(c,"$blocks?",N=function(){return this.block_extensions["$!"]()["$!"]()},N.$$arity=0);a.def(c,"$registered_for_block?",P=function(a,b){var c;return u(c=this.block_extensions["$[]"](a.$to_sym()))?u(c.$config()["$[]"]("contexts")["$include?"](b))?c:!1:!1},P.$$arity=2);a.def(c,"$find_block_extension",R=function(a){return this.block_extensions["$[]"](a.$to_sym())},R.$$arity=1);a.def(c,"$block_macro",S=function(b){var c=S.$$p,d=c||h;c&&(S.$$p=null);c&&(S.$$p=
null);c=a.slice.call(arguments,0,arguments.length);return e(this,"add_syntax_processor",["block_macro",c],d.$to_proc())},S.$$arity=-1);a.def(c,"$block_macros?",U=function(){return this.block_macro_extensions["$!"]()["$!"]()},U.$$arity=0);a.def(c,"$registered_for_block_macro?",T=function(a){var b;return u(b=this.block_macro_extensions["$[]"](a.$to_sym()))?b:!1},T.$$arity=1);a.def(c,"$find_block_macro_extension",V=function(a){return this.block_macro_extensions["$[]"](a.$to_sym())},V.$$arity=1);a.def(c,
"$inline_macro",ia=function(b){var c=ia.$$p,d=c||h;c&&(ia.$$p=null);c&&(ia.$$p=null);c=a.slice.call(arguments,0,arguments.length);return e(this,"add_syntax_processor",["inline_macro",c],d.$to_proc())},ia.$$arity=-1);a.def(c,"$inline_macros?",Y=function(){return this.inline_macro_extensions["$!"]()["$!"]()},Y.$$arity=0);a.def(c,"$registered_for_inline_macro?",da=function(a){var b;return u(b=this.inline_macro_extensions["$[]"](a.$to_sym()))?b:!1},da.$$arity=1);a.def(c,"$find_inline_macro_extension",
ea=function(a){return this.inline_macro_extensions["$[]"](a.$to_sym())},ea.$$arity=1);a.def(c,"$inline_macros",la=function(){return this.inline_macro_extensions.$values()},la.$$arity=0);a.def(c,"$prefer",qa=function(b){var c=qa.$$p,d=c||h,f=h;c&&(qa.$$p=null);c&&(qa.$$p=null);c=a.slice.call(arguments,0,arguments.length);d=u(r(n,"ProcessorExtension")["$==="](f=c.$shift()))?f:e(this,"send",[f].concat(a.to_a(c)),d.$to_proc());f=this.$instance_variable_get(("@"+d.$kind()+"_extensions").$to_sym());f.$unshift(f.$delete(d));
return d},qa.$$arity=-1);c.$private();a.def(c,"$add_document_processor",Ia=function(b,c){var f=Ia.$$p,g=f||h,k,m,p,q=this,t=h,v=h,w=h,x=h,y=v=h,z=h,B=h,A=h,C=h;f&&(Ia.$$p=null);f&&(Ia.$$p=null);t=b.$to_s().$tr("_"," ");v=e(t.$split(),"map",[],(k=function(a){null==a&&(a=h);return a.$capitalize()},k.$$s=q,k.$$arity=1,k)).$join().$to_sym();w=r(n,"Extensions").$const_get(v,!1);x=u(d("::","AsciidoctorJ","skip_raise")?"constant":h)?d(d("::","AsciidoctorJ"),"Extensions").$const_get(v,!1):h;v=u(m=q.$instance_variable_get(("@"+
b+"_extensions").$to_sym()))?m:q.$instance_variable_set(("@"+b+"_extensions").$to_sym(),[]);y=function(){if(g!==h)return z=q.$resolve_args(c,1),(B=w.$new(z)).$singleton_class().$enable_dsl(),g.$arity()["$=="](0)?e(B,"instance_exec",[],g.$to_proc()):a.yield1(g,B),u(B["$process_block_given?"]())||q.$raise(d("::","ArgumentError"),"No block specified to process "+t+" extension at "+g.$source_location()),B.$freeze(),r(n,"ProcessorExtension").$new(b,B);p=q.$resolve_args(c,2);m=a.to_ary(p);B=null==m[0]?
h:m[0];z=null==m[1]?h:m[1];p;return u(A=r(n,"Helpers").$resolve_class(B))?(u(u(m=l(A,w))?m:u(p=x)?l(A,x):p)||q.$raise(d("::","ArgumentError"),"Invalid type for "+t+" extension: "+B),C=A.$new(z),C.$freeze(),r(n,"ProcessorExtension").$new(b,C)):u(u(m=w["$==="](B))?m:u(p=x)?x["$==="](B):p)?(B.$update_config(z),B.$freeze(),r(n,"ProcessorExtension").$new(b,B)):q.$raise(d("::","ArgumentError"),"Invalid arguments specified for registering "+t+" extension: "+c)}();if(y.$config()["$[]"]("position")["$=="](">>"))v.$unshift(y);
else v["$<<"](y);return y},Ia.$$arity=2);a.def(c,"$add_syntax_processor",Ha=function(c,f){var g=Ha.$$p,k=g||h,p,q,t=h,v=h,w=h,x=h,y=v=h,z=h,B=h,A=w=h;w=h;g&&(Ha.$$p=null);g&&(Ha.$$p=null);t=c.$to_s().$tr("_"," ");v=e(t.$split(),"map",[],(p=function(a){null==a&&(a=h);return a.$capitalize()},p.$$s=this,p.$$arity=1,p))["$<<"]("Processor").$join().$to_sym();w=r(n,"Extensions").$const_get(v,!1);x=u(d("::","AsciidoctorJ","skip_raise")?"constant":h)?d(d("::","AsciidoctorJ"),"Extensions").$const_get(v,!1):
h;v=u(q=this.$instance_variable_get(("@"+c+"_extensions").$to_sym()))?q:this.$instance_variable_set(("@"+c+"_extensions").$to_sym(),m([],{}));if(k!==h)return g=this.$resolve_args(f,2),q=a.to_ary(g),y=null==q[0]?h:q[0],z=null==q[1]?h:q[1],g,(B=w.$new(this.$as_symbol(y),z)).$singleton_class().$enable_dsl(),k.$arity()["$=="](0)?e(B,"instance_exec",[],k.$to_proc()):a.yield1(k,B),u(y=this.$as_symbol(B.$name()))||this.$raise(d("::","ArgumentError"),"No name specified for "+t+" extension at "+k.$source_location()),
u(B["$process_block_given?"]())||this.$raise(d("::","NoMethodError"),"No block specified to process "+t+" extension at "+k.$source_location()),B.$freeze(),w=[y,r(n,"ProcessorExtension").$new(c,B)],e(v,"[]=",a.to_a(w)),w[b(w.length,1)];g=this.$resolve_args(f,3);q=a.to_ary(g);B=null==q[0]?h:q[0];y=null==q[1]?h:q[1];z=null==q[2]?h:q[2];g;return u(A=r(n,"Helpers").$resolve_class(B))?(u(u(q=l(A,w))?q:u(g=x)?l(A,x):g)||this.$raise(d("::","ArgumentError"),"Class specified for "+t+" extension does not inherit from "+
w+": "+B),w=A.$new(this.$as_symbol(y),z),u(y=this.$as_symbol(w.$name()))||this.$raise(d("::","ArgumentError"),"No name specified for "+t+" extension: "+B),w.$freeze(),w=[y,r(n,"ProcessorExtension").$new(c,w)],e(v,"[]=",a.to_a(w)),w[b(w.length,1)]):u(u(q=w["$==="](B))?q:u(g=x)?x["$==="](B):g)?(B.$update_config(z),u(y)?(w=[this.$as_symbol(y)],e(B,"name=",a.to_a(w)),f=w[b(w.length,1)]):f=this.$as_symbol(B.$name()),u(y=f)||this.$raise(d("::","ArgumentError"),"No name specified for "+t+" extension: "+
B),B.$freeze(),w=[y,r(n,"ProcessorExtension").$new(c,B)],e(v,"[]=",a.to_a(w)),w[b(w.length,1)]):this.$raise(d("::","ArgumentError"),"Invalid arguments specified for registering "+t+" extension: "+f)},Ha.$$arity=2);a.def(c,"$resolve_args",Ja=function(a,c){var e=h;var f=u(d("::","Hash")["$==="](a["$[]"](-1)))?a.$pop():m([],{});if(c["$=="](1))return f;u(k(e=b(b(c,1),a.$size()),0))?a=g(a,d("::","Array").$new(e)):u(l(e,0))&&a.$pop(e["$-@"]());a["$<<"](f);return a},Ja.$$arity=2);return(a.def(c,"$as_symbol",
Wa=function(a){return u(a)?a.$to_sym():h},Wa.$$arity=1),h)&&"as_symbol"})(n[0],null,n);(function(c,k){var l=[c].concat(k),n,p,q,t,v,w,x;a.def(c,"$generate_name",n=function(){return"extgrp"+this.$next_auto_id()},n.$$arity=0);a.def(c,"$next_auto_id",p=function(){var a;null==this.auto_id&&(this.auto_id=h);this.auto_id=u(a=this.auto_id)?a:-1;return this.auto_id=g(this.auto_id,1)},p.$$arity=0);a.def(c,"$groups",q=function(){var a;null==this.groups&&(this.groups=h);return this.groups=u(a=this.groups)?a:
m([],{})},q.$$arity=0);a.def(c,"$create",t=function(a){var b=t.$$p,c=b||h,d;b&&(t.$$p=null);b&&(t.$$p=null);null==a&&(a=h);return c!==h?r(l,"Registry").$new(f(u(d=a)?d:this.$generate_name(),c)):r(l,"Registry").$new()},t.$$arity=-1);a.def(c,"$register",v=function(c){var f=v.$$p,g=f||h,k,m=h,n;f&&(v.$$p=null);f&&(v.$$p=null);f=a.slice.call(arguments,0,arguments.length);var p=f.$size();g!==h?m=g:u(n=f.$pop())?m=u(k=r(l,"Helpers").$resolve_class(n))?k:n:this.$raise(d("::","ArgumentError"),"Extension group to register not specified");
g=u(k=f.$pop())?k:this.$generate_name();u(f["$empty?"]())||this.$raise(d("::","ArgumentError"),"Wrong number of arguments ("+p+" for 1..2)");k=[g.$to_sym(),m];e(this.$groups(),"[]=",a.to_a(k));return k[b(k.length,1)]},v.$$arity=-1);a.def(c,"$unregister_all",w=function(){this.groups=m([],{});return h},w.$$arity=0);return(a.def(c,"$unregister",x=function(b){var c;var d=a.slice.call(arguments,0,arguments.length);e(d,"each",[],(c=function(a){var b=c.$$s||this;null==b.groups&&(b.groups=h);null==a&&(a=
h);return b.groups.$delete(a.$to_sym())},c.$$s=this,c.$$arity=1,c));return h},x.$$arity=-1),h)&&"unregister"})(a.get_singleton_class(c),n)})(c[0],c)}(n[0],n)};Opal.modules["asciidoctor/js/asciidoctor_ext/stylesheet"]=function(a){var b=[],g=a.nil,k=a.const_get_qualified,l=a.module,n=a.klass,h=a.truthy;a.add_stubs(["$rstrip","$read","$join"]);return function(b,c){b=[l(b,"Asciidoctor")].concat(c);(function(b,$super,c){b=n(b,$super,"Stylesheets");[b].concat(c);var d;b.$$prototype.primary_stylesheet_data=
g;return(a.def(b,"$primary_stylesheet_data",d=function(){var a;return this.primary_stylesheet_data=h(a=this.primary_stylesheet_data)?a:k("::","IO").$read(k("::","File").$join("css","asciidoctor.css")).$rstrip()},d.$$arity=0),g)&&"primary_stylesheet_data"})(b[0],null,b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/document"]=function(a){var b=[],g=a.nil,k=a.const_get_relative,l=a.module,n=a.klass;return function(b,c){b=[l(b,"Asciidoctor")].concat(c);(function(b,$super,c){b=n(b,$super,"Document");
[b].concat(c);var d;return(a.def(b,"$fill_datetime_attributes",d=function(b,c){var d=a.truthy,e=a.falsy,g=a.nil,h=function(a,b){return 0===b?a.getUTCFullYear():a.getFullYear()},k=function(a,b){return 0===b?a.getUTCMonth():a.getMonth()},l=function(a,b){return 0===b?a.getUTCDate():a.getDate()},m=function(a,b){return 0===b?a.getUTCHours():a.getHours()},n=new Date;if(a.const_get_qualified("::","ENV")["$key?"]("SOURCE_DATE_EPOCH")){n.setTime(1E3*parseInt(a.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH")));
var q=n;var r=0}else r=-n.getTimezoneOffset()/60;if(d(localdate=b["$[]"]("localdate")))e(localyear=b["$[]"]("localyear"))&&(localyear=4===localdate.indexOf("-")?localdate.substring(0,4):g,b["$[]="]("localyear",localyear));else{var t=h(n,r).toString(),v=("0"+(k(n,r)+1)).slice(-2),u=("0"+l(n,r)).slice(-2);localdate=t+"-"+v+"-"+u;b["$[]="]("localdate",localdate);localyear=t;b["$[]="]("localyear",t)}if(e(localtime=b["$[]"]("localtime"))){v=("0"+m(n,r)).slice(-2);u=("0"+n.getMinutes()).slice(-2);var w=
("0"+n.getSeconds()).slice(-2);t=0===r?"UTC":0<r?("+0"+100*r).slice(-5):("-0"+100*-r).slice(-5);localtime=v+":"+u+":"+w+" "+t;b["$[]="]("localtime",localtime)}e(localdatetime=b["$[]"]("localdatetime"))&&(localdatetime=localdate+" "+localtime,b["$[]="]("localdatetime",localdatetime));d(q)?c=q:d(c)?r=-c.getTimezoneOffset()/60:c=n;if(d(docdate=b["$[]"]("docdate")))b["$[]="]("docyear",4===docdate.indexOf("-")?docdate.substring(0,4):g);else if(d=h(c,r).toString(),k=("0"+(k(c,r)+1)).slice(-2),l=("0"+l(c,
r)).slice(-2),docdate=d+"-"+k+"-"+l,b["$[]="]("docdate",docdate),e(b["$[]"]("docyear")))b["$[]="]("docyear",d);e(doctime=b["$[]"]("doctime"))&&(m=("0"+m(c,r)).slice(-2),l=("0"+c.getMinutes()).slice(-2),c=("0"+c.getSeconds()).slice(-2),t=0===r?"UTC":0<r?("+0"+100*r).slice(-5):("-0"+100*-r).slice(-5),doctime=m+":"+l+":"+c+" "+t,b["$[]="]("doctime",doctime));if(e(b["$[]"]("docdatetime")))b["$[]="]("docdatetime",docdate+" "+doctime);return g},d.$$arity=2),g)&&"fill_datetime_attributes"})(b[0],k(b,"AbstractBlock"),
b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/substitutors"]=function(a){var b=[],g=a.module;return function(b,c){b=[g(b,"Asciidoctor")].concat(c);(function(b,c){b=g(b,"Substitutors");[b].concat(c);var d;a.def(b,"$sub_placeholder",d=function(a,b){return a.replace("%s",b)},d.$$arity=2)})(b[0],b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/parser"]=function(a){var b=[],g=a.nil,k=a.module,l=a.klass,n=a.truthy;return function(b,c){b=[k(b,"Asciidoctor")].concat(c);(function(b,$super,
c){b=l(b,$super,"Parser");[b].concat(c);var d,h;return n(String.prototype.repeat)?(a.defs(b,"$uniform?",d=function(a,b,c){return b.repeat(c)===a},d.$$arity=3),g)&&"uniform?":(a.defs(b,"$uniform?",h=function(a,b,c){return Array.apply(null,{length:c}).map(function(){return b}).join("")===a},h.$$arity=3),g)&&"uniform?"})(b[0],null,b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/syntax_highlighter"]=function(a){var b=[],g=a.nil,k=a.const_get_relative,l=a.module,n=a.truthy;a.add_stubs("$key? $registry $[] $include? $include $empty? $debug $logger $join $keys".split(" "));
return function(b,c){b=[l(b,"Asciidoctor")].concat(c);(function(b,c){b=[l(b,"SyntaxHighlighter")].concat(c);(function(b,c){b=l(b,"Factory");var d=[b].concat(c),e;a.def(b,"$for",e=function(a){if(n(this.$registry()["$key?"](a)))return this.$registry()["$[]"](a);n(this["$include?"](k(d,"Logging")))||this.$include(k(d,"Logging"));n(this.$registry()["$empty?"]())?this.$logger().$debug("no syntax highlighter available, functionality disabled."):this.$logger().$debug("syntax highlighter named '"+a+"' is not available, must be one of: '"+
this.$registry().$keys().$join("', '")+"'.");return g},e.$$arity=1)})(b[0],b)})(b[0],b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext"]=function(a){var b=a.top;a.add_stubs(["$require"]);b.$require("asciidoctor/js/asciidoctor_ext/stylesheet");b.$require("asciidoctor/js/asciidoctor_ext/document");b.$require("asciidoctor/js/asciidoctor_ext/substitutors");b.$require("asciidoctor/js/asciidoctor_ext/parser");b.$require("asciidoctor/js/asciidoctor_ext/syntax_highlighter");b.$require("asciidoctor/js/asciidoctor_ext/browser")};
Opal.modules["asciidoctor/js/opal_ext/logger"]=function(a){var b=[],g=a.nil,k=a.const_get_relative,l=a.klass,n=a.truthy;a.add_stubs("$chr $rjust $message_as_string $< $write $call $[]".split(" "));return function(b,$super,c){b=l(b,$super,"Logger");var h=[b].concat(c),q;b.$$prototype.level=b.$$prototype.progname=b.$$prototype.pipe=b.$$prototype.formatter=g;(function(b,$super,c){b=l(b,$super,"Formatter");[b].concat(c);var e;return(a.def(b,"$call",e=function(a,b,c,e){b=b.getFullYear()+"-"+("0"+(b.getMonth()+
1)).slice(-2)+"-"+("0"+b.getDate()).slice(-2)+"T"+("0"+b.getHours()).slice(-2)+":"+("0"+b.getMinutes()).slice(-2)+":"+("0"+b.getSeconds()).slice(-2)+"."+("00"+1E3*(new Date).getMilliseconds()).slice(-6);return""+a.$chr()+", ["+b+"] "+a.$rjust(5)+" -- "+c+": "+this.$message_as_string(e)},e.$$arity=4),g)&&"call"})(h[0],null,h);return(a.def(b,"$add",q=function(b,c,e){var f=q.$$p,l=f||g,m;f&&(q.$$p=null);f&&(q.$$p=null);null==c&&(c=g);null==e&&(e=g);f=b=n(m=b)?m:k(h,"UNKNOWN");var p=this.level;f="number"===
typeof f&&"number"===typeof p?f<p:f["$<"](p);if(n(f))return!0;e=n(m=e)?m:this.progname;n(c)||(l!==g?c=a.yieldX(l,[]):(c=e,e=this.progname));this.pipe.$write(this.formatter.$call(n(m=k(h,"SEVERITY_LABELS")["$[]"](b))?m:"ANY",new Date,e,c));return!0},q.$$arity=-2),g)&&"add"}(b[0],null,b)};Opal.modules["asciidoctor/js/postscript"]=function(a){var b=a.top;a.add_stubs(["$require"]);b.$require("asciidoctor/converter/composite");b.$require("asciidoctor/converter/html5");b.$require("asciidoctor/extensions");
b.$require("asciidoctor/js/asciidoctor_ext");return b.$require("asciidoctor/js/opal_ext/logger")};(function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var g=a.top,k=[],l=a.nil,n=a.const_get_qualified,h=a.const_get_relative,d=a.module,r=a.send,p=a.hash2,t=a.truthy;a.add_stubs("$require $== $tap $each $constants $const_get $downcase $to_s $[]= $- $upcase $[] $values $new $attr_reader $instance_variable_set $send $singleton_class $<< $define $dirname $absolute_path $__dir__ $join $home $pwd $to_set $chr $each_key $slice $length $merge $default= $drop $insert".split(" "));
g.$require("set");h(k,"RUBY_ENGINE")["$=="]("opal")?g.$require("asciidoctor/js"):l;(function(c,g){c=d(c,"Asciidoctor");var e=[c].concat(g),f,k,m,q,v,u=l;a.const_set(e[0],"RUBY_ENGINE_OPAL",a.const_set(e[0],"RUBY_ENGINE",n("::","RUBY_ENGINE"))["$=="]("opal"));(function(c,e){c=d(c,"SafeMode");e=[c].concat(e);var f,g,h,k;a.const_set(e[0],"UNSAFE",0);a.const_set(e[0],"SAFE",1);a.const_set(e[0],"SERVER",10);a.const_set(e[0],"SECURE",20);c.names_by_value=r(p([],{}),"tap",[],(f=function(c){var d=f.$$s||
this,e;null==c&&(c=l);return r(d.$constants(!1),"each",[],(e=function(d){var f=e.$$s||this;null==d&&(d=l);d=[f.$const_get(d,!1),d.$to_s().$downcase()];r(c,"[]=",a.to_a(d));return d[b(d.length,1)]},e.$$s=d,e.$$arity=1,e))},f.$$s=c,f.$$arity=1,f));a.defs(c,"$value_for_name",g=function(a){return this.$const_get(a.$upcase(),!1)},g.$$arity=1);a.defs(c,"$name_for_value",h=function(a){null==this.names_by_value&&(this.names_by_value=l);return this.names_by_value["$[]"](a)},h.$$arity=1);a.defs(c,"$names",
k=function(){null==this.names_by_value&&(this.names_by_value=l);return this.names_by_value.$values()},k.$$arity=0)})(e[0],e);(function(b,c){b=d(b,"Compliance");c=[b].concat(c);b.keys=n("::","Set").$new();(function(b,c){[b].concat(c);var d;b.$attr_reader("keys");return(a.def(b,"$define",d=function(a,b){null==this.keys&&(this.keys=l);this.$instance_variable_set("@"+a,b);this.$singleton_class().$send("attr_accessor",a);this.keys["$<<"](a);return l},d.$$arity=2),l)&&"define"})(a.get_singleton_class(b),
c);b.$define("block_terminates_paragraph",!0);b.$define("strict_verbatim_paragraphs",!0);b.$define("underline_style_section_titles",!0);b.$define("unwrap_standalone_preamble",!0);b.$define("attribute_missing","skip");b.$define("attribute_undefined","drop-line");b.$define("shorthand_property_syntax",!0);b.$define("natural_xrefs",!0);b.$define("unique_id_start_index",2);b.$define("markdown_syntax",!0)})(e[0],e);t(h(e,"ROOT_DIR","skip_raise")?"constant":l)||a.const_set(e[0],"ROOT_DIR",n("::","File").$dirname(n("::",
"File").$absolute_path(c.$__dir__())));a.const_set(e[0],"LIB_DIR",n("::","File").$join(h(e,"ROOT_DIR"),"lib"));a.const_set(e[0],"DATA_DIR",n("::","File").$join(h(e,"ROOT_DIR"),"data"));a.const_set(e[0],"USER_HOME",function(){try{return n("::","Dir").$home()}catch(ca){if(a.rescue(ca,[h(e,"StandardError")]))try{return t(f=n("::","ENV")["$[]"]("HOME"))?f:n("::","Dir").$pwd()}finally{a.pop_exception()}else throw ca;}}());a.const_set(e[0],"LF","\n");a.const_set(e[0],"NULL","\x00");a.const_set(e[0],"TAB",
"\t");a.const_set(e[0],"MAX_INT",9007199254740991);a.const_set(e[0],"UTF_8",n(n("::","Encoding"),"UTF_8"));a.const_set(e[0],"BOM_BYTES_UTF_8",[239,187,191]);a.const_set(e[0],"BOM_BYTES_UTF_16LE",[255,254]);a.const_set(e[0],"BOM_BYTES_UTF_16BE",[254,255]);a.const_set(e[0],"FILE_READ_MODE",t(h(e,"RUBY_ENGINE_OPAL"))?"r":"rb:utf-8:utf-8");a.const_set(e[0],"URI_READ_MODE",h(e,"FILE_READ_MODE"));a.const_set(e[0],"FILE_WRITE_MODE",t(h(e,"RUBY_ENGINE_OPAL"))?"w":"w:utf-8");a.const_set(e[0],"DEFAULT_DOCTYPE",
"article");a.const_set(e[0],"DEFAULT_BACKEND","html5");a.const_set(e[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set());a.const_set(e[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.const_set(e[0],"BACKEND_ALIASES",p(["html","docbook"],{html:"html5",docbook:"docbook5"}));a.const_set(e[0],"DEFAULT_PAGE_WIDTHS",p(["docbook"],{docbook:425}));a.const_set(e[0],"DEFAULT_EXTENSIONS",p("html docbook pdf epub manpage asciidoc".split(" "),{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",
asciidoc:".adoc"}));a.const_set(e[0],"ASCIIDOC_EXTENSIONS",p([".adoc",".asciidoc",".asc",".ad",".txt"],{".adoc":!0,".asciidoc":!0,".asc":!0,".ad":!0,".txt":!0}));a.const_set(e[0],"SETEXT_SECTION_LEVELS",p(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4}));a.const_set(e[0],"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set());a.const_set(e[0],"ADMONITION_STYLE_HEADS",r(n("::","Set").$new(),"tap",[],(k=function(a){var b=k.$$s||this,c;null==a&&(a=l);return r(h(e,"ADMONITION_STYLES"),
"each",[],(c=function(b){null==b&&(b=l);return a["$<<"](b.$chr())},c.$$s=b,c.$$arity=1,c))},k.$$s=c,k.$$arity=1,k)));a.const_set(e[0],"PARAGRAPH_STYLES","comment example literal listing normal open pass quote sidebar source verse abstract partintro".split(" ").$to_set());a.const_set(e[0],"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set());a.const_set(e[0],"DELIMITED_BLOCKS",p("-- ---- .... ==== **** ____ ++++ |=== ,=== :=== !=== //// ```".split(" "),{"--":["open","comment example literal listing pass quote sidebar source verse admonition abstract partintro".split(" ").$to_set()],
"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",n("::","Set").$new()],____:["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",n("::","Set").$new()],",===":["table",n("::","Set").$new()],":===":["table",n("::","Set").$new()],"!===":["table",n("::","Set").$new()],"////":["comment",n("::","Set").$new()],"```":["fenced_code",n("::","Set").$new()]}));
a.const_set(e[0],"DELIMITED_BLOCK_HEADS",r(p([],{}),"tap",[],(m=function(c){var d=m.$$s||this,f;null==c&&(c=l);return r(h(e,"DELIMITED_BLOCKS"),"each_key",[],(f=function(d){null==d&&(d=l);d=[d.$slice(0,2),!0];r(c,"[]=",a.to_a(d));return d[b(d.length,1)]},f.$$s=d,f.$$arity=1,f))},m.$$s=c,m.$$arity=1,m)));a.const_set(e[0],"DELIMITED_BLOCK_TAILS",r(p([],{}),"tap",[],(q=function(c){var d=q.$$s||this,f;null==c&&(c=l);return r(h(e,"DELIMITED_BLOCKS"),"each_key",[],(f=function(d){null==d&&(d=l);return d.$length()["$=="](4)?
(d=[d,d["$[]"](b(d.$length(),1))],r(c,"[]=",a.to_a(d)),d[b(d.length,1)]):l},f.$$s=d,f.$$arity=1,f))},q.$$s=c,q.$$arity=1,q)));a.const_set(e[0],"CAPTION_ATTRIBUTE_NAMES",p(["example","figure","listing","table"],{example:"example-caption",figure:"figure-caption",listing:"listing-caption",table:"table-caption"}));a.const_set(e[0],"LAYOUT_BREAK_CHARS",p(["'","<"],{"'":"thematic_break","<":"page_break"}));a.const_set(e[0],"MARKDOWN_THEMATIC_BREAK_CHARS",p(["-","*","_"],{"-":"thematic_break","*":"thematic_break",
_:"thematic_break"}));a.const_set(e[0],"HYBRID_LAYOUT_BREAK_CHARS",h(e,"LAYOUT_BREAK_CHARS").$merge(h(e,"MARKDOWN_THEMATIC_BREAK_CHARS")));a.const_set(e[0],"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]);a.const_set(e[0],"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]);a.const_set(e[0],"ORDERED_LIST_KEYWORDS",p(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"}));a.const_set(e[0],"ATTR_REF_HEAD",
"{");a.const_set(e[0],"LIST_CONTINUATION","+");a.const_set(e[0],"HARD_LINE_BREAK"," +");a.const_set(e[0],"LINE_CONTINUATION"," \\");a.const_set(e[0],"LINE_CONTINUATION_LEGACY"," +");a.const_set(e[0],"BLOCK_MATH_DELIMITERS",p(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]}));a.const_set(e[0],"INLINE_MATH_DELIMITERS",p(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]}));u=["asciimath"];r(a.const_set(e[0],"STEM_TYPE_ALIASES",p(["latexmath","latex",
"tex"],{latexmath:"latexmath",latex:"latexmath",tex:"latexmath"})),"default=",a.to_a(u));u[b(u.length,1)];a.const_set(e[0],"FONT_AWESOME_VERSION","4.7.0");a.const_set(e[0],"HIGHLIGHT_JS_VERSION","9.18.3");a.const_set(e[0],"MATHJAX_VERSION","2.7.9");a.const_set(e[0],"DEFAULT_ATTRIBUTES",p("appendix-caption appendix-refsig caution-caption chapter-refsig example-caption figure-caption important-caption last-update-label note-caption part-refsig prewrap sectids section-refsig table-caption tip-caption toc-placement toc-title untitled-label version-label warning-caption".split(" "),
{"appendix-caption":"Appendix","appendix-refsig":"Appendix","caution-caption":"Caution","chapter-refsig":"Chapter","example-caption":"Example","figure-caption":"Figure","important-caption":"Important","last-update-label":"Last updated","note-caption":"Note","part-refsig":"Part",prewrap:"",sectids:"","section-refsig":"Section","table-caption":"Table","tip-caption":"Tip","toc-placement":"auto","toc-title":"Table of Contents","untitled-label":"Untitled","version-label":"Version","warning-caption":"Warning"}));
a.const_set(e[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]);a.const_set(e[0],"INTRINSIC_ATTRIBUTES",p("startsb endsb vbar caret asterisk tilde plus backslash backtick blank empty sp two-colons two-semicolons nbsp deg zwsp quot apos lsquo rsquo ldquo rdquo wj brvbar pp cpp amp lt gt".split(" "),{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",
quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",pp:"&#43;&#43;",cpp:"C&#43;&#43;",amp:"&",lt:"<",gt:">"}));h(e,"RUBY_ENGINE")["$=="]("opal")||l;a.const_set(e[0],"QUOTE_SUBS",r(p([],{}),"tap",[],(v=function(c){var d;null==c&&(c=l);u=[!1,d=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\*\\*("+h(e,"CC_ALL")+"+?)\\*\\*","m")],["strong","constrained",new RegExp("(^|[^"+h(e,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\*(\\S|\\S"+
h(e,"CC_ALL")+"*?\\S)\\*(?!"+h(e,"CG_WORD")+")","m")],["double","constrained",new RegExp("(^|[^"+h(e,"CC_WORD")+';:}])(?:\\[([^\\]]+)\\])?"`(\\S|\\S'+h(e,"CC_ALL")+'*?\\S)`"(?!'+h(e,"CG_WORD")+")","m")],["single","constrained",new RegExp("(^|[^"+h(e,"CC_WORD")+";:`}])(?:\\[([^\\]]+)\\])?'`(\\S|\\S"+h(e,"CC_ALL")+"*?\\S)`'(?!"+h(e,"CG_WORD")+")","m")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?``("+h(e,"CC_ALL")+"+?)``","m")],["monospaced","constrained",new RegExp("(^|[^"+h(e,
"CC_WORD")+";:\"'`}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+h(e,"CC_ALL")+"*?\\S)`(?!["+h(e,"CC_WORD")+"\"'`])","m")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?__("+h(e,"CC_ALL")+"+?)__","m")],["emphasis","constrained",new RegExp("(^|[^"+h(e,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?_(\\S|\\S"+h(e,"CC_ALL")+"*?\\S)_(?!"+h(e,"CG_WORD")+")","m")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?##("+h(e,"CC_ALL")+"+?)##","m")],["mark","constrained",new RegExp("(^|[^"+h(e,"CC_WORD")+
"&;:}])(?:\\[([^\\]]+)\\])?#(\\S|\\S"+h(e,"CC_ALL")+"*?\\S)#(?!"+h(e,"CG_WORD")+")","m")],["superscript","unconstrained",/\\?(?:\[([^\]]+)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+)\])?~(\S+?)~/]]];r(c,"[]=",a.to_a(u));u[b(u.length,1)];u=[!0,d=d.$drop(0)];r(c,"[]=",a.to_a(u));u[b(u.length,1)];u=[2,["double","constrained",new RegExp("(^|[^"+h(e,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?``(\\S|\\S"+h(e,"CC_ALL")+"*?\\S)''(?!"+h(e,"CG_WORD")+")","m")]];r(d,"[]=",a.to_a(u));u[b(u.length,
1)];u=[3,["single","constrained",new RegExp("(^|[^"+h(e,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+h(e,"CC_ALL")+"*?\\S)'(?!"+h(e,"CG_WORD")+")","m")]];r(d,"[]=",a.to_a(u));u[b(u.length,1)];u=[4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\+\\+("+h(e,"CC_ALL")+"+?)\\+\\+","m")]];r(d,"[]=",a.to_a(u));u[b(u.length,1)];u=[5,["monospaced","constrained",new RegExp("(^|[^"+h(e,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\+(\\S|\\S"+h(e,"CC_ALL")+"*?\\S)\\+(?!"+h(e,"CG_WORD")+")",
"m")]];r(d,"[]=",a.to_a(u));u[b(u.length,1)];return d.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+h(e,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?'(\\S|\\S"+h(e,"CC_ALL")+"*?\\S)'(?!"+h(e,"CG_WORD")+")","m")])},v.$$s=c,v.$$arity=1,v)));a.const_set(e[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(?: |\n|^|\\)--(?: |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+h(e,"CG_WORD")+")\\\\?--(?="+h(e,"CG_WORD")+")"),"&#8212;&#8203;",
"leading"],[/\\?\.\.\./,"&#8230;&#8203;","none"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+h(e,"CG_ALNUM")+")\\\\?'(?="+h(e,"CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z][a-zA-Z]+\d{0,2}|#\d\d\d{0,4}|#x[\da-fA-F][\da-fA-F][\da-fA-F]{0,3});)/,"","bounding"]]);h(e,"RUBY_ENGINE")["$=="]("opal")||l;h(e,"RUBY_ENGINE")["$=="]("opal")||l})(k[0],k);g.$require("asciidoctor.rb/../asciidoctor/core_ext");
g.$require("asciidoctor.rb/../asciidoctor/helpers");g.$require("asciidoctor.rb/../asciidoctor/logging");g.$require("asciidoctor.rb/../asciidoctor/rx");g.$require("asciidoctor.rb/../asciidoctor/substitutors");g.$require("asciidoctor.rb/../asciidoctor/version");g.$require("asciidoctor.rb/../asciidoctor/abstract_node");g.$require("asciidoctor.rb/../asciidoctor/abstract_block");g.$require("asciidoctor.rb/../asciidoctor/attribute_list");g.$require("asciidoctor.rb/../asciidoctor/block");g.$require("asciidoctor.rb/../asciidoctor/callouts");
g.$require("asciidoctor.rb/../asciidoctor/converter");g.$require("asciidoctor.rb/../asciidoctor/document");g.$require("asciidoctor.rb/../asciidoctor/inline");g.$require("asciidoctor.rb/../asciidoctor/list");g.$require("asciidoctor.rb/../asciidoctor/parser");g.$require("asciidoctor.rb/../asciidoctor/path_resolver");g.$require("asciidoctor.rb/../asciidoctor/reader");g.$require("asciidoctor.rb/../asciidoctor/section");g.$require("asciidoctor.rb/../asciidoctor/stylesheets");g.$require("asciidoctor.rb/../asciidoctor/table");
g.$require("asciidoctor.rb/../asciidoctor/writer");g.$require("asciidoctor.rb/../asciidoctor/load");g.$require("asciidoctor.rb/../asciidoctor/convert");return h(k,"RUBY_ENGINE")["$=="]("opal")?(g.$require("asciidoctor.rb/../asciidoctor/syntax_highlighter"),g.$require("asciidoctor.rb/../asciidoctor/timings"),g.$require("asciidoctor/js/postscript")):l})(Opal);var n=function(a){return a&&!a.$$is_hash?Opal.hash2(Object.keys(a),a):a},g=function(a){var b={};if(a){var g=a.$$smap;for(n in g){var k=g[n];b[n]=
k===Opal.nil?void 0:k}if(a=a.$$map){g=[];for(var l in a){var n=a[l];k=n.value;g[n.key-1]=k===Opal.nil?void 0:k}0<g.length&&(b.$positional=g)}}return b},G=function(a){if(a=n(a)){var b=a["$[]"]("attributes");b&&"object"===typeof b&&"Object"===b.constructor.name&&(a=a.$dup(),a["$[]="]("attributes",n(b)))}return a},k=Opal.Asciidoctor.$$class;k.prototype.getCoreVersion=function(){return this.$$const.VERSION};k.prototype.getRuntime=function(){return{ioModule:Opal.const_get_qualified("::","JAVASCRIPT_IO_MODULE"),
platform:Opal.const_get_qualified("::","JAVASCRIPT_PLATFORM"),engine:Opal.const_get_qualified("::","JAVASCRIPT_ENGINE"),framework:Opal.const_get_qualified("::","JAVASCRIPT_FRAMEWORK")}};k.prototype.convert=function(a,b){"object"===typeof a&&"Buffer"===a.constructor.name&&(a=a.toString("utf8"));a=this.$convert(a,G(b));return a===Opal.nil?"":a};k.prototype.convertFile=function(a,b){return this.$convert_file(a,G(b))};k.prototype.load=function(a,b){"object"===typeof a&&"Buffer"===a.constructor.name&&
(a=a.toString("utf8"));return this.$load(a,G(b))};k.prototype.loadFile=function(a,b){return this.$load_file(a,G(b))};k=Opal.Asciidoctor.AbstractBlock;k.prototype.append=function(a){this.$append(a);return this};k.prototype.getTitle=function(){var a=this.$title();return a===Opal.nil?void 0:a};k.prototype.setTitle=function(a){a="undefined"===typeof a?Opal.nil:a;return this["$title="](a)};k.prototype.assignCaption=function(a,b){a="undefined"===typeof a?Opal.nil:a;this.$assign_caption(a,"undefined"===
typeof b?null:b)};k.prototype.getCaptionedTitle=function(){return this.$captioned_title()};k.prototype.getStyle=function(){var a=this.style;return a===Opal.nil?void 0:a};k.prototype.setStyle=function(a){this.style=a};k.prototype.getSourceLocation=function(){var a=this.source_location;if(a!==Opal.nil)return a.getFile=function(){var a=this.file;return a===Opal.nil?void 0:a},a.getDirectory=function(){var a=this.dir;return a===Opal.nil?void 0:a},a.getPath=function(){var a=this.path;return a===Opal.nil?
void 0:a},a.getLineNumber=function(){var a=this.lineno;return a===Opal.nil?void 0:a},a};k.prototype.getCaption=function(){var a=this.$caption();return a===Opal.nil?void 0:a};k.prototype.setCaption=function(a){this.caption="undefined"===typeof a?Opal.nil:a};k.prototype.getLevel=function(){var a=this.level;return a===Opal.nil?void 0:a};k.prototype.getSubstitutions=function(){return this.subs};k.prototype.hasSubstitution=function(a){return this["$sub?"](a)};k.prototype.removeSubstitution=function(a){this.$remove_sub(a)};
k.prototype.hasBlocks=function(){return 0<this.blocks.length};k.prototype.getBlocks=function(){return this.blocks};k.prototype.getContent=function(){return this.$content()};k.prototype.convert=function(){return this.$convert()};k.prototype.findBy=function(a,b){return"undefined"===typeof b&&"function"===typeof a?Opal.send(this,"find_by",null,a):"function"===typeof b?Opal.send(this,"find_by",[n(a)],b):this.$find_by(n(a))};k.prototype.getLineNumber=function(){var a=this.$lineno();return a===Opal.nil?
void 0:a};k.prototype.hasSections=function(){return this.next_section_index!==Opal.nil&&0<this.next_section_index};k.prototype.getSections=function(){return this.$sections()};k.prototype.getNumeral=function(){return this.$numeral()};k.prototype.setNumeral=function(a){this["$numeral="](a)};k.prototype.hasTitle=function(){return this["$title?"]()};k.prototype.getAlt=function(){return this.$alt()};k=Opal.Asciidoctor.Section;k.create=function(a,b,g,k){k&&k.attributes&&(k.attributes=n(k.attributes));return this.$new(a,
b,g,n(k))};k.prototype.setLevel=function(a){this.level=a};k.prototype.getIndex=function(){return this.index};k.prototype.setIndex=function(a){this.index=a};k.prototype.getSectionName=function(){var a=this.sectname;return a===Opal.nil?void 0:a};k.prototype.setSectionName=function(a){this.sectname=a};k.prototype.isSpecial=function(){return this.special};k.prototype.setSpecial=function(a){this.special=a};k.prototype.isNumbered=function(){return this.numbered};k.prototype.getCaption=function(){var a=
this.caption;return a===Opal.nil?void 0:a};k.prototype.getName=function(){return this.getTitle()};k=Opal.Asciidoctor.Block;k.create=function(a,b,g){g&&g.attributes&&(g.attributes=n(g.attributes));return this.$new(a,b,n(g))};k.prototype.getSource=function(){return this.$source()};k.prototype.getSourceLines=function(){return this.lines};k=Opal.Asciidoctor.AbstractNode;k.prototype.applySubstitutions=function(a,b){return this.$apply_subs(a,b)};k.prototype.resolveSubstitutions=function(a,b,g,k){"undefined"===
typeof b&&(b="block");"undefined"===typeof g&&(g=Opal.nil);"undefined"===typeof k&&(k=Opal.nil);a=this.$resolve_subs(a,b,g,k);return a===Opal.nil?void 0:a};k.prototype.resolveBlockSubstitutions=function(a,b,g){return this.resolveSubstitutions(a,"block",b,g)};k.prototype.resolvePassSubstitutions=function(a){return this.resolveSubstitutions(a,"inline",void 0,"passthrough macro")};k.prototype.getNodeName=function(){return this.node_name};k.prototype.getAttributes=function(){return g(this.attributes)};
k.prototype.getAttribute=function(a,b,g){a=this.$attr(a,b,g);return a===Opal.nil?void 0:a};k.prototype.hasAttribute=function(a){return a in this.attributes.$$smap};k.prototype.isAttribute=function(a,b,g){a=this["$attr?"](a,b,g);return a===Opal.nil?!1:a};k.prototype.setAttribute=function(a,b,g){"undefined"===typeof g&&(g=!0);return this.$set_attr(a,b,g)};k.prototype.removeAttribute=function(a){a=this.$remove_attr(a);return a===Opal.nil?void 0:a};k.prototype.getDocument=function(){return this.document};
k.prototype.getParent=function(){var a=this.parent;return a===Opal.nil?void 0:a};k.prototype.isInline=function(){return this["$inline?"]()};k.prototype.isBlock=function(){return this["$block?"]()};k.prototype.isRole=function(a){return this["$role?"](a)};k.prototype.getRole=function(){return this.$role()};k.prototype.hasRole=function(a){return this["$has_role?"](a)};k.prototype.getRoles=function(){return this.$roles()};k.prototype.addRole=function(a){return this.$add_role(a)};k.prototype.removeRole=
function(a){return this.$remove_role(a)};k.prototype.isReftext=function(){return this["$reftext?"]()};k.prototype.getReftext=function(){var a=this.$reftext();return a===Opal.nil?void 0:a};k.prototype.getContext=function(){var a=this.context;return"string"===typeof a?a:a.toString()};k.prototype.getId=function(){var a=this.id;return a===Opal.nil?void 0:a};k.prototype.setId=function(a){this.id=a};k.prototype.isOption=function(a){return this["$option?"](a)};k.prototype.setOption=function(a){return this.$set_option(a)};
k.prototype.getIconUri=function(a){return this.$icon_uri(a)};k.prototype.getMediaUri=function(a,b){return this.$media_uri(a,b)};k.prototype.getImageUri=function(a,b){return this.$image_uri(a,b)};k.prototype.getConverter=function(){return this.$converter()};k.prototype.readContents=function(a,b){return this.$read_contents(a,n(b))};k.prototype.readAsset=function(a,b){a=this.$read_asset(a,n(b));return a===Opal.nil?void 0:a};k.prototype.normalizeWebPath=function(a,b,g){return this.$normalize_web_path(a,
b,g)};k.prototype.normalizeSystemPath=function(a,b,g,k){return this.$normalize_system_path(a,b,g,n(k))};k.prototype.normalizeAssetPath=function(a,b,g){return this.$normalize_asset_path(a,b,g)};var E=Opal.Asciidoctor.Document;E.prototype.getRefs=function(){return g(this.catalog.$$smap.refs)};E.prototype.getImages=function(){return this.catalog.$$smap.images};E.prototype.getLinks=function(){return this.catalog.$$smap.links};E.prototype.hasFootnotes=function(){return this["$footnotes?"]()};E.prototype.getFootnotes=
function(){return this.$footnotes()};E.prototype.getHeader=function(){return this.header};E.prototype.setAttribute=function(a,b){return this.$set_attribute(a,b)};E.prototype.removeAttribute=function(a){this.attributes.$delete(a);this.attribute_overrides.$delete(a)};E.prototype.convert=function(a){a=this.$convert(n(a));return a===Opal.nil?"":a};E.prototype.write=function(a,b){return this.$write(a,b)};E.prototype.getAuthor=function(){return this.$author()};E.prototype.getSource=function(){return this.$source()};
E.prototype.getSourceLines=function(){return this.$source_lines()};E.prototype.isNested=function(){return this["$nested?"]()};E.prototype.isEmbedded=function(){return this["$embedded?"]()};E.prototype.hasExtensions=function(){return this["$extensions?"]()};E.prototype.getDoctype=function(){return this.doctype};E.prototype.getBackend=function(){return this.backend};E.prototype.isBasebackend=function(a){return this["$basebackend?"](a)};E.prototype.getTitle=function(){var a=this.$title();return a===
Opal.nil?void 0:a};E.prototype.setTitle=function(a){return this["$title="](a)};E.prototype.getDocumentTitle=function(a){a=this.$doctitle(n(a));return a===Opal.nil?void 0:a};E.prototype.getDoctitle=E.prototype.getDocumentTitle;E.prototype.getCatalog=function(){return g(this.catalog)};E.prototype.getReferences=E.prototype.getCatalog;E.prototype.getRevisionDate=function(){return this.getAttribute("revdate")};E.prototype.getRevdate=function(){return this.getRevisionDate()};E.prototype.getRevisionNumber=
function(){return this.getAttribute("revnumber")};E.prototype.getRevisionRemark=function(){return this.getAttribute("revremark")};E.prototype.setHeaderAttribute=function(a,b,g){"undefined"===typeof g&&(g=!0);"undefined"===typeof b&&(b="");return this.$set_header_attribute(a,b,g)};E.prototype.getAuthors=function(){return this.$authors()};var w=E.Footnote;w.prototype.getIndex=function(){var a=this.$$data.index;return a===Opal.nil?void 0:a};w.prototype.getId=function(){var a=this.$$data.id;return a===
Opal.nil?void 0:a};w.prototype.getText=function(){var a=this.$$data.text;return a===Opal.nil?void 0:a};w=E.ImageReference;w.prototype.getTarget=function(){return this.$$data.target};w.prototype.getImagesDirectory=function(){var a=this.$$data.imagesdir;return a===Opal.nil?void 0:a};w=E.Author;w.prototype.getName=function(){var a=this.$$data.name;return a===Opal.nil?void 0:a};w.prototype.getFirstName=function(){var a=this.$$data.firstname;return a===Opal.nil?void 0:a};w.prototype.getMiddleName=function(){var a=
this.$$data.middlename;return a===Opal.nil?void 0:a};w.prototype.getLastName=function(){var a=this.$$data.lastname;return a===Opal.nil?void 0:a};w.prototype.getInitials=function(){var a=this.$$data.initials;return a===Opal.nil?void 0:a};w.prototype.getEmail=function(){var a=this.$$data.email;return a===Opal.nil?void 0:a};E.RevisionInfo=function(a,b,g){this.date=a;this.number=b;this.remark=g};w=E.RevisionInfo;w.prototype.getDate=function(){return this.date};w.prototype.getNumber=function(){return this.number};
w.prototype.getRemark=function(){return this.remark};w.prototype.isEmpty=function(){return void 0===this.date&&void 0===this.number&&void 0===this.remark};w=Opal.Asciidoctor.SafeMode;w.getValueForName=function(a){return this.$value_for_name(a)};w.getNameForValue=function(a){a=this.$name_for_value(a);return a===Opal.nil?void 0:a};w.getNames=function(){return this.$names()};w=Opal.Asciidoctor.Callouts;w.create=function(){return this.$new()};w.prototype.register=function(a){return this.$register(a)};
w.prototype.readNextId=function(){return this.$read_next_id()};w.prototype.getCalloutIds=function(a){return this.$callout_ids(a)};w.prototype.getLists=function(){var a=this.lists;if(a&&0<a.length)for(var b=0;b<a.length;b++){var k=a[b];if(k&&0<k.length)for(var l=0;l<k.length;l++)"object"===typeof k[l]&&"$$smap"in k[l]&&(k[l]=g(k[l]))}return a};w.prototype.getListIndex=function(){return this.list_index};w.prototype.getCurrentList=function(){var a=this.$current_list();if(a&&0<a.length)for(var b=0;b<
a.length;b++)"object"===typeof a[b]&&"$$smap"in a[b]&&(a[b]=g(a[b]));return a};w.prototype.nextList=function(){return this.$nextList()};w.prototype.rewind=function(){return this.$rewind()};E.prototype.getRevisionInfo=function(){return new E.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())};E.prototype.hasRevisionInfo=function(){return!this.getRevisionInfo().isEmpty()};E.prototype.getNotitle=function(){return this.$notitle()};E.prototype.getNoheader=function(){return this.$noheader()};
E.prototype.getNofooter=function(){return this.$nofooter()};E.prototype.hasHeader=function(){return this["$header?"]()};E.prototype.playbackAttributes=function(a){if(a=n(a)){var b=a["$[]"]("attribute_entries");if(b&&Array.isArray(b)){for(var g=[],k=0;k<b.length;k++){var l=b[k];l&&"object"===typeof l&&"Object"===l.constructor.name&&(l.$name=function(){return this.name},l.$value=function(){return this.value},l.$negate=function(){return this.negate});g.push(l)}a["$[]="]("attribute_entries",g)}}this.$playback_attributes(a)};
E.prototype.deleteAttribute=function(a){return this.$delete_attribute(a)};E.prototype.isAttributeLocked=function(a){return this["$attribute_locked?"](a)};E.prototype.restoreAttributes=function(){return this.$restore_attributes()};E.prototype.parse=function(a){return this.$parse(a)};E.prototype.getDocinfo=function(a,b){return this.$docinfo(a,b)};E.prototype.hasDocinfoProcessors=function(a){return this["$docinfo_processors?"](a)};E.prototype.incrementAndStoreCounter=function(a,b){return this.$increment_and_store_counter(a,
b)};E.prototype.counterIncrement=E.prototype.incrementAndStoreCounter;E.prototype.counter=function(a,b){return this.$counter(a,b)};E.prototype.getSafe=function(){return this.safe};E.prototype.getCompatMode=function(){return this.compat_mode};E.prototype.getSourcemap=function(){var a=this.sourcemap;return a===Opal.nil?!1:a};E.prototype.setSourcemap=function(a){this.sourcemap=a};E.prototype.getCounters=function(){return g(this.counters)};E.prototype.getCallouts=function(){return this.$callouts()};E.prototype.getBaseDir=
function(){return this.base_dir};E.prototype.getOptions=function(){return g(this.options)};E.prototype.getOutfilesuffix=function(){return this.outfilesuffix};E.prototype.getParentDocument=function(){var a=this.parent_document;return a===Opal.nil?void 0:a};E.prototype.getReader=function(){return this.reader};E.prototype.getConverter=function(){return this.converter};E.prototype.getExtensions=function(){var a=this.extensions;return a===Opal.nil?void 0:a};w=E.Title;w.prototype.getMain=function(){return this.main};
w.prototype.getCombined=function(){return this.combined};w.prototype.getSubtitle=function(){var a=this.subtitle;return a===Opal.nil?void 0:a};w.prototype.isSanitized=function(){var a=this["$sanitized?"]();return a===Opal.nil?!1:a};w.prototype.hasSubtitle=function(){return this["$subtitle?"]()};w=Opal.Asciidoctor.Inline;w.create=function(a,b,g,k){return this.$new(a,b,g,G(k))};w.prototype.convert=function(){return this.$convert()};w.prototype.getText=function(){var a=this.$text();return a===Opal.nil?
void 0:a};w.prototype.getType=function(){return this.$type()};w.prototype.getTarget=function(){var a=this.$target();return a===Opal.nil?void 0:a};w.prototype.getAlt=function(){return this.$alt()};w=Opal.Asciidoctor.List;w.prototype.hasItems=function(){return this["$items?"]()};w.prototype.getItems=function(){return this.blocks};w=Opal.Asciidoctor.ListItem;w.prototype.getText=function(){return this.$text()};w.prototype.setText=function(a){return this["$text="](a)};w.prototype.hasText=function(){return this["$text?"]()};
w.prototype.getMarker=function(){return this.marker};w.prototype.setMarker=function(a){this.marker=a};w.prototype.getList=function(){return this.$list()};w.prototype.getParent=w.prototype.getList;w=Opal.Asciidoctor.Reader;w.prototype.pushInclude=function(a,b,g,k,l){return this.$push_include(a,b,g,k,n(l))};w.prototype.getCursor=function(){return this.$cursor()};w.prototype.getLines=function(){return this.$lines()};w.prototype.getString=function(){return this.$string()};w.prototype.hasMoreLines=function(){return this["$has_more_lines?"]()};
w.prototype.isEmpty=function(){return this["$empty?"]()};w.prototype.peekLine=function(a){a=this.$peek_line(a||!1);return a===Opal.nil?void 0:a};w.prototype.readLine=function(){var a=this.$read_line();return a===Opal.nil?void 0:a};w.prototype.readLines=function(){return this.$read_lines()};w.prototype.read=function(){return this.$read()};w.prototype.advance=function(){return this.$advance()};var t=Opal.Asciidoctor.Reader.Cursor;t.prototype.getFile=function(){var a=this.file;return a===Opal.nil?void 0:
a};t.prototype.getDirectory=function(){var a=this.dir;return a===Opal.nil?void 0:a};t.prototype.getPath=function(){var a=this.path;return a===Opal.nil?void 0:a};t.prototype.getLineNumber=function(){return this.lineno};var N=Opal.const_get_qualified(Opal.Asciidoctor,"LoggerManager",!0);Opal.Asciidoctor.LoggerManager=N;N.getLogger=function(){return this.$logger()};N.setLogger=function(a){this.logger=a};N.newLogger=function(a,b){return C(a,b).$new()};N.newFormatter=function(a,b){return A(a,b).$new()};
var M=Opal.const_get_qualified(Opal.Logger,"Severity",!0);Opal.Asciidoctor.LoggerSeverity=M;M.get=function(a){return M.$constants()[a]};t=Opal.const_get_qualified(Opal.Logger,"Formatter",!0);Opal.Asciidoctor.LoggerFormatter=t;t.prototype.call=function(a,b,g,k){return this.$call(M.get(a),b,g,k)};t=Opal.const_get_qualified(Opal.Asciidoctor,"MemoryLogger",!0);Opal.Asciidoctor.MemoryLogger=t;t.create=function(){return this.$new()};t.prototype.getMessages=function(){for(var a=this.messages,b=[],k=0;k<
a.length;k++){var l=g(a[k]);"string"===typeof l.message?l.getText=function(){return this.message}:(l.message=g(l.message),l.getText=function(){return this.message.text});l.getSeverity=function(){return this.severity.toString()};l.getSourceLocation=function(){return this.message.source_location};b.push(l)}return b};var K=Opal.const_get_qualified(Opal.Asciidoctor,"Logging",!0);Opal.Asciidoctor.Logging=K;K.getLogger=function(){return N.$logger()};K.createLogMessage=function(a,b){return K.prototype.$message_with_context(a,
n(b))};w.prototype.getLogger=K.getLogger;w.prototype.createLogMessage=K.createLogMessage;k.prototype.getLogger=K.getLogger;k.prototype.createLogMessage=K.createLogMessage;k=Opal.const_get_qualified(Opal.Asciidoctor,"Logger",!0);Opal.Asciidoctor.Logger=k;k.prototype.getMaxSeverity=function(){var a=this.max_severity;return a===Opal.nil?void 0:a};k.prototype.getFormatter=function(){return this.formatter};k.prototype.setFormatter=function(a){this.formatter=a};k.prototype.getLevel=function(){return this.level};
k.prototype.setLevel=function(a){this.level=a};k.prototype.getProgramName=function(){return this.progname};k.prototype.setProgramName=function(a){this.progname=a};k=Opal.const_get_qualified("::","Logger");k.prototype.add=function(a,b,g){a="string"===typeof a?M[a.toUpperCase()]:a;this.$add(a,b,g)};k.prototype.log=k.prototype.add;k.prototype.debug=function(a){this.$debug(a)};k.prototype.info=function(a){this.$info(a)};k.prototype.warn=function(a){this.$warn(a)};k.prototype.error=function(a){this.$error(a)};
k.prototype.fatal=function(a){this.$fatal(a)};k.prototype.isDebugEnabled=function(){return this["$debug?"]()};k.prototype.isInfoEnabled=function(){return this["$info?"]()};k.prototype.isWarnEnabled=function(){return this["$warn?"]()};k.prototype.isErrorEnabled=function(){return this["$error?"]()};k.prototype.isFatalEnabled=function(){return this["$fatal?"]()};k=Opal.const_get_qualified(Opal.Asciidoctor,"NullLogger",!0);Opal.Asciidoctor.NullLogger=k;k.create=function(){return this.$new()};k.prototype.getMaxSeverity=
function(){return this.max_severity};Opal.Asciidoctor.StopIteration=Opal.StopIteration;k=Opal.const_get_qualified(Opal.Asciidoctor,"Timings",!0);Opal.Asciidoctor.Timings=k;k.create=function(){return this.$new()};k.prototype.printReport=function(a,b){if(a)if("function"===typeof a.$add)var c=function(b){a.$add(1,b)};else if("function"===typeof a.log)c=a.log;else if("function"===typeof a.write)c=function(b){a.write(b,"utf-8")};else throw Error("The output should be a Stream (with a write function), an object with a log function or a Ruby Logger (with a add function)");
else c=function(a){Opal.gvars.stdout.$write(a)};b&&c("Input file: "+b);c(" Time to read and parse source: "+this.$read_parse().toFixed(2));c(" Time to convert document: "+this.$convert().toFixed(2));c(" Total time (read, parse and convert): "+this.$read_parse_convert().toFixed(2))};var x=Opal.const_get_qualified(Opal.Asciidoctor,"SyntaxHighlighter",!0);Opal.Asciidoctor.SyntaxHighlighter=x;x.register=function(a,b){var c="string"===typeof a?a:a[0];if("function"===typeof b){var k=b.prototype,n=Object.getOwnPropertyNames(k);
b={};for(var q in n){var h=n[q];b[h]=k[h]}}var d=r(l,c,b,{},{format:function(a){2<=a.length&&"object"===typeof a[2]&&"$$smap"in a[2]&&(a[2]=g(a[2]));1<=a.length&&(a[1]=a[1]===Opal.nil?void 0:a[1]);return a},highlight:function(a){if(3<=a.length&&"object"===typeof a[3]&&"$$smap"in a[3]){var b=a[3];b=g(b);for(var c in b){var d=b[c];if("callouts"===c){var e=void 0;var f={};if(d)for(e in d=d.$$keys,d){var h=d[e].value;f[e.toString()]=h===Opal.nil?void 0:h}e=f;for(var k in e)for(f=e[k],d=0;d<f.length;d++){h=
f[d];for(var l=0;l<h.length;l++)h[l]=h[l]===Opal.nil?void 0:h[l]}b[c]=e}else b[c]=d===Opal.nil?void 0:d}a[3]=b}2<=a.length&&(a[2]=a[2]===Opal.nil?void 0:a[2]);return a}}),t;for(t in b)Object.prototype.hasOwnProperty.call(b,t)&&function(a){var c=b[a];"handlesHighlighting"===a?Opal.def(d,"$highlight?",function(){return c.call()}):"hasDocinfo"===a&&Opal.def(d,"$docinfo?",function(a){return c.apply(this,[a])})}(t);Opal.def(d,"$name",function(){return c});x.$register(d,a);return d};x.get=function(a){a=
x.$for(a);return a===Opal.nil?void 0:a};x.for=x.get;var l=Opal.const_get_qualified(x,"Base",!0);Opal.Asciidoctor.SyntaxHighlighterBase=l;l.prototype.registerFor=function(a){x.$register(this,a)};k=Opal.Asciidoctor.Table;k.create=function(a,b){return this.$new(a,n(b))};k.prototype.getCaption=function(){return this.caption};k.prototype.getRows=function(){return this.rows};k.prototype.getColumns=function(){return this.columns};k.prototype.getHeadRows=function(){return this.rows.head};k.prototype.hasHeadRows=
function(){return this.rows!==Opal.nil&&0<this.rows.head.length};k.prototype.getBodyRows=function(){return this.rows.body};k.prototype.hasBodyRows=function(){return this.rows!==Opal.nil&&0<this.rows.body.length};k.prototype.getFootRows=function(){return this.rows.foot};k.prototype.hasFootRows=function(){return this.rows!==Opal.nil&&0<this.rows.foot.length};k.prototype.hasHeaderOption=function(){return this.has_header_option};k.prototype.hasFooterOption=function(){return""===this.getAttributes()["footer-option"]};
k.prototype.hasAutowidthOption=function(){return""===this.getAttributes()["autowidth-option"]};k.prototype.getRowCount=function(){return this.getAttribute("rowcount")};k.prototype.setRowCount=function(a){this.setAttribute("rowcount",a)};k.prototype.getColumnCount=function(){return this.getAttribute("colcount")};k.prototype.setColumnCount=function(a){this.setAttribute("colcount",a)};k=Opal.Asciidoctor.Table.Rows;k.create=function(a,b,g){return this.$new(a,b,g)};k.prototype.getHead=function(){return this.head};
k.prototype.getFoot=function(){return this.foot};k.prototype.getBody=function(){return this.body};k.prototype.bySection=function(){return[["head",this.head],["body",this.body],["foot",this.foot]]};k=Opal.Asciidoctor.Table.Column;k.create=function(a,b,g){return this.$new(a,b,n(g))};k.prototype.getColumnNumber=function(){return this.getAttribute("colnumber")};k.prototype.getWidth=function(){return this.getAttribute("width")};k.prototype.getHorizontalAlign=function(){return this.getAttribute("halign")};
k.prototype.getVerticalAlign=function(){return this.getAttribute("valign")};k.prototype.getStyle=function(){var a=this.style;return a===Opal.nil?void 0:a};k=Opal.Asciidoctor.Table.Cell;k.create=function(a,b,g,k){return this.$new(a,b,n(g),n(k))};k.prototype.getColumnSpan=function(){var a=this.colspan;return a===Opal.nil?void 0:a};k.prototype.setColumnSpan=function(a){return this["$colspan="](a)};k.prototype.getRowSpan=function(){var a=this.rowspan;return a===Opal.nil?void 0:a};k.prototype.setRowSpan=
function(a){return this["$rowspan="](a)};k.prototype.getContent=function(){return this.$content()};k.prototype.getText=function(){return this.$text()};k.prototype.getSource=function(){return this.$source()};k.prototype.getLines=function(){return this.$lines()};k.prototype.getLineNumber=function(){var a=this.$lineno();return a===Opal.nil?void 0:a};k.prototype.getFile=function(){var a=this.$file();return a===Opal.nil?void 0:a};k.prototype.getStyle=function(){var a=this.$style();return a===Opal.nil?
void 0:a};k.prototype.getColumn=function(){var a=this.$column();return a===Opal.nil?void 0:a};k.prototype.getWidth=function(){return this.getAttribute("width")};k.prototype.getColumnPercentageWidth=function(){return this.getAttribute("colpcwidth")};k.prototype.getInnerDocument=function(){var a=this.inner_document;return a===Opal.nil?void 0:a};if(k=Opal.Asciidoctor.Converter.TemplateConverter)Opal.Asciidoctor.TemplateConverter=k,k.create=function(a,b,g){g&&g.template_cache&&(g.template_cache=n(g.template_cache));
this.$new(a,b,n(g))},k.getCache=function(){var a=g(this.caches);if(a){if(a.scans){a.scans=g(a.scans);for(var b in a.scans)a.scans[b]=g(a.scans[b])}a.templates&&(a.templates=g(a.templates))}return a},k.clearCache=function(){this.$clear_caches()},k.prototype.convert=function(a,b,g){return this.$convert(a,b,n(g))},k.prototype.handles=function(a){return this["$handles?"](a)},k.prototype.getTemplates=function(){return g(this.$templates())},k.prototype.register=function(a,b){return this.$register(a,b)},
k={registry:{}},Opal.Asciidoctor.TemplateEngine=k,k.register=function(a,b){if("string"===typeof a)this.registry[a]=b;else for(var c=0;c<a.length;c++)this.registry[a[c]]=b};var la=function(a){a.$$arity=a.length;return a},P=function(a,b,g,k){return"object"===typeof g||g.$$is_class?a["$"+b](g,k):Opal.send(a,b,k&&[k],la(g))},D=Opal.const_get_qualified(Opal.Asciidoctor,"Extensions");Opal.Asciidoctor.Extensions=D;D.create=function(a,b){return"function"===typeof a&&"undefined"===typeof b?Opal.send(this,
"create",null,la(a)):"function"===typeof b?Opal.send(this,"create",[a],la(b)):this.$create()};D.register=function(a,b){return"function"===typeof a&&"undefined"===typeof b?Opal.send(this,"register",null,la(a)):Opal.send(this,"register",[a],la(b))};D.getGroups=function(){return g(this.$groups())};D.unregisterAll=function(){this.$unregister_all()};D.unregister=function(){for(var a=Array.prototype.concat.apply([],arguments),b=this.$groups(),g={},k=0,l=b.$$keys;k<l.length;k++){var n=l[k];g[n.toString()]=
n}for(k=0;k<a.length;k++)l=a[k],l in g&&Opal.hash_delete(b,g[l])};k=D.Registry;k.prototype.getGroups=D.getGroups;k.prototype.unregisterAll=function(){this.groups=Opal.hash()};k.prototype.unregister=D.unregister;k.prototype.prefer=function(a,b){1===arguments.length&&(b=a,a=null);return"object"===typeof b||b.$$is_class?this.$prefer(a,b):Opal.send(this,"prefer",a&&[a],la(b))};k.prototype.block=function(a,b){1===arguments.length&&(b=a,a=null);return P(this,"block",b,a)};k.prototype.inlineMacro=function(a,
b){1===arguments.length&&(b=a,a=null);return P(this,"inline_macro",b,a)};k.prototype.includeProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return P(this,"include_processor",b,a)};k.prototype.blockMacro=function(a,b){1===arguments.length&&(b=a,a=null);return P(this,"block_macro",b,a)};k.prototype.treeProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return P(this,"tree_processor",b,a)};k.prototype.postprocessor=function(a,b){1===arguments.length&&(b=a,a=null);return P(this,"postprocessor",
b,a)};k.prototype.preprocessor=function(a,b){1===arguments.length&&(b=a,a=null);return P(this,"preprocessor",b,a)};k.prototype.docinfoProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return P(this,"docinfo_processor",b,a)};k.prototype.hasPreprocessors=function(){return this["$preprocessors?"]()};k.prototype.hasTreeProcessors=function(){return this["$tree_processors?"]()};k.prototype.hasIncludeProcessors=function(){return this["$include_processors?"]()};k.prototype.hasPostprocessors=function(){return this["$postprocessors?"]()};
k.prototype.hasDocinfoProcessors=function(a){return this["$docinfo_processors?"](a)};k.prototype.hasBlocks=function(){return this["$blocks?"]()};k.prototype.hasBlockMacros=function(){return this["$block_macros?"]()};k.prototype.hasInlineMacros=function(){return this["$inline_macros?"]()};k.prototype.getPreprocessors=function(){return this.$preprocessors()};k.prototype.getTreeProcessors=function(){return this.$tree_processors()};k.prototype.getIncludeProcessors=function(){return this.$include_processors()};
k.prototype.getPostprocessors=function(){return this.$postprocessors()};k.prototype.getDocinfoProcessors=function(a){return this.$docinfo_processors(a)};k.prototype.getBlocks=function(){return this.block_extensions.$values()};k.prototype.getBlockMacros=function(){return this.block_macro_extensions.$values()};k.prototype.getInlineMacros=function(){return this.$inline_macros()};k.prototype.getInlineMacroFor=function(a){a=this["$registered_for_inline_macro?"](a);return!1===a?void 0:a};k.prototype.getBlockFor=
function(a,b){if("undefined"===typeof b)return a=this.$find_block_extension(a),a===Opal.nil?void 0:a;a=this["$registered_for_block?"](a,b);return!1===a?void 0:a};k.prototype.getBlockMacroFor=function(a){a=this["$registered_for_block_macro?"](a);return!1===a?void 0:a};k=D.Processor;k.prototype.prepend=function(){this.$option("position",">>")};k.prototype.process=function(a){a=new Proxy(a,{apply:function(a,b,k){for(var c=0;c<k.length;c++)"object"===typeof k[c]&&"$$smap"in k[c]&&(k[c]=g(k[c]));return a.apply(b,
k)}});return Opal.send(this,"process",null,la(a))};k.prototype.named=function(a){return this.$named(a)};k.prototype.createBlock=function(a,b,g,k,l){return this.$create_block(a,b,g,n(k),n(l))};k.prototype.createList=function(a,b,g){return this.$create_list(a,b,n(g))};k.prototype.createListItem=function(a,b){return this.$create_list_item(a,b)};k.prototype.createImageBlock=function(a,b,g){return this.$create_image_block(a,n(b),n(g))};k.prototype.createParagraph=function(a,b,g,k){return this.$create_paragraph(a,
b,n(g),n(k))};k.prototype.createOpenBlock=function(a,b,g,k){return this.$create_open_block(a,b,n(g),n(k))};k.prototype.createExampleBlock=function(a,b,g,k){return this.$create_example_block(a,b,n(g),n(k))};k.prototype.createPassBlock=function(a,b,g,k){return this.$create_pass_block(a,b,n(g),n(k))};k.prototype.createListingBlock=function(a,b,g,k){return this.$create_listing_block(a,b,n(g),n(k))};k.prototype.createLiteralBlock=function(a,b,g,k){return this.$create_literal_block(a,b,n(g),n(k))};k.prototype.createAnchor=
function(a,b,g){g&&g.attributes&&(g.attributes=n(g.attributes));return this.$create_anchor(a,b,n(g))};k.prototype.createInlinePass=function(a,b,g){g&&g.attributes&&(g.attributes=n(g.attributes));return this.$create_inline_pass(a,b,n(g))};k.prototype.createInline=function(a,b,g,k){k&&k.attributes&&(k.attributes=n(k.attributes));return this.$create_inline(a,b,g,n(k))};k.prototype.parseContent=function(a,b,g){return this.$parse_content(a,b,g)};k.prototype.parseAttributes=function(a,b,k){k&&k.attributes&&
(k.attributes=n(k.attributes));return g(this.$parse_attributes(a,b,n(k)))};k.prototype.positionalAttributes=function(a){return this.$positional_attrs(a)};k.prototype.resolveAttributes=function(a){return"object"!==typeof a||Array.isArray(a)?1<arguments.length?this.$resolves_attributes(Array.prototype.slice.call(arguments)):"undefined"===typeof a?this.$resolves_attributes(Opal.nil):this.$resolves_attributes(a):this.$resolves_attributes(n(a))};k.prototype.resolvesAttributes=k.prototype.resolveAttributes;
k.prototype.getConfig=function(){return g(this.config)};k.prototype.option=function(a,b){this.$option(a,b)};k=D.BlockProcessor;k.prototype.defaultAttributes=function(a){this.$default_attributes(n(a))};k.prototype.onContext=function(a){return this.$on_context(a)};k.prototype.onContexts=function(a){return this.$on_contexts(Array.prototype.slice.call(arguments))};k.prototype.getName=function(){var a=this.name;return a===Opal.nil?void 0:a};k.prototype.parseContentAs=function(a){this.$parse_content_as(a)};
k=D.BlockMacroProcessor;k.prototype.defaultAttributes=function(a){this.$default_attributes(n(a))};k.prototype.getName=function(){var a=this.name;return a===Opal.nil?void 0:a};k.prototype.parseContentAs=function(a){this.$parse_content_as(a)};k=D.InlineMacroProcessor;k.prototype.defaultAttributes=function(a){this.$default_attributes(n(a))};k.prototype.getName=function(){var a=this.name;return a===Opal.nil?void 0:a};k.prototype.parseContentAs=function(a){this.$parse_content_as(a)};k.prototype.matchFormat=
function(a){this.$match_format(a)};k.prototype.match=function(a){this.$match(a)};k=D.IncludeProcessor;k.prototype.handles=function(a){return Opal.send(this,"handles?",null,la(a))};k.prototype.prefer=function(){this.$prefer()};D.TreeProcessor.prototype.prefer=function(){this.$prefer()};D.Postprocessor.prototype.prefer=function(){this.$prefer()};D.Preprocessor.prototype.prefer=function(){this.$prefer()};k=D.DocinfoProcessor;k.prototype.prefer=function(){this.$prefer()};k.prototype.atLocation=function(a){this.$at_location(a)};
D.createPostprocessor=function(a,b){1===arguments.length&&(b=a,a=null);return u("Postprocessor",a,b)};D.newPostprocessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createPostprocessor(a,b).$new()};D.createPreprocessor=function(a,b){1===arguments.length&&(b=a,a=null);return u("Preprocessor",a,b)};D.newPreprocessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createPreprocessor(a,b).$new()};D.createTreeProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return u("TreeProcessor",
a,b)};D.newTreeProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createTreeProcessor(a,b).$new()};D.createIncludeProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return u("IncludeProcessor",a,b)};D.newIncludeProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createIncludeProcessor(a,b).$new()};D.createDocinfoProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return u("DocinfoProcessor",a,b)};D.newDocinfoProcessor=function(a,b){1===arguments.length&&
(b=a,a=null);return this.createDocinfoProcessor(a,b).$new()};D.createBlockProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return u("BlockProcessor",a,b)};D.newBlockProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createBlockProcessor(a,b).$new()};D.createInlineMacroProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return u("InlineMacroProcessor",a,b)};D.newInlineMacroProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createInlineMacroProcessor(a,
b).$new()};D.createBlockMacroProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return u("BlockMacroProcessor",a,b)};D.newBlockMacroProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createBlockMacroProcessor(a,b).$new()};var I=Opal.const_get_qualified(Opal.Asciidoctor,"Converter");Opal.Asciidoctor.Converter=I;I.prototype.convert=function(a,b,g){return this.$convert(a,b,n(g))};I.create=function(a,b){return this.$create(a,n(b))};k=Opal.Asciidoctor.Converter.Factory;var ea=
Opal.Asciidoctor.Converter.Base;Opal.Asciidoctor.ConverterFactory=k;var Y=Opal.Asciidoctor.Converter.BackendTraits;Opal.Asciidoctor.ConverterBackendTraits=Y;k.register=function(a,b){var c=function(a,b){if(a.backend_traits)b.backend_traits=n(a.backend_traits);else if(a.backendTraits)b.backend_traits=n(a.backendTraits);else if(a.basebackend||a.outfilesuffix||a.filetype||a.htmlsyntax||a.supports_templates)b.backend_traits=n(Object.assign({},a.basebackend?{basebackend:a.basebackend}:{},a.outfilesuffix?
{outfilesuffix:a.outfilesuffix}:{},a.filetype?{filetype:a.filetype}:{},a.htmlsyntax?{htmlsyntax:a.htmlsyntax}:{},a.supports_templates?{supports_templates:a.supports_templates}:{}))},g=function(a,b){k(a,b,"$handles?","handles",function(){return!0})},k=function(a,b,c,d,g){"undefined"===typeof a[c]&&("function"===typeof a[d]?b[c]=a[d]:g&&(b[c]=g))},l=function(a){"function"!==typeof a["$respond_to?"]&&(a["$respond_to?"]=function(a){return"function"===typeof this[a]})};if("function"===typeof a){var h=
r(ea,a.constructor.name,{initialize:function(b,d){var h=new a(b,d);Object.assign(this,h);c(h,this);for(var n=Object.getOwnPropertyNames(a.prototype),m=0;m<n.length;m++){var e=n[m];"constructor"!==e&&(this[e]=h[e])}"undefined"===typeof h.$convert&&"function"===typeof h.convert&&(this.$convert=h.convert);g(h,this);k(h,this,"$composed","composed");l(this);this.super(b,d)}});h.$extend(Y)}else if("object"===typeof a){"undefined"===typeof a.$convert&&"function"===typeof a.convert&&(a.$convert=a.convert);
c(a,a);if(a.backend_traits){h=$jscomp.makeIterator("basebackend filetype htmlsyntax outfilesuffix supports_templates supports_templates? init_backend_traits backend_traits".split(" "));for(var d=h.next();!d.done;d=h.next())d=d.value,a["$"+d]=Y.prototype["$"+d];a.$$meta=Y}g(a,a);k(a,a,"$composed","composed");l(a);h=a}b=[h].concat(b);return I.$register.apply(I,b)};k.getDefault=function(a){return this.$default(a)};k.prototype.create=function(a,b){return this.$create(a,n(b))};k.getRegistry=function(){return g(I.$registry())};
k.for=function(a){a=I.$for(a);return a===Opal.nil?void 0:a};k.unregisterAll=function(){I.DefaultFactory.$$cvars["@@registry"]=n({html5:I.DefaultFactory.$$cvars["@@registry"]["$[]"]("html5")})};k=Opal.Asciidoctor.Converter.Html5Converter;Opal.Asciidoctor.Html5Converter=k;k.create=function(){return this.$new()};k.prototype.convert=function(a,b,g){return this.$convert(a,b,g)};Opal.Asciidoctor.prototype.getVersion=function(){return"2.2.4-rc.1"};return Opal.Asciidoctor});
